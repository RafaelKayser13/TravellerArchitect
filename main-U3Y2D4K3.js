import{C as vt,Ca as Gi,H as _t,I as X,Ia as qi,J as Uf,M as El,N as Hf,P as $f,Qa as oi,Sb as Sl,Tb as Lt,V as pe,Xb as zr,Y as zf,Z as mn,Zb as Qt,aa as Gf,b as $i,ba,da as qf,fb as $r,h as Bf,i as zi,ib as hn,lb as xa,n as ze,o as Ve,pa as Nt}from"./chunk-CWEWLMB5.js";import{c as Wf,f as Yf,g as Kf}from"./chunk-SS2D4IL2.js";import{a as E,b as A}from"./chunk-2NFLSA4Y.js";var Ge=null,Ma=!1,Il=1,K_=null,Je=Symbol("SIGNAL");function H(n){let t=Ge;return Ge=n,t}function Ea(){return Ge}var Wi={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Gr(n){if(Ma)throw new Error("");if(Ge===null)return;Ge.consumerOnSignalRead(n);let t=Ge.producersTail;if(t!==void 0&&t.producer===n)return;let e,i=Ge.recomputing;if(i&&(e=t!==void 0?t.nextProducer:Ge.producers,e!==void 0&&e.producer===n)){Ge.producersTail=e,e.lastReadVersion=n.version;return}let r=n.consumersTail;if(r!==void 0&&r.consumer===Ge&&(!i||Q_(r,Ge)))return;let o=Ki(Ge),a={producer:n,consumer:Ge,nextProducer:e,prevConsumer:r,lastReadVersion:n.version,nextConsumer:void 0};Ge.producersTail=a,t!==void 0?t.nextProducer=a:Ge.producers=a,o&&Xf(n,a)}function Jf(){Il++}function Tl(n){if(!(Ki(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Il)){if(!n.producerMustRecompute(n)&&!Wr(n)){Dl(n);return}n.producerRecomputeValue(n),Dl(n)}}function kl(n){if(n.consumers===void 0)return;let t=Ma;Ma=!0;try{for(let e=n.consumers;e!==void 0;e=e.nextConsumer){let i=e.consumer;i.dirty||J_(i)}}finally{Ma=t}}function Al(){return Ge?.consumerAllowSignalWrites!==!1}function J_(n){n.dirty=!0,kl(n),n.consumerMarkedDirty?.(n)}function Dl(n){n.dirty=!1,n.lastCleanEpoch=Il}function Yi(n){return n&&Qf(n),H(n)}function Qf(n){n.producersTail=void 0,n.recomputing=!0}function qr(n,t){H(t),n&&Zf(n)}function Zf(n){n.recomputing=!1;let t=n.producersTail,e=t!==void 0?t.nextProducer:n.producers;if(e!==void 0){if(Ki(n))do e=Rl(e);while(e!==void 0);t!==void 0?t.nextProducer=void 0:n.producers=void 0}}function Wr(n){for(let t=n.producers;t!==void 0;t=t.nextProducer){let e=t.producer,i=t.lastReadVersion;if(i!==e.version||(Tl(e),i!==e.version))return!0}return!1}function ai(n){if(Ki(n)){let t=n.producers;for(;t!==void 0;)t=Rl(t)}n.producers=void 0,n.producersTail=void 0,n.consumers=void 0,n.consumersTail=void 0}function Xf(n,t){let e=n.consumersTail,i=Ki(n);if(e!==void 0?(t.nextConsumer=e.nextConsumer,e.nextConsumer=t):(t.nextConsumer=void 0,n.consumers=t),t.prevConsumer=e,n.consumersTail=t,!i)for(let r=n.producers;r!==void 0;r=r.nextProducer)Xf(r.producer,r)}function Rl(n){let t=n.producer,e=n.nextProducer,i=n.nextConsumer,r=n.prevConsumer;if(n.nextConsumer=void 0,n.prevConsumer=void 0,i!==void 0?i.prevConsumer=r:t.consumersTail=r,r!==void 0)r.nextConsumer=i;else if(t.consumers=i,!Ki(t)){let o=t.producers;for(;o!==void 0;)o=Rl(o)}return e}function Ki(n){return n.consumerIsAlwaysLive||n.consumers!==void 0}function Nl(n){K_?.(n)}function Q_(n,t){let e=t.producersTail;if(e!==void 0){let i=t.producers;do{if(i===n)return!0;if(i===e)break;i=i.nextProducer}while(i!==void 0)}return!1}function Ll(n,t){return Object.is(n,t)}function Sa(n,t){let e=Object.create(Z_);e.computation=n,t!==void 0&&(e.equal=t);let i=()=>{if(Tl(e),Gr(e),e.value===Oa)throw e.error;return e.value};return i[Je]=e,Nl(e),i}var Pl=Symbol("UNSET"),wl=Symbol("COMPUTING"),Oa=Symbol("ERRORED"),Z_=A(E({},Wi),{value:Pl,dirty:!0,error:null,equal:Ll,kind:"computed",producerMustRecompute(n){return n.value===Pl||n.value===wl},producerRecomputeValue(n){if(n.value===wl)throw new Error("");let t=n.value;n.value=wl;let e=Yi(n),i,r=!1;try{i=n.computation(),H(null),r=t!==Pl&&t!==Oa&&i!==Oa&&n.equal(t,i)}catch(o){i=Oa,n.error=o}finally{qr(n,e)}if(r){n.value=t;return}n.value=i,n.version++}});function X_(){throw new Error}var eg=X_;function tg(n){eg(n)}function Fl(n){eg=n}var eC=null;function Vl(n,t){let e=Object.create(Pa);e.value=n,t!==void 0&&(e.equal=t);let i=()=>ng(e);return i[Je]=e,Nl(e),[i,a=>Yr(e,a),a=>ig(e,a)]}function ng(n){return Gr(n),n.value}function Yr(n,t){Al()||tg(n),n.equal(n.value,t)||(n.value=t,tC(n))}function ig(n,t){Al()||tg(n),Yr(n,t(n.value))}var Pa=A(E({},Wi),{equal:Ll,value:void 0,kind:"signal"});function tC(n){n.version++,Jf(),kl(n),eC?.(n)}function jl(n){let t=H(null);try{return n()}finally{H(t)}}var Bl=A(E({},Wi),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,kind:"effect"});function Ul(n){if(n.dirty=!1,n.version>0&&!Wr(n))return;n.version++;let t=Yi(n);try{n.cleanup(),n.fn()}finally{qr(n,t)}}var Hl;function wa(){return Hl}function Zt(n){let t=Hl;return Hl=n,t}var rg=Symbol("NotFound");function Ji(n){return n===rg||n?.name==="\u0275NotFound"}var Na="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",F=class extends Error{code;constructor(t,e){super(ui(t,e)),this.code=t}};function nC(n){return`NG0${Math.abs(n)}`}function ui(n,t){return`${nC(n)}${t?": "+t:""}`}var yn=globalThis;function se(n){for(let t in n)if(n[t]===se)return t;throw Error("")}function lg(n,t){for(let e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function _n(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(_n).join(", ")}]`;if(n==null)return""+n;let t=n.overriddenName||n.name;if(t)return`${t}`;let e=n.toString();if(e==null)return""+e;let i=e.indexOf(`
`);return i>=0?e.slice(0,i):e}function La(n,t){return n?t?`${n} ${t}`:n:t||""}var iC=se({__forward_ref__:se});function Ct(n){return n.__forward_ref__=Ct,n.toString=function(){return _n(this())},n}function je(n){return td(n)?n():n}function td(n){return typeof n=="function"&&n.hasOwnProperty(iC)&&n.__forward_ref__===Ct}function k(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Ft(n){return{providers:n.providers||[],imports:n.imports||[]}}function to(n){return rC(n,Fa)}function nd(n){return to(n)!==null}function rC(n,t){return n.hasOwnProperty(t)&&n[t]||null}function oC(n){let t=n?.[Fa]??null;return t||null}function zl(n){return n&&n.hasOwnProperty(Ia)?n[Ia]:null}var Fa=se({\u0275prov:se}),Ia=se({\u0275inj:se}),j=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,e){this._desc=t,this.\u0275prov=void 0,typeof e=="number"?this.__NG_ELEMENT_ID__=e:e!==void 0&&(this.\u0275prov=k({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function id(n){return n&&!!n.\u0275providers}var rd=se({\u0275cmp:se}),od=se({\u0275dir:se}),ad=se({\u0275pipe:se}),sd=se({\u0275mod:se}),Jr=se({\u0275fac:se}),pi=se({__NG_ELEMENT_ID__:se}),og=se({__NG_ENV_ID__:se});function cd(n){return Va(n,"@NgModule"),n[sd]||null}function jn(n){return Va(n,"@Component"),n[rd]||null}function ld(n){return Va(n,"@Directive"),n[od]||null}function dg(n){return Va(n,"@Pipe"),n[ad]||null}function Va(n,t){if(n==null)throw new F(-919,!1)}function bn(n){return typeof n=="string"?n:n==null?"":String(n)}var ug=se({ngErrorCode:se}),aC=se({ngErrorMessage:se}),sC=se({ngTokenPath:se});function dd(n,t){return pg("",-200,t)}function ja(n,t){throw new F(-201,!1)}function pg(n,t,e){let i=new F(t,n);return i[ug]=t,i[aC]=n,e&&(i[sC]=e),i}function cC(n){return n[ug]}var Gl;function fg(){return Gl}function Qe(n){let t=Gl;return Gl=n,t}function ud(n,t,e){let i=to(n);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(e&8)return null;if(t!==void 0)return t;ja(n,"")}var lC={},si=lC,dC="__NG_DI_FLAG__",ql=class{injector;constructor(t){this.injector=t}retrieve(t,e){let i=ci(e)||0;try{return this.injector.get(t,i&8?null:si,i)}catch(r){if(Ji(r))return r;throw r}}};function uC(n,t=0){let e=wa();if(e===void 0)throw new F(-203,!1);if(e===null)return ud(n,void 0,t);{let i=pC(t),r=e.retrieve(n,i);if(Ji(r)){if(i.optional)return null;throw r}return r}}function B(n,t=0){return(fg()||uC)(je(n),t)}function C(n,t){return B(n,ci(t))}function ci(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function pC(n){return{optional:!!(n&8),host:!!(n&1),self:!!(n&2),skipSelf:!!(n&4)}}function Wl(n){let t=[];for(let e=0;e<n.length;e++){let i=je(n[e]);if(Array.isArray(i)){if(i.length===0)throw new F(900,!1);let r,o=0;for(let a=0;a<i.length;a++){let l=i[a],u=fC(l);typeof u=="number"?u===-1?r=l.token:o|=u:r=l}t.push(B(r,o))}else t.push(B(i))}return t}function fC(n){return n[dC]}function Ln(n,t){let e=n.hasOwnProperty(Jr);return e?n[Jr]:null}function gg(n,t,e){if(n.length!==t.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],o=t[i];if(e&&(r=e(r),o=e(o)),o!==r)return!1}return!0}function mg(n){return n.flat(Number.POSITIVE_INFINITY)}function Ba(n,t){n.forEach(e=>Array.isArray(e)?Ba(e,t):t(e))}function pd(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function no(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function hg(n,t){let e=[];for(let i=0;i<n;i++)e.push(t);return e}function vg(n,t,e,i){let r=n.length;if(r==t)n.push(e,i);else if(r===1)n.push(i,n[0]),n[0]=e;else{for(r--,n.push(n[r-1],n[r]);r>t;){let o=r-2;n[r]=n[o],r--}n[t]=e,n[t+1]=i}}function Ua(n,t,e){let i=Zi(n,t);return i>=0?n[i|1]=e:(i=~i,vg(n,i,t,e)),i}function Ha(n,t){let e=Zi(n,t);if(e>=0)return n[e|1]}function Zi(n,t){return gC(n,t,1)}function gC(n,t,e){let i=0,r=n.length>>e;for(;r!==i;){let o=i+(r-i>>1),a=n[o<<e];if(t===a)return o<<e;a>t?r=o:i=o+1}return~(r<<e)}var Bn={},Ze=[],fi=new j(""),fd=new j("",-1),gd=new j(""),Qr=class{get(t,e=si){if(e===si){let r=pg("",-201);throw r.name="\u0275NotFound",r}return e}};function Un(n){return{\u0275providers:n}}function _g(n){return Un([{provide:fi,multi:!0,useValue:n}])}function Cg(...n){return{\u0275providers:md(!0,n),\u0275fromNgModule:!0}}function md(n,...t){let e=[],i=new Set,r,o=a=>{e.push(a)};return Ba(t,a=>{let l=a;Ta(l,o,[],i)&&(r||=[],r.push(l))}),r!==void 0&&yg(r,o),e}function yg(n,t){for(let e=0;e<n.length;e++){let{ngModule:i,providers:r}=n[e];hd(r,o=>{t(o,i)})}}function Ta(n,t,e,i){if(n=je(n),!n)return!1;let r=null,o=zl(n),a=!o&&jn(n);if(!o&&!a){let u=n.ngModule;if(o=zl(u),o)r=u;else return!1}else{if(a&&!a.standalone)return!1;r=n}let l=i.has(r);if(a){if(l)return!1;if(i.add(r),a.dependencies){let u=typeof a.dependencies=="function"?a.dependencies():a.dependencies;for(let f of u)Ta(f,t,e,i)}}else if(o){if(o.imports!=null&&!l){i.add(r);let f;Ba(o.imports,g=>{Ta(g,t,e,i)&&(f||=[],f.push(g))}),f!==void 0&&yg(f,t)}if(!l){let f=Ln(r)||(()=>new r);t({provide:r,useFactory:f,deps:Ze},r),t({provide:gd,useValue:r,multi:!0},r),t({provide:fi,useValue:()=>B(r),multi:!0},r)}let u=o.providers;if(u!=null&&!l){let f=n;hd(u,g=>{t(g,f)})}}else return!1;return r!==n&&n.providers!==void 0}function hd(n,t){for(let e of n)id(e)&&(e=e.\u0275providers),Array.isArray(e)?hd(e,t):t(e)}var mC=se({provide:String,useValue:se});function bg(n){return n!==null&&typeof n=="object"&&mC in n}function hC(n){return!!(n&&n.useExisting)}function vC(n){return!!(n&&n.useFactory)}function li(n){return typeof n=="function"}function xg(n){return!!n.useClass}var io=new j(""),Da={},ag={},$l;function ro(){return $l===void 0&&($l=new Qr),$l}var Ce=class{},di=class extends Ce{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,e,i,r){super(),this.parent=e,this.source=i,this.scopes=r,Kl(t,a=>this.processProvider(a)),this.records.set(fd,Qi(void 0,this)),r.has("environment")&&this.records.set(Ce,Qi(void 0,this));let o=this.records.get(io);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(gd,Ze,{self:!0}))}retrieve(t,e){let i=ci(e)||0;try{return this.get(t,si,i)}catch(r){if(Ji(r))return r;throw r}}destroy(){Kr(this),this._destroyed=!0;let t=H(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of e)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),H(t)}}onDestroy(t){return Kr(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){Kr(this);let e=Zt(this),i=Qe(void 0),r;try{return t()}finally{Zt(e),Qe(i)}}get(t,e=si,i){if(Kr(this),t.hasOwnProperty(og))return t[og](this);let r=ci(i),o,a=Zt(this),l=Qe(void 0);try{if(!(r&4)){let f=this.records.get(t);if(f===void 0){let g=xC(t)&&to(t);g&&this.injectableDefInScope(g)?f=Qi(Yl(t),Da):f=null,this.records.set(t,f)}if(f!=null)return this.hydrate(t,f,r)}let u=r&2?ro():this.parent;return e=r&8&&e===si?null:e,u.get(t,e)}catch(u){let f=cC(u);throw f===-200||f===-201?new F(f,null):u}finally{Qe(l),Zt(a)}}resolveInjectorInitializers(){let t=H(null),e=Zt(this),i=Qe(void 0),r;try{let o=this.get(fi,Ze,{self:!0});for(let a of o)a()}finally{Zt(e),Qe(i),H(t)}}toString(){let t=[],e=this.records;for(let i of e.keys())t.push(_n(i));return`R3Injector[${t.join(", ")}]`}processProvider(t){t=je(t);let e=li(t)?t:je(t&&t.provide),i=CC(t);if(!li(t)&&t.multi===!0){let r=this.records.get(e);r||(r=Qi(void 0,Da,!0),r.factory=()=>Wl(r.multi),this.records.set(e,r)),e=t,r.multi.push(t)}this.records.set(e,i)}hydrate(t,e,i){let r=H(null);try{if(e.value===ag)throw dd(_n(t));return e.value===Da&&(e.value=ag,e.value=e.factory(void 0,i)),typeof e.value=="object"&&e.value&&bC(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}finally{H(r)}}injectableDefInScope(t){if(!t.providedIn)return!1;let e=je(t.providedIn);return typeof e=="string"?e==="any"||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(t){let e=this._onDestroyHooks.indexOf(t);e!==-1&&this._onDestroyHooks.splice(e,1)}};function Yl(n){let t=to(n),e=t!==null?t.factory:Ln(n);if(e!==null)return e;if(n instanceof j)throw new F(204,!1);if(n instanceof Function)return _C(n);throw new F(204,!1)}function _C(n){if(n.length>0)throw new F(204,!1);let e=oC(n);return e!==null?()=>e.factory(n):()=>new n}function CC(n){if(bg(n))return Qi(void 0,n.useValue);{let t=vd(n);return Qi(t,Da)}}function vd(n,t,e){let i;if(li(n)){let r=je(n);return Ln(r)||Yl(r)}else if(bg(n))i=()=>je(n.useValue);else if(vC(n))i=()=>n.useFactory(...Wl(n.deps||[]));else if(hC(n))i=(r,o)=>B(je(n.useExisting),o!==void 0&&o&8?8:void 0);else{let r=je(n&&(n.useClass||n.provide));if(yC(n))i=()=>new r(...Wl(n.deps));else return Ln(r)||Yl(r)}return i}function Kr(n){if(n.destroyed)throw new F(205,!1)}function Qi(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function yC(n){return!!n.deps}function bC(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function xC(n){return typeof n=="function"||typeof n=="object"&&n.ngMetadataName==="InjectionToken"}function Kl(n,t){for(let e of n)Array.isArray(e)?Kl(e,t):e&&id(e)?Kl(e.\u0275providers,t):t(e)}function Ne(n,t){let e;n instanceof di?(Kr(n),e=n):e=new ql(n);let i,r=Zt(e),o=Qe(void 0);try{return t()}finally{Zt(r),Qe(o)}}function Mg(){return fg()!==void 0||wa()!=null}var Vt=0,U=1,q=2,Te=3,yt=4,et=5,gi=6,Xi=7,Se=8,xn=9,en=10,ue=11,er=12,_d=13,mi=14,tt=15,Hn=16,hi=17,tn=18,Mn=19,Cd=20,vn=21,$a=22,Fn=23,ot=24,vi=25,_i=26,fe=27,Og=1,yd=6,$n=7,oo=8,Ci=9,be=10;function nn(n){return Array.isArray(n)&&typeof n[Og]=="object"}function jt(n){return Array.isArray(n)&&n[Og]===!0}function bd(n){return(n.flags&4)!==0}function zn(n){return n.componentOffset>-1}function tr(n){return(n.flags&1)===1}function rn(n){return!!n.template}function nr(n){return(n[q]&512)!==0}function yi(n){return(n[q]&256)===256}var xd="svg",Eg="math";function bt(n){for(;Array.isArray(n);)n=n[Vt];return n}function Md(n,t){return bt(t[n])}function Bt(n,t){return bt(t[n.index])}function ao(n,t){return n.data[t]}function za(n,t){return n[t]}function Od(n,t,e,i){e>=n.data.length&&(n.data[e]=null,n.blueprint[e]=null),t[e]=i}function xt(n,t){let e=t[n];return nn(e)?e:e[Vt]}function Sg(n){return(n[q]&4)===4}function Ga(n){return(n[q]&128)===128}function Pg(n){return jt(n[Te])}function Mt(n,t){return t==null?null:n[t]}function Ed(n){n[hi]=0}function Sd(n){n[q]&1024||(n[q]|=1024,Ga(n)&&bi(n))}function wg(n,t){for(;n>0;)t=t[mi],n--;return t}function so(n){return!!(n[q]&9216||n[ot]?.dirty)}function qa(n){n[en].changeDetectionScheduler?.notify(8),n[q]&64&&(n[q]|=1024),so(n)&&bi(n)}function bi(n){n[en].changeDetectionScheduler?.notify(0);let t=Vn(n);for(;t!==null&&!(t[q]&8192||(t[q]|=8192,!Ga(t)));)t=Vn(t)}function Pd(n,t){if(yi(n))throw new F(911,!1);n[vn]===null&&(n[vn]=[]),n[vn].push(t)}function Dg(n,t){if(n[vn]===null)return;let e=n[vn].indexOf(t);e!==-1&&n[vn].splice(e,1)}function Vn(n){let t=n[Te];return jt(t)?t[Te]:t}function wd(n){return n[Xi]??=[]}function Dd(n){return n.cleanup??=[]}function Ig(n,t,e,i){let r=wd(t);r.push(e),n.firstCreatePass&&Dd(n).push(i,r.length-1)}var J={lFrame:Ug(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Jl=!1;function Tg(){return J.lFrame.elementDepthCount}function kg(){J.lFrame.elementDepthCount++}function Id(){J.lFrame.elementDepthCount--}function Wa(){return J.bindingsEnabled}function Td(){return J.skipHydrationRootTNode!==null}function kd(n){return J.skipHydrationRootTNode===n}function Ad(){J.skipHydrationRootTNode=null}function z(){return J.lFrame.lView}function xe(){return J.lFrame.tView}function S(n){return J.lFrame.contextLView=n,n[Se]}function P(n){return J.lFrame.contextLView=null,n}function Ue(){let n=Rd();for(;n!==null&&n.type===64;)n=n.parent;return n}function Rd(){return J.lFrame.currentTNode}function Ag(){let n=J.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}function ir(n,t){let e=J.lFrame;e.currentTNode=n,e.isParent=t}function Nd(){return J.lFrame.isParent}function Ld(){J.lFrame.isParent=!1}function Rg(){return J.lFrame.contextLView}function Fd(){return Jl}function Zr(n){let t=Jl;return Jl=n,t}function co(){let n=J.lFrame,t=n.bindingRootIndex;return t===-1&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function Vd(){return J.lFrame.bindingIndex}function Ng(n){return J.lFrame.bindingIndex=n}function xi(){return J.lFrame.bindingIndex++}function lo(n){let t=J.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function Lg(){return J.lFrame.inI18n}function Fg(n,t){let e=J.lFrame;e.bindingIndex=e.bindingRootIndex=n,Ya(t)}function Vg(){return J.lFrame.currentDirectiveIndex}function Ya(n){J.lFrame.currentDirectiveIndex=n}function jg(n){let t=J.lFrame.currentDirectiveIndex;return t===-1?null:n[t]}function jd(){return J.lFrame.currentQueryIndex}function Ka(n){J.lFrame.currentQueryIndex=n}function MC(n){let t=n[U];return t.type===2?t.declTNode:t.type===1?n[et]:null}function Bd(n,t,e){if(e&4){let r=t,o=n;for(;r=r.parent,r===null&&!(e&1);)if(r=MC(o),r===null||(o=o[mi],r.type&10))break;if(r===null)return!1;t=r,n=o}let i=J.lFrame=Bg();return i.currentTNode=t,i.lView=n,!0}function Ja(n){let t=Bg(),e=n[U];J.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function Bg(){let n=J.lFrame,t=n===null?null:n.child;return t===null?Ug(n):t}function Ug(n){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=t),t}function Hg(){let n=J.lFrame;return J.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var Ud=Hg;function Qa(){let n=Hg();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function $g(n){return(J.lFrame.contextLView=wg(n,J.lFrame.contextLView))[Se]}function Ut(){return J.lFrame.selectedIndex}function Gn(n){J.lFrame.selectedIndex=n}function Za(){let n=J.lFrame;return ao(n.tView,n.selectedIndex)}function nt(){J.lFrame.currentNamespace=xd}function at(){OC()}function OC(){J.lFrame.currentNamespace=null}function zg(){return J.lFrame.currentNamespace}var Gg=!0;function Xa(){return Gg}function uo(n){Gg=n}function Ql(n,t=null,e=null,i){let r=Hd(n,t,e,i);return r.resolveInjectorInitializers(),r}function Hd(n,t=null,e=null,i,r=new Set){let o=[e||Ze,Cg(n)];return i=i||(typeof n=="object"?void 0:_n(n)),new di(o,t||ro(),i||null,r)}var Xe=class n{static THROW_IF_NOT_FOUND=si;static NULL=new Qr;static create(t,e){if(Array.isArray(t))return Ql({name:""},e,t,"");{let i=t.name??"";return Ql({name:i},t.parent,t.providers,i)}}static \u0275prov=k({token:n,providedIn:"any",factory:()=>B(fd)});static __NG_ELEMENT_ID__=-1},Pe=new j(""),qe=(()=>{class n{static __NG_ELEMENT_ID__=EC;static __NG_ENV_ID__=e=>e}return n})(),ka=class extends qe{_lView;constructor(t){super(),this._lView=t}get destroyed(){return yi(this._lView)}onDestroy(t){let e=this._lView;return Pd(e,t),()=>Dg(e,t)}};function EC(){return new ka(z())}var qg=!1,Wg=new j(""),On=(()=>{class n{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new Ve(!1);debugTaskTracker=C(Wg,{optional:!0});get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new zi(e=>{e.next(!1),e.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let e=this.taskId++;return this.pendingTasks.add(e),this.debugTaskTracker?.add(e),e}has(e){return this.pendingTasks.has(e)}remove(e){this.pendingTasks.delete(e),this.debugTaskTracker?.remove(e),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=k({token:n,providedIn:"root",factory:()=>new n})}return n})(),Zl=class extends ze{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,Mg()&&(this.destroyRef=C(qe,{optional:!0})??void 0,this.pendingTasks=C(On,{optional:!0})??void 0)}emit(t){let e=H(null);try{super.next(t)}finally{H(e)}}subscribe(t,e,i){let r=t,o=e||(()=>null),a=i;if(t&&typeof t=="object"){let u=t;r=u.next?.bind(u),o=u.error?.bind(u),a=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),r&&(r=this.wrapInTimeout(r)),a&&(a=this.wrapInTimeout(a)));let l=super.subscribe({next:r,error:o,complete:a});return t instanceof $i&&t.add(l),l}wrapInTimeout(t){return e=>{let i=this.pendingTasks?.add();setTimeout(()=>{try{t(e)}finally{i!==void 0&&this.pendingTasks?.remove(i)}})}}},ve=Zl;function Aa(...n){}function $d(n){let t,e;function i(){n=Aa;try{e!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(e),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{n(),i()}),typeof requestAnimationFrame=="function"&&(e=requestAnimationFrame(()=>{n(),i()})),()=>i()}function Yg(n){return queueMicrotask(()=>n()),()=>{n=Aa}}var zd="isAngularZone",Xr=zd+"_ID",SC=0,Be=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new ve(!1);onMicrotaskEmpty=new ve(!1);onStable=new ve(!1);onError=new ve(!1);constructor(t){let{enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:r=!1,scheduleInRootZone:o=qg}=t;if(typeof Zone>"u")throw new F(908,!1);Zone.assertZonePatched();let a=this;a._nesting=0,a._outer=a._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(a._inner=a._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(a._inner=a._inner.fork(Zone.longStackTraceZoneSpec)),a.shouldCoalesceEventChangeDetection=!r&&i,a.shouldCoalesceRunChangeDetection=r,a.callbackScheduled=!1,a.scheduleInRootZone=o,DC(a)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(zd)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new F(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new F(909,!1)}run(t,e,i){return this._inner.run(t,e,i)}runTask(t,e,i,r){let o=this._inner,a=o.scheduleEventTask("NgZoneEvent: "+r,t,PC,Aa,Aa);try{return o.runTask(a,e,i)}finally{o.cancelTask(a)}}runGuarded(t,e,i){return this._inner.runGuarded(t,e,i)}runOutsideAngular(t){return this._outer.run(t)}},PC={};function Gd(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function wC(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function t(){$d(()=>{n.callbackScheduled=!1,Xl(n),n.isCheckStableRunning=!0,Gd(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{t()}):n._outer.run(()=>{t()}),Xl(n)}function DC(n){let t=()=>{wC(n)},e=SC++;n._inner=n._inner.fork({name:"angular",properties:{[zd]:!0,[Xr]:e,[Xr+e]:!0},onInvokeTask:(i,r,o,a,l,u)=>{if(IC(u))return i.invokeTask(o,a,l,u);try{return sg(n),i.invokeTask(o,a,l,u)}finally{(n.shouldCoalesceEventChangeDetection&&a.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&t(),cg(n)}},onInvoke:(i,r,o,a,l,u,f)=>{try{return sg(n),i.invoke(o,a,l,u,f)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!TC(u)&&t(),cg(n)}},onHasTask:(i,r,o,a)=>{i.hasTask(o,a),r===o&&(a.change=="microTask"?(n._hasPendingMicrotasks=a.microTask,Xl(n),Gd(n)):a.change=="macroTask"&&(n.hasPendingMacrotasks=a.macroTask))},onHandleError:(i,r,o,a)=>(i.handleError(o,a),n.runOutsideAngular(()=>n.onError.emit(a)),!1)})}function Xl(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function sg(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function cg(n){n._nesting--,Gd(n)}var eo=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new ve;onMicrotaskEmpty=new ve;onStable=new ve;onError=new ve;run(t,e,i){return t.apply(e,i)}runGuarded(t,e,i){return t.apply(e,i)}runOutsideAngular(t){return t()}runTask(t,e,i,r){return t.apply(e,i)}};function IC(n){return Kg(n,"__ignore_ng_zone__")}function TC(n){return Kg(n,"__scheduler_tick__")}function Kg(n,t){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[t]===!0}var Xt=class{_console=console;handleError(t){this._console.error("ERROR",t)}},st=new j("",{factory:()=>{let n=C(Be),t=C(Ce),e;return i=>{n.runOutsideAngular(()=>{t.destroyed&&!e?setTimeout(()=>{throw i}):(e??=t.get(Xt),e.handleError(i))})}}}),Jg={provide:fi,useValue:()=>{let n=C(Xt,{optional:!0})},multi:!0},kC=new j("",{factory:()=>{let n=C(Pe).defaultView;if(!n)return;let t=C(st),e=o=>{t(o.reason),o.preventDefault()},i=o=>{o.error?t(o.error):t(new Error(o.message,{cause:o})),o.preventDefault()},r=()=>{n.addEventListener("unhandledrejection",e),n.addEventListener("error",i)};typeof Zone<"u"?Zone.root.run(r):r(),C(qe).onDestroy(()=>{n.removeEventListener("error",i),n.removeEventListener("unhandledrejection",e)})}});function qd(){return Un([_g(()=>{C(kC)})])}function N(n,t){let[e,i,r]=Vl(n,t?.equal),o=e,a=o[Je];return o.set=i,o.update=r,o.asReadonly=Qg.bind(o),o}function Qg(){let n=this[Je];if(n.readonlyFn===void 0){let t=()=>this();t[Je]=n,n.readonlyFn=t}return n.readonlyFn}var po=(()=>{class n{view;node;constructor(e,i){this.view=e,this.node=i}static __NG_ELEMENT_ID__=AC}return n})();function AC(){return new po(z(),Ue())}var Cn=class{},fo=new j("",{factory:()=>!0});var Wd=new j(""),go=(()=>{class n{internalPendingTasks=C(On);scheduler=C(Cn);errorHandler=C(st);add(){let e=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(e)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(e))}}run(e){let i=this.add();e().catch(this.errorHandler).finally(i)}static \u0275prov=k({token:n,providedIn:"root",factory:()=>new n})}return n})(),es=(()=>{class n{static \u0275prov=k({token:n,providedIn:"root",factory:()=>new ed})}return n})(),ed=class{dirtyEffectCount=0;queues=new Map;add(t){this.enqueue(t),this.schedule(t)}schedule(t){t.dirty&&this.dirtyEffectCount++}remove(t){let e=t.zone,i=this.queues.get(e);i.has(t)&&(i.delete(t),t.dirty&&this.dirtyEffectCount--)}enqueue(t){let e=t.zone;this.queues.has(e)||this.queues.set(e,new Set);let i=this.queues.get(e);i.has(t)||i.add(t)}flush(){for(;this.dirtyEffectCount>0;){let t=!1;for(let[e,i]of this.queues)e===null?t||=this.flushQueue(i):t||=e.run(()=>this.flushQueue(i));t||(this.dirtyEffectCount=0)}}flushQueue(t){let e=!1;for(let i of t)i.dirty&&(this.dirtyEffectCount--,e=!0,i.run());return e}},Ra=class{[Je];constructor(t){this[Je]=t}destroy(){this[Je].destroy()}};function Ot(n,t){let e=t?.injector??C(Xe),i=t?.manualCleanup!==!0?e.get(qe):null,r,o=e.get(po,null,{optional:!0}),a=e.get(Cn);return o!==null?(r=LC(o.view,a,n),i instanceof ka&&i._lView===o.view&&(i=null)):r=FC(n,e.get(es),a),r.injector=e,i!==null&&(r.onDestroyFns=[i.onDestroy(()=>r.destroy())]),new Ra(r)}var Zg=A(E({},Bl),{cleanupFns:void 0,zone:null,onDestroyFns:null,run(){let n=Zr(!1);try{Ul(this)}finally{Zr(n)}},cleanup(){if(!this.cleanupFns?.length)return;let n=H(null);try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[],H(n)}}}),RC=A(E({},Zg),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){if(ai(this),this.onDestroyFns!==null)for(let n of this.onDestroyFns)n();this.cleanup(),this.scheduler.remove(this)}}),NC=A(E({},Zg),{consumerMarkedDirty(){this.view[q]|=8192,bi(this.view),this.notifier.notify(13)},destroy(){if(ai(this),this.onDestroyFns!==null)for(let n of this.onDestroyFns)n();this.cleanup(),this.view[Fn]?.delete(this)}});function LC(n,t,e){let i=Object.create(NC);return i.view=n,i.zone=typeof Zone<"u"?Zone.current:null,i.notifier=t,i.fn=Xg(i,e),n[Fn]??=new Set,n[Fn].add(i),i.consumerMarkedDirty(i),i}function FC(n,t,e){let i=Object.create(RC);return i.fn=Xg(i,n),i.scheduler=t,i.notifier=e,i.zone=typeof Zone<"u"?Zone.current:null,i.scheduler.add(i),i.notifier.notify(12),i}function Xg(n,t){return()=>{t(e=>(n.cleanupFns??=[]).push(e))}}function ke(n){return jl(n)}function Oo(n){return{toString:n}.toString()}function $C(n){return typeof n=="function"}function wm(n,t,e,i){t!==null?t.applyValueToInputSignal(t,i):n[e]=i}var ss=class{previousValue;currentValue;firstChange;constructor(t,e,i){this.previousValue=t,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}},En=(()=>{let n=()=>Dm;return n.ngInherit=!0,n})();function Dm(n){return n.type.prototype.ngOnChanges&&(n.setInput=GC),zC}function zC(){let n=Tm(this),t=n?.current;if(t){let e=n.previous;if(e===Bn)n.previous=t;else for(let i in t)e[i]=t[i];n.current=null,this.ngOnChanges(t)}}function GC(n,t,e,i,r){let o=this.declaredInputs[i],a=Tm(n)||qC(n,{previous:Bn,current:null}),l=a.current||(a.current={}),u=a.previous,f=u[o];l[o]=new ss(f&&f.currentValue,e,u===Bn),wm(n,t,r,e)}var Im="__ngSimpleChanges__";function Tm(n){return n[Im]||null}function qC(n,t){return n[Im]=t}var em=[];var ce=function(n,t=null,e){for(let i=0;i<em.length;i++){let r=em[i];r(n,t,e)}},oe=(function(n){return n[n.TemplateCreateStart=0]="TemplateCreateStart",n[n.TemplateCreateEnd=1]="TemplateCreateEnd",n[n.TemplateUpdateStart=2]="TemplateUpdateStart",n[n.TemplateUpdateEnd=3]="TemplateUpdateEnd",n[n.LifecycleHookStart=4]="LifecycleHookStart",n[n.LifecycleHookEnd=5]="LifecycleHookEnd",n[n.OutputStart=6]="OutputStart",n[n.OutputEnd=7]="OutputEnd",n[n.BootstrapApplicationStart=8]="BootstrapApplicationStart",n[n.BootstrapApplicationEnd=9]="BootstrapApplicationEnd",n[n.BootstrapComponentStart=10]="BootstrapComponentStart",n[n.BootstrapComponentEnd=11]="BootstrapComponentEnd",n[n.ChangeDetectionStart=12]="ChangeDetectionStart",n[n.ChangeDetectionEnd=13]="ChangeDetectionEnd",n[n.ChangeDetectionSyncStart=14]="ChangeDetectionSyncStart",n[n.ChangeDetectionSyncEnd=15]="ChangeDetectionSyncEnd",n[n.AfterRenderHooksStart=16]="AfterRenderHooksStart",n[n.AfterRenderHooksEnd=17]="AfterRenderHooksEnd",n[n.ComponentStart=18]="ComponentStart",n[n.ComponentEnd=19]="ComponentEnd",n[n.DeferBlockStateStart=20]="DeferBlockStateStart",n[n.DeferBlockStateEnd=21]="DeferBlockStateEnd",n[n.DynamicComponentStart=22]="DynamicComponentStart",n[n.DynamicComponentEnd=23]="DynamicComponentEnd",n[n.HostBindingsUpdateStart=24]="HostBindingsUpdateStart",n[n.HostBindingsUpdateEnd=25]="HostBindingsUpdateEnd",n})(oe||{});function WC(n,t,e){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=t.type.prototype;if(i){let a=Dm(t);(e.preOrderHooks??=[]).push(n,a),(e.preOrderCheckHooks??=[]).push(n,a)}r&&(e.preOrderHooks??=[]).push(0-n,r),o&&((e.preOrderHooks??=[]).push(n,o),(e.preOrderCheckHooks??=[]).push(n,o))}function km(n,t){for(let e=t.directiveStart,i=t.directiveEnd;e<i;e++){let o=n.data[e].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:l,ngAfterViewInit:u,ngAfterViewChecked:f,ngOnDestroy:g}=o;a&&(n.contentHooks??=[]).push(-e,a),l&&((n.contentHooks??=[]).push(e,l),(n.contentCheckHooks??=[]).push(e,l)),u&&(n.viewHooks??=[]).push(-e,u),f&&((n.viewHooks??=[]).push(e,f),(n.viewCheckHooks??=[]).push(e,f)),g!=null&&(n.destroyHooks??=[]).push(e,g)}}function is(n,t,e){Am(n,t,3,e)}function rs(n,t,e,i){(n[q]&3)===e&&Am(n,t,e,i)}function Yd(n,t){let e=n[q];(e&3)===t&&(e&=16383,e+=1,n[q]=e)}function Am(n,t,e,i){let r=i!==void 0?n[hi]&65535:0,o=i??-1,a=t.length-1,l=0;for(let u=r;u<a;u++)if(typeof t[u+1]=="number"){if(l=t[u],i!=null&&l>=i)break}else t[u]<0&&(n[hi]+=65536),(l<o||o==-1)&&(YC(n,e,t,u),n[hi]=(n[hi]&4294901760)+u+2),u++}function tm(n,t){ce(oe.LifecycleHookStart,n,t);let e=H(null);try{t.call(n)}finally{H(e),ce(oe.LifecycleHookEnd,n,t)}}function YC(n,t,e,i){let r=e[i]<0,o=e[i+1],a=r?-e[i]:e[i],l=n[a];r?n[q]>>14<n[hi]>>16&&(n[q]&3)===t&&(n[q]+=16384,tm(l,o)):tm(l,o)}var or=-1,Oi=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,e,i,r){this.factory=t,this.name=r,this.canSeeViewProviders=e,this.injectImpl=i}};function KC(n){return(n.flags&8)!==0}function JC(n){return(n.flags&16)!==0}function QC(n,t,e){let i=0;for(;i<e.length;){let r=e[i];if(typeof r=="number"){if(r!==0)break;i++;let o=e[i++],a=e[i++],l=e[i++];n.setAttribute(t,a,l,o)}else{let o=r,a=e[++i];ZC(o)?n.setProperty(t,o,a):n.setAttribute(t,o,a),i++}}return i}function Rm(n){return n===3||n===4||n===6}function ZC(n){return n.charCodeAt(0)===64}function ar(n,t){if(!(t===null||t.length===0))if(n===null||n.length===0)n=t.slice();else{let e=-1;for(let i=0;i<t.length;i++){let r=t[i];typeof r=="number"?e=r:e===0||(e===-1||e===2?nm(n,e,r,null,t[++i]):nm(n,e,r,null,null))}}return n}function nm(n,t,e,i,r){let o=0,a=n.length;if(t===-1)a=-1;else for(;o<n.length;){let l=n[o++];if(typeof l=="number"){if(l===t){a=-1;break}else if(l>t){a=o-1;break}}}for(;o<n.length;){let l=n[o];if(typeof l=="number")break;if(l===e){r!==null&&(n[o+1]=r);return}o++,r!==null&&o++}a!==-1&&(n.splice(a,0,t),o=a+1),n.splice(o++,0,e),r!==null&&n.splice(o++,0,r)}function Nm(n){return n!==or}function cs(n){return n&32767}function XC(n){return n>>16}function ls(n,t){let e=XC(n),i=t;for(;e>0;)i=i[mi],e--;return i}var au=!0;function ds(n){let t=au;return au=n,t}var ey=256,Lm=ey-1,Fm=5,ty=0,on={};function ny(n,t,e){let i;typeof e=="string"?i=e.charCodeAt(0)||0:e.hasOwnProperty(pi)&&(i=e[pi]),i==null&&(i=e[pi]=ty++);let r=i&Lm,o=1<<r;t.data[n+(r>>Fm)]|=o}function us(n,t){let e=Vm(n,t);if(e!==-1)return e;let i=t[U];i.firstCreatePass&&(n.injectorIndex=t.length,Kd(i.data,n),Kd(t,null),Kd(i.blueprint,null));let r=Au(n,t),o=n.injectorIndex;if(Nm(r)){let a=cs(r),l=ls(r,t),u=l[U].data;for(let f=0;f<8;f++)t[o+f]=l[a+f]|u[a+f]}return t[o+8]=r,o}function Kd(n,t){n.push(0,0,0,0,0,0,0,0,t)}function Vm(n,t){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||t[n.injectorIndex+8]===null?-1:n.injectorIndex}function Au(n,t){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let e=0,i=null,r=t;for(;r!==null;){if(i=$m(r),i===null)return or;if(e++,r=r[mi],i.injectorIndex!==-1)return i.injectorIndex|e<<16}return or}function su(n,t,e){ny(n,t,e)}function iy(n,t){if(t==="class")return n.classes;if(t==="style")return n.styles;let e=n.attrs;if(e){let i=e.length,r=0;for(;r<i;){let o=e[r];if(Rm(o))break;if(o===0)r=r+2;else if(typeof o=="number")for(r++;r<i&&typeof e[r]=="string";)r++;else{if(o===t)return e[r+1];r=r+2}}}return null}function jm(n,t,e){if(e&8||n!==void 0)return n;ja(t,"NodeInjector")}function Bm(n,t,e,i){if(e&8&&i===void 0&&(i=null),(e&3)===0){let r=n[xn],o=Qe(void 0);try{return r?r.get(t,i,e&8):ud(t,i,e&8)}finally{Qe(o)}}return jm(i,t,e)}function Um(n,t,e,i=0,r){if(n!==null){if(t[q]&2048&&!(i&2)){let a=sy(n,t,e,i,on);if(a!==on)return a}let o=Hm(n,t,e,i,on);if(o!==on)return o}return Bm(t,e,i,r)}function Hm(n,t,e,i,r){let o=oy(e);if(typeof o=="function"){if(!Bd(t,n,i))return i&1?jm(r,e,i):Bm(t,e,i,r);try{let a;if(a=o(i),a==null&&!(i&8))ja(e);else return a}finally{Ud()}}else if(typeof o=="number"){let a=null,l=Vm(n,t),u=or,f=i&1?t[tt][et]:null;for((l===-1||i&4)&&(u=l===-1?Au(n,t):t[l+8],u===or||!rm(i,!1)?l=-1:(a=t[U],l=cs(u),t=ls(u,t)));l!==-1;){let g=t[U];if(im(o,l,g.data)){let m=ry(l,t,e,a,i,f);if(m!==on)return m}u=t[l+8],u!==or&&rm(i,t[U].data[l+8]===f)&&im(o,l,t)?(a=g,l=cs(u),t=ls(u,t)):l=-1}}return r}function ry(n,t,e,i,r,o){let a=t[U],l=a.data[n+8],u=i==null?zn(l)&&au:i!=a&&(l.type&3)!==0,f=r&1&&o===l,g=os(l,a,e,u,f);return g!==null?_o(t,a,g,l,r):on}function os(n,t,e,i,r){let o=n.providerIndexes,a=t.data,l=o&1048575,u=n.directiveStart,f=n.directiveEnd,g=o>>20,m=i?l:l+g,_=r?l+g:f;for(let y=m;y<_;y++){let D=a[y];if(y<u&&e===D||y>=u&&D.type===e)return y}if(r){let y=a[u];if(y&&rn(y)&&y.type===e)return u}return null}function _o(n,t,e,i,r){let o=n[e],a=t.data;if(o instanceof Oi){let l=o;if(l.resolving)throw dd("");let u=ds(l.canSeeViewProviders);l.resolving=!0;let f=a[e].type||a[e],g,m=l.injectImpl?Qe(l.injectImpl):null,_=Bd(n,i,0);try{o=n[e]=l.factory(void 0,r,a,n,i),t.firstCreatePass&&e>=i.directiveStart&&WC(e,a[e],t)}finally{m!==null&&Qe(m),ds(u),l.resolving=!1,Ud()}}return o}function oy(n){if(typeof n=="string")return n.charCodeAt(0)||0;let t=n.hasOwnProperty(pi)?n[pi]:void 0;return typeof t=="number"?t>=0?t&Lm:ay:t}function im(n,t,e){let i=1<<n;return!!(e[t+(n>>Fm)]&i)}function rm(n,t){return!(n&2)&&!(n&1&&t)}var Mi=class{_tNode;_lView;constructor(t,e){this._tNode=t,this._lView=e}get(t,e,i){return Um(this._tNode,this._lView,t,ci(i),e)}};function ay(){return new Mi(Ue(),z())}function sn(n){return Oo(()=>{let t=n.prototype.constructor,e=t[Jr]||cu(t),i=Object.prototype,r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){let o=r[Jr]||cu(r);if(o&&o!==e)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function cu(n){return td(n)?()=>{let t=cu(je(n));return t&&t()}:Ln(n)}function sy(n,t,e,i,r){let o=n,a=t;for(;o!==null&&a!==null&&a[q]&2048&&!nr(a);){let l=Hm(o,a,e,i|2,on);if(l!==on)return l;let u=o.parent;if(!u){let f=a[Cd];if(f){let g=f.get(e,on,i);if(g!==on)return g}u=$m(a),a=a[mi]}o=u}return r}function $m(n){let t=n[U],e=t.type;return e===2?t.declTNode:e===1?n[et]:null}function Eo(n){return iy(Ue(),n)}function cy(){return ur(Ue(),z())}function ur(n,t){return new Ae(Bt(n,t))}var Ae=(()=>{class n{nativeElement;constructor(e){this.nativeElement=e}static __NG_ELEMENT_ID__=cy}return n})();function ly(n){return n instanceof Ae?n.nativeElement:n}function dy(){return this._results[Symbol.iterator]()}var ps=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new ze}constructor(t=!1){this._emitDistinctChangesOnly=t}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){this.dirty=!1;let i=mg(t);(this._changesDetected=!gg(this._results,i,e))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=dy};function zm(n){return(n.flags&128)===128}var Ru=(function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n})(Ru||{}),Gm=new Map,uy=0;function py(){return uy++}function fy(n){Gm.set(n[Mn],n)}function lu(n){Gm.delete(n[Mn])}var om="__ngContext__";function sr(n,t){nn(t)?(n[om]=t[Mn],fy(t)):n[om]=t}function qm(n){return Ym(n[er])}function Wm(n){return Ym(n[yt])}function Ym(n){for(;n!==null&&!jt(n);)n=n[yt];return n}var gy;function Nu(n){gy=n}var Ss=new j("",{factory:()=>my}),my="ng";var Ps=new j(""),So=new j("",{providedIn:"platform",factory:()=>"unknown"});var ws=new j("",{factory:()=>C(Pe).body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Km="r";var Jm="di";var Qm=!1,Zm=new j("",{factory:()=>Qm});var hy=(n,t,e,i)=>{};function vy(n,t,e,i){hy(n,t,e,i)}function Ds(n){return(n.flags&32)===32}var _y=()=>null;function Xm(n,t,e=!1){return _y(n,t,e)}function eh(n,t){let e=n.contentQueries;if(e!==null){let i=H(null);try{for(let r=0;r<e.length;r+=2){let o=e[r],a=e[r+1];if(a!==-1){let l=n.data[a];Ka(o),l.contentQueries(2,t[a],a)}}}finally{H(i)}}}function du(n,t,e){Ka(0);let i=H(null);try{t(n,e)}finally{H(i)}}function Lu(n,t,e){if(bd(t)){let i=H(null);try{let r=t.directiveStart,o=t.directiveEnd;for(let a=r;a<o;a++){let l=n.data[a];if(l.contentQueries){let u=e[a];l.contentQueries(1,u,a)}}}finally{H(i)}}}var zt=(function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n[n.ExperimentalIsolatedShadowDom=4]="ExperimentalIsolatedShadowDom",n})(zt||{});var ts;function Cy(){if(ts===void 0&&(ts=null,yn.trustedTypes))try{ts=yn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return ts}function am(n){return Cy()?.createScriptURL(n)||n}var fs=class{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Na})`}};function Po(n){return n instanceof fs?n.changingThisBreaksApplicationSecurity:n}function Fu(n,t){let e=th(n);if(e!=null&&e!==t){if(e==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${e} (see ${Na})`)}return e===t}function th(n){return n instanceof fs&&n.getTypeName()||null}var yy=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function nh(n){return n=String(n),n.match(yy)?n:"unsafe:"+n}var by=/^>|^->|<!--|-->|--!>|<!-$/g,xy=/(<|>)/g,My="\u200B$1\u200B";function Oy(n){return n.replace(by,t=>t.replace(xy,My))}function Ey(n,t){return n.createText(t)}function Sy(n,t,e){n.setValue(t,e)}function Py(n,t){return n.createComment(Oy(t))}function ih(n,t,e){return n.createElement(t,e)}function gs(n,t,e,i,r){n.insertBefore(t,e,i,r)}function rh(n,t,e){n.appendChild(t,e)}function sm(n,t,e,i,r){i!==null?gs(n,t,e,i,r):rh(n,t,e)}function oh(n,t,e,i){n.removeChild(null,t,e,i)}function wy(n,t,e){n.setAttribute(t,"style",e)}function Dy(n,t,e){e===""?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e)}function ah(n,t,e){let{mergedAttrs:i,classes:r,styles:o}=e;i!==null&&QC(n,t,i),r!==null&&Dy(n,t,r),o!==null&&wy(n,t,o)}var Is=(function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n})(Is||{});function pr(n){let t=ch();return t?t.sanitize(Is.URL,n)||"":Fu(n,"URL")?Po(n):nh(bn(n))}function sh(n){let t=ch();if(t)return am(t.sanitize(Is.RESOURCE_URL,n)||"");if(Fu(n,"ResourceURL"))return am(Po(n));throw new F(904,!1)}var Iy=new Set(["embed","frame","iframe","media","script"]),Ty=new Set(["base","link","script"]);function ky(n,t){return t==="src"&&Iy.has(n)||t==="href"&&Ty.has(n)||t==="xlink:href"&&n==="script"?sh:pr}function Vu(n,t,e){return ky(t,e)(n)}function ch(){let n=z();return n&&n[en].sanitizer}function ju(n){return n.ownerDocument}function lh(n){return n instanceof Function?n():n}function Ay(n,t,e){let i=n.length;for(;;){let r=n.indexOf(t,e);if(r===-1)return r;if(r===0||n.charCodeAt(r-1)<=32){let o=t.length;if(r+o===i||n.charCodeAt(r+o)<=32)return r}e=r+1}}var dh="ng-template";function Ry(n,t,e,i){let r=0;if(i){for(;r<t.length&&typeof t[r]=="string";r+=2)if(t[r]==="class"&&Ay(t[r+1].toLowerCase(),e,0)!==-1)return!0}else if(Bu(n))return!1;if(r=t.indexOf(1,r),r>-1){let o;for(;++r<t.length&&typeof(o=t[r])=="string";)if(o.toLowerCase()===e)return!0}return!1}function Bu(n){return n.type===4&&n.value!==dh}function Ny(n,t,e){let i=n.type===4&&!e?dh:n.value;return t===i}function Ly(n,t,e){let i=4,r=n.attrs,o=r!==null?jy(r):0,a=!1;for(let l=0;l<t.length;l++){let u=t[l];if(typeof u=="number"){if(!a&&!Ht(i)&&!Ht(u))return!1;if(a&&Ht(u))continue;a=!1,i=u|i&1;continue}if(!a)if(i&4){if(i=2|i&1,u!==""&&!Ny(n,u,e)||u===""&&t.length===1){if(Ht(i))return!1;a=!0}}else if(i&8){if(r===null||!Ry(n,r,u,e)){if(Ht(i))return!1;a=!0}}else{let f=t[++l],g=Fy(u,r,Bu(n),e);if(g===-1){if(Ht(i))return!1;a=!0;continue}if(f!==""){let m;if(g>o?m="":m=r[g+1].toLowerCase(),i&2&&f!==m){if(Ht(i))return!1;a=!0}}}}return Ht(i)||a}function Ht(n){return(n&1)===0}function Fy(n,t,e,i){if(t===null)return-1;let r=0;if(i||!e){let o=!1;for(;r<t.length;){let a=t[r];if(a===n)return r;if(a===3||a===6)o=!0;else if(a===1||a===2){let l=t[++r];for(;typeof l=="string";)l=t[++r];continue}else{if(a===4)break;if(a===0){r+=4;continue}}r+=o?1:2}return-1}else return By(t,n)}function uh(n,t,e=!1){for(let i=0;i<t.length;i++)if(Ly(n,t[i],e))return!0;return!1}function Vy(n){let t=n.attrs;if(t!=null){let e=t.indexOf(5);if((e&1)===0)return t[e+1]}return null}function jy(n){for(let t=0;t<n.length;t++){let e=n[t];if(Rm(e))return t}return n.length}function By(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){let i=n[e];if(typeof i=="number")return-1;if(i===t)return e;e++}return-1}function Uy(n,t){e:for(let e=0;e<t.length;e++){let i=t[e];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function cm(n,t){return n?":not("+t.trim()+")":t}function Hy(n){let t=n[0],e=1,i=2,r="",o=!1;for(;e<n.length;){let a=n[e];if(typeof a=="string")if(i&2){let l=n[++e];r+="["+a+(l.length>0?'="'+l+'"':"")+"]"}else i&8?r+="."+a:i&4&&(r+=" "+a);else r!==""&&!Ht(a)&&(t+=cm(o,r),r=""),i=a,o=o||!Ht(i);e++}return r!==""&&(t+=cm(o,r)),t}function $y(n){return n.map(Hy).join(",")}function zy(n){let t=[],e=[],i=1,r=2;for(;i<n.length;){let o=n[i];if(typeof o=="string")r===2?o!==""&&t.push(o,n[++i]):r===8&&e.push(o);else{if(!Ht(r))break;r=o}i++}return e.length&&t.push(1,...e),t}var He={};function Uu(n,t,e,i,r,o,a,l,u,f,g){let m=fe+i,_=m+r,y=Gy(m,_),D=typeof f=="function"?f():f;return y[U]={type:n,blueprint:y,template:e,queries:null,viewQuery:l,declTNode:t,data:y.slice().fill(null,m),bindingStartIndex:m,expandoStartIndex:_,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof a=="function"?a():a,firstChild:null,schemas:u,consts:D,incompleteFirstPass:!1,ssrId:g}}function Gy(n,t){let e=[];for(let i=0;i<t;i++)e.push(i<n?null:He);return e}function qy(n){let t=n.tView;return t===null||t.incompleteFirstPass?n.tView=Uu(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):t}function Hu(n,t,e,i,r,o,a,l,u,f,g){let m=t.blueprint.slice();return m[Vt]=r,m[q]=i|4|128|8|64|1024,(f!==null||n&&n[q]&2048)&&(m[q]|=2048),Ed(m),m[Te]=m[mi]=n,m[Se]=e,m[en]=a||n&&n[en],m[ue]=l||n&&n[ue],m[xn]=u||n&&n[xn]||null,m[et]=o,m[Mn]=py(),m[gi]=g,m[Cd]=f,m[tt]=t.type==2?n[tt]:m,m}function Wy(n,t,e){let i=Bt(t,n),r=qy(e),o=n[en].rendererFactory,a=$u(n,Hu(n,r,null,ph(e),i,t,null,o.createRenderer(i,e),null,null,null));return n[t.index]=a}function ph(n){let t=16;return n.signals?t=4096:n.onPush&&(t=64),t}function fh(n,t,e,i){if(e===0)return-1;let r=t.length;for(let o=0;o<e;o++)t.push(i),n.blueprint.push(i),n.data.push(null);return r}function $u(n,t){return n[er]?n[_d][yt]=t:n[er]=t,n[_d]=t,t}function p(n=1){gh(xe(),z(),Ut()+n,!1)}function gh(n,t,e,i){if(!i)if((t[q]&3)===3){let o=n.preOrderCheckHooks;o!==null&&is(t,o,e)}else{let o=n.preOrderHooks;o!==null&&rs(t,o,0,e)}Gn(e)}var Ts=(function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n})(Ts||{});function uu(n,t,e,i){let r=H(null);try{let[o,a,l]=n.inputs[e],u=null;(a&Ts.SignalBased)!==0&&(u=t[o][Je]),u!==null&&u.transformFn!==void 0?i=u.transformFn(i):l!==null&&(i=l.call(t,i)),n.setInput!==null?n.setInput(t,u,i,e,o):wm(t,u,o,i)}finally{H(r)}}var an=(function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n})(an||{}),Yy;function zu(n,t){return Yy(n,t)}var Ei=new Set,ks=(function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n})(ks||{}),Sn=new j(""),lm=new Set;function Yn(n){lm.has(n)||(lm.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var Gu=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=k({token:n,providedIn:"root",factory:()=>new n})}return n})(),mh=[0,1,2,3],hh=(()=>{class n{ngZone=C(Be);scheduler=C(Cn);errorHandler=C(Xt,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){C(Sn,{optional:!0})}execute(){let e=this.sequences.size>0;e&&ce(oe.AfterRenderHooksStart),this.executing=!0;for(let i of mh)for(let r of this.sequences)if(!(r.erroredOrDestroyed||!r.hooks[i]))try{r.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=r.hooks[i];return o(r.pipelinedValue)},r.snapshot))}catch(o){r.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let i of this.sequences)i.afterRun(),i.once&&(this.sequences.delete(i),i.destroy());for(let i of this.deferredRegistrations)this.sequences.add(i);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),e&&ce(oe.AfterRenderHooksEnd)}register(e){let{view:i}=e;i!==void 0?((i[vi]??=[]).push(e),bi(i),i[q]|=8192):this.executing?this.deferredRegistrations.add(e):this.addSequence(e)}addSequence(e){this.sequences.add(e),this.scheduler.notify(7)}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}maybeTrace(e,i){return i?i.run(ks.AFTER_NEXT_RENDER,e):e()}static \u0275prov=k({token:n,providedIn:"root",factory:()=>new n})}return n})(),ms=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(t,e,i,r,o,a=null){this.impl=t,this.hooks=e,this.view=i,this.once=r,this.snapshot=a,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let t=this.view?.[vi];t&&(this.view[vi]=t.filter(e=>e!==this))}};function wo(n,t){let e=t?.injector??C(Xe);return Yn("NgAfterNextRender"),Jy(n,e,t,!0)}function Ky(n){return n instanceof Function?[void 0,void 0,n,void 0]:[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function Jy(n,t,e,i){let r=t.get(Gu);r.impl??=t.get(hh);let o=t.get(Sn,null,{optional:!0}),a=e?.manualCleanup!==!0?t.get(qe):null,l=t.get(po,null,{optional:!0}),u=new ms(r.impl,Ky(n),l?.view,i,a,o?.snapshot(null));return r.impl.register(u),u}var qu=new j("",{factory:()=>({queue:new Set,isScheduled:!1,scheduler:null,injector:C(Ce)})});function vh(n,t,e){let i=n.get(qu);if(Array.isArray(t))for(let r of t)i.queue.add(r),e?.detachedLeaveAnimationFns?.push(r);else i.queue.add(t),e?.detachedLeaveAnimationFns?.push(t);i.scheduler&&i.scheduler(n)}function Qy(n,t){let e=n.get(qu);if(t.detachedLeaveAnimationFns){for(let i of t.detachedLeaveAnimationFns)e.queue.delete(i);t.detachedLeaveAnimationFns=void 0}}function Zy(n,t){for(let[e,i]of t)vh(n,i.animateFns)}function Xy(n,t){let e=n.get(qu);if(Array.isArray(t))for(let i of t)e.queue.delete(i);else e.queue.delete(t)}function dm(n,t,e,i){let r=n?.[_i]?.enter;t!==null&&r&&r.has(e.index)&&Zy(i,r)}function rr(n,t,e,i,r,o,a,l){if(r!=null){let u,f=!1;jt(r)?u=r:nn(r)&&(f=!0,r=r[Vt]);let g=bt(r);n===0&&i!==null?(dm(l,i,o,e),a==null?rh(t,i,g):gs(t,i,g,a||null,!0)):n===1&&i!==null?(dm(l,i,o,e),gs(t,i,g,a||null,!0)):n===2?um(l,o,e,m=>{oh(t,g,f,m)}):n===3&&um(l,o,e,()=>{t.destroyNode(g)}),u!=null&&db(t,n,e,u,o,i,a)}}function eb(n,t){_h(n,t),t[Vt]=null,t[et]=null}function tb(n,t,e,i,r,o){i[Vt]=r,i[et]=t,Rs(n,i,e,1,r,o)}function _h(n,t){t[en].changeDetectionScheduler?.notify(9),Rs(n,t,t[ue],2,null,null)}function nb(n){let t=n[er];if(!t)return Jd(n[U],n);for(;t;){let e=null;if(nn(t))e=t[er];else{let i=t[be];i&&(e=i)}if(!e){for(;t&&!t[yt]&&t!==n;)nn(t)&&Jd(t[U],t),t=t[Te];t===null&&(t=n),nn(t)&&Jd(t[U],t),e=t&&t[yt]}t=e}}function Wu(n,t){let e=n[Ci],i=e.indexOf(t);e.splice(i,1)}function As(n,t){if(yi(t))return;let e=t[ue];e.destroyNode&&Rs(n,t,e,3,null,null),nb(t)}function Jd(n,t){if(yi(t))return;let e=H(null);try{t[q]&=-129,t[q]|=256,t[ot]&&ai(t[ot]),ob(n,t),rb(n,t),t[U].type===1&&t[ue].destroy();let i=t[Hn];if(i!==null&&jt(t[Te])){i!==t[Te]&&Wu(i,t);let r=t[tn];r!==null&&r.detachView(n)}lu(t)}finally{H(e)}}function um(n,t,e,i){let r=n?.[_i];if(r?.enter?.has(t.index)&&Xy(e,r.enter.get(t.index).animateFns),r==null||r.leave==null||!r.leave.has(t.index))return i(!1);n&&Ei.add(n[Mn]),vh(e,()=>{if(r.leave&&r.leave.has(t.index)){let a=r.leave.get(t.index),l=[];if(a){for(let u=0;u<a.animateFns.length;u++){let f=a.animateFns[u],{promise:g}=f();l.push(g)}r.detachedLeaveAnimationFns=void 0}r.running=Promise.allSettled(l),ib(n,i)}else n&&Ei.delete(n[Mn]),i(!1)},r)}function ib(n,t){let e=n[_i]?.running;if(e){e.then(()=>{n[_i].running=void 0,Ei.delete(n[Mn]),t(!0)});return}t(!1)}function rb(n,t){let e=n.cleanup,i=t[Xi];if(e!==null)for(let a=0;a<e.length-1;a+=2)if(typeof e[a]=="string"){let l=e[a+3];l>=0?i[l]():i[-l].unsubscribe(),a+=2}else{let l=i[e[a+1]];e[a].call(l)}i!==null&&(t[Xi]=null);let r=t[vn];if(r!==null){t[vn]=null;for(let a=0;a<r.length;a++){let l=r[a];l()}}let o=t[Fn];if(o!==null){t[Fn]=null;for(let a of o)a.destroy()}}function ob(n,t){let e;if(n!=null&&(e=n.destroyHooks)!=null)for(let i=0;i<e.length;i+=2){let r=t[e[i]];if(!(r instanceof Oi)){let o=e[i+1];if(Array.isArray(o))for(let a=0;a<o.length;a+=2){let l=r[o[a]],u=o[a+1];ce(oe.LifecycleHookStart,l,u);try{u.call(l)}finally{ce(oe.LifecycleHookEnd,l,u)}}else{ce(oe.LifecycleHookStart,r,o);try{o.call(r)}finally{ce(oe.LifecycleHookEnd,r,o)}}}}}function Ch(n,t,e){return ab(n,t.parent,e)}function ab(n,t,e){let i=t;for(;i!==null&&i.type&168;)t=i,i=t.parent;if(i===null)return e[Vt];if(zn(i)){let{encapsulation:r}=n.data[i.directiveStart+i.componentOffset];if(r===zt.None||r===zt.Emulated)return null}return Bt(i,e)}function yh(n,t,e){return cb(n,t,e)}function sb(n,t,e){return n.type&40?Bt(n,e):null}var cb=sb,pm;function Yu(n,t,e,i){let r=Ch(n,i,t),o=t[ue],a=i.parent||t[et],l=yh(a,i,t);if(r!=null)if(Array.isArray(e))for(let u=0;u<e.length;u++)sm(o,r,e[u],l,!1);else sm(o,r,e,l,!1);pm!==void 0&&pm(o,i,t,e,r)}function ho(n,t){if(t!==null){let e=t.type;if(e&3)return Bt(t,n);if(e&4)return pu(-1,n[t.index]);if(e&8){let i=t.child;if(i!==null)return ho(n,i);{let r=n[t.index];return jt(r)?pu(-1,r):bt(r)}}else{if(e&128)return ho(n,t.next);if(e&32)return zu(t,n)()||bt(n[t.index]);{let i=bh(n,t);if(i!==null){if(Array.isArray(i))return i[0];let r=Vn(n[tt]);return ho(r,i)}else return ho(n,t.next)}}}return null}function bh(n,t){if(t!==null){let i=n[tt][et],r=t.projection;return i.projection[r]}return null}function pu(n,t){let e=be+n+1;if(e<t.length){let i=t[e],r=i[U].firstChild;if(r!==null)return ho(i,r)}return t[$n]}function Ku(n,t,e,i,r,o,a){for(;e!=null;){let l=i[xn];if(e.type===128){e=e.next;continue}let u=i[e.index],f=e.type;if(a&&t===0&&(u&&sr(bt(u),i),e.flags|=2),!Ds(e))if(f&8)Ku(n,t,e.child,i,r,o,!1),rr(t,n,l,r,u,e,o,i);else if(f&32){let g=zu(e,i),m;for(;m=g();)rr(t,n,l,r,m,e,o,i);rr(t,n,l,r,u,e,o,i)}else f&16?xh(n,t,i,e,r,o):rr(t,n,l,r,u,e,o,i);e=a?e.projectionNext:e.next}}function Rs(n,t,e,i,r,o){Ku(e,i,n.firstChild,t,r,o,!1)}function lb(n,t,e){let i=t[ue],r=Ch(n,e,t),o=e.parent||t[et],a=yh(o,e,t);xh(i,0,t,e,r,a)}function xh(n,t,e,i,r,o){let a=e[tt],u=a[et].projection[i.projection];if(Array.isArray(u))for(let f=0;f<u.length;f++){let g=u[f];rr(t,n,e[xn],r,g,i,o,e)}else{let f=u,g=a[Te];zm(i)&&(f.flags|=128),Ku(n,t,f,g,r,o,!0)}}function db(n,t,e,i,r,o,a){let l=i[$n],u=bt(i);l!==u&&rr(t,n,e,o,l,r,a);for(let f=be;f<i.length;f++){let g=i[f];Rs(g[U],g,n,t,o,l)}}function ub(n,t,e,i,r){if(t)r?n.addClass(e,i):n.removeClass(e,i);else{let o=i.indexOf("-")===-1?void 0:an.DashCase;r==null?n.removeStyle(e,i,o):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=an.Important),n.setStyle(e,i,r,o))}}function Mh(n,t,e,i,r){let o=Ut(),a=i&2;try{Gn(-1),a&&t.length>fe&&gh(n,t,fe,!1);let l=a?oe.TemplateUpdateStart:oe.TemplateCreateStart;ce(l,r,e),e(i,r)}finally{Gn(o);let l=a?oe.TemplateUpdateEnd:oe.TemplateCreateEnd;ce(l,r,e)}}function Ns(n,t,e){_b(n,t,e),(e.flags&64)===64&&Cb(n,t,e)}function Do(n,t,e=Bt){let i=t.localNames;if(i!==null){let r=t.index+1;for(let o=0;o<i.length;o+=2){let a=i[o+1],l=a===-1?e(t,n):n[a];n[r++]=l}}}function pb(n,t,e,i){let o=i.get(Zm,Qm)||e===zt.ShadowDom||e===zt.ExperimentalIsolatedShadowDom,a=n.selectRootElement(t,o);return fb(a),a}function fb(n){gb(n)}var gb=()=>null;function mb(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function Oh(n,t,e,i,r,o){let a=t[U];if(Xu(n,a,t,e,i)){zn(n)&&vb(t,n.index);return}n.type&3&&(e=mb(e)),hb(n,t,e,i,r,o)}function hb(n,t,e,i,r,o){if(n.type&3){let a=Bt(n,t);i=o!=null?o(i,n.value||"",e):i,r.setProperty(a,e,i)}else n.type&12}function vb(n,t){let e=xt(t,n);e[q]&16||(e[q]|=64)}function _b(n,t,e){let i=e.directiveStart,r=e.directiveEnd;zn(e)&&Wy(t,e,n.data[i+e.componentOffset]),n.firstCreatePass||us(e,t);let o=e.initialInputs;for(let a=i;a<r;a++){let l=n.data[a],u=_o(t,n,a,e);if(sr(u,t),o!==null&&Mb(t,a-i,u,l,e,o),rn(l)){let f=xt(e.index,t);f[Se]=_o(t,n,a,e)}}}function Cb(n,t,e){let i=e.directiveStart,r=e.directiveEnd,o=e.index,a=Vg();try{Gn(o);for(let l=i;l<r;l++){let u=n.data[l],f=t[l];Ya(l),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&yb(u,f)}}finally{Gn(-1),Ya(a)}}function yb(n,t){n.hostBindings!==null&&n.hostBindings(1,t)}function Ju(n,t){let e=n.directiveRegistry,i=null;if(e)for(let r=0;r<e.length;r++){let o=e[r];uh(t,o.selectors,!1)&&(i??=[],rn(o)?i.unshift(o):i.push(o))}return i}function bb(n,t,e,i,r,o){let a=Bt(n,t);xb(t[ue],a,o,n.value,e,i,r)}function xb(n,t,e,i,r,o,a){if(o==null)n.removeAttribute(t,r,e);else{let l=a==null?bn(o):a(o,i||"",r);n.setAttribute(t,r,l,e)}}function Mb(n,t,e,i,r,o){let a=o[t];if(a!==null)for(let l=0;l<a.length;l+=2){let u=a[l],f=a[l+1];uu(i,e,u,f)}}function Qu(n,t,e,i,r){let o=fe+e,a=t[U],l=r(a,t,n,i,e);t[o]=l,ir(n,!0);let u=n.type===2;return u?(ah(t[ue],l,n),(Tg()===0||tr(n))&&sr(l,t),kg()):sr(l,t),Xa()&&(!u||!Ds(n))&&Yu(a,t,l,n),n}function Zu(n){let t=n;return Nd()?Ld():(t=t.parent,ir(t,!1)),t}function Ob(n,t){let e=n[xn];if(!e)return;let i;try{i=e.get(st,null)}catch{i=null}i?.(t)}function Xu(n,t,e,i,r){let o=n.inputs?.[i],a=n.hostDirectiveInputs?.[i],l=!1;if(a)for(let u=0;u<a.length;u+=2){let f=a[u],g=a[u+1],m=t.data[f];uu(m,e[f],g,r),l=!0}if(o)for(let u of o){let f=e[u],g=t.data[u];uu(g,f,i,r),l=!0}return l}function Eb(n,t){let e=xt(t,n),i=e[U];Sb(i,e);let r=e[Vt];r!==null&&e[gi]===null&&(e[gi]=Xm(r,e[xn])),ce(oe.ComponentStart);try{ep(i,e,e[Se])}finally{ce(oe.ComponentEnd,e[Se])}}function Sb(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])}function ep(n,t,e){Ja(t);try{let i=n.viewQuery;i!==null&&du(1,i,e);let r=n.template;r!==null&&Mh(n,t,r,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),t[tn]?.finishViewCreation(n),n.staticContentQueries&&eh(n,t),n.staticViewQueries&&du(2,n.viewQuery,e);let o=n.components;o!==null&&Pb(t,o)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{t[q]&=-5,Qa()}}function Pb(n,t){for(let e=0;e<t.length;e++)Eb(n,t[e])}function Io(n,t,e,i){let r=H(null);try{let o=t.tView,l=n[q]&4096?4096:16,u=Hu(n,o,e,l,null,t,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),f=n[t.index];u[Hn]=f;let g=n[tn];return g!==null&&(u[tn]=g.createEmbeddedView(o)),ep(o,u,e),u}finally{H(r)}}function cr(n,t){return!t||t.firstChild===null||zm(n)}function Co(n,t,e,i,r=!1){for(;e!==null;){if(e.type===128){e=r?e.projectionNext:e.next;continue}let o=t[e.index];o!==null&&i.push(bt(o)),jt(o)&&Eh(o,i);let a=e.type;if(a&8)Co(n,t,e.child,i);else if(a&32){let l=zu(e,t),u;for(;u=l();)i.push(u)}else if(a&16){let l=bh(t,e);if(Array.isArray(l))i.push(...l);else{let u=Vn(t[tt]);Co(u[U],u,l,i,!0)}}e=r?e.projectionNext:e.next}return i}function Eh(n,t){for(let e=be;e<n.length;e++){let i=n[e],r=i[U].firstChild;r!==null&&Co(i[U],i,r,t)}n[$n]!==n[Vt]&&t.push(n[$n])}function Sh(n){if(n[vi]!==null){for(let t of n[vi])t.impl.addSequence(t);n[vi].length=0}}var Ph=[];function wb(n){return n[ot]??Db(n)}function Db(n){let t=Ph.pop()??Object.create(Tb);return t.lView=n,t}function Ib(n){n.lView[ot]!==n&&(n.lView=null,Ph.push(n))}var Tb=A(E({},Wi),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{bi(n.lView)},consumerOnSignalRead(){this.lView[ot]=this}});function kb(n){let t=n[ot]??Object.create(Ab);return t.lView=n,t}var Ab=A(E({},Wi),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let t=Vn(n.lView);for(;t&&!wh(t[U]);)t=Vn(t);t&&Sd(t)},consumerOnSignalRead(){this.lView[ot]=this}});function wh(n){return n.type!==2}function Dh(n){if(n[Fn]===null)return;let t=!0;for(;t;){let e=!1;for(let i of n[Fn])i.dirty&&(e=!0,i.zone===null||Zone.current===i.zone?i.run():i.zone.run(()=>i.run()));t=e&&!!(n[q]&8192)}}var Rb=100;function Ih(n,t=0){let i=n[en].rendererFactory,r=!1;r||i.begin?.();try{Nb(n,t)}finally{r||i.end?.()}}function Nb(n,t){let e=Fd();try{Zr(!0),fu(n,t);let i=0;for(;so(n);){if(i===Rb)throw new F(103,!1);i++,fu(n,1)}}finally{Zr(e)}}function Lb(n,t,e,i){if(yi(t))return;let r=t[q],o=!1,a=!1;Ja(t);let l=!0,u=null,f=null;o||(wh(n)?(f=wb(t),u=Yi(f)):Ea()===null?(l=!1,f=kb(t),u=Yi(f)):t[ot]&&(ai(t[ot]),t[ot]=null));try{Ed(t),Ng(n.bindingStartIndex),e!==null&&Mh(n,t,e,2,i);let g=(r&3)===3;if(!o)if(g){let y=n.preOrderCheckHooks;y!==null&&is(t,y,null)}else{let y=n.preOrderHooks;y!==null&&rs(t,y,0,null),Yd(t,0)}if(a||Fb(t),Dh(t),Th(t,0),n.contentQueries!==null&&eh(n,t),!o)if(g){let y=n.contentCheckHooks;y!==null&&is(t,y)}else{let y=n.contentHooks;y!==null&&rs(t,y,1),Yd(t,1)}jb(n,t);let m=n.components;m!==null&&Ah(t,m,0);let _=n.viewQuery;if(_!==null&&du(2,_,i),!o)if(g){let y=n.viewCheckHooks;y!==null&&is(t,y)}else{let y=n.viewHooks;y!==null&&rs(t,y,2),Yd(t,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),t[$a]){for(let y of t[$a])y();t[$a]=null}o||(Sh(t),t[q]&=-73)}catch(g){throw o||bi(t),g}finally{f!==null&&(qr(f,u),l&&Ib(f)),Qa()}}function Th(n,t){for(let e=qm(n);e!==null;e=Wm(e))for(let i=be;i<e.length;i++){let r=e[i];kh(r,t)}}function Fb(n){for(let t=qm(n);t!==null;t=Wm(t)){if(!(t[q]&2))continue;let e=t[Ci];for(let i=0;i<e.length;i++){let r=e[i];Sd(r)}}}function Vb(n,t,e){ce(oe.ComponentStart);let i=xt(t,n);try{kh(i,e)}finally{ce(oe.ComponentEnd,i[Se])}}function kh(n,t){Ga(n)&&fu(n,t)}function fu(n,t){let i=n[U],r=n[q],o=n[ot],a=!!(t===0&&r&16);if(a||=!!(r&64&&t===0),a||=!!(r&1024),a||=!!(o?.dirty&&Wr(o)),a||=!1,o&&(o.dirty=!1),n[q]&=-9217,a)Lb(i,n,i.template,n[Se]);else if(r&8192){let l=H(null);try{Dh(n),Th(n,1);let u=i.components;u!==null&&Ah(n,u,1),Sh(n)}finally{H(l)}}}function Ah(n,t,e){for(let i=0;i<t.length;i++)Vb(n,t[i],e)}function jb(n,t){let e=n.hostBindingOpCodes;if(e!==null)try{for(let i=0;i<e.length;i++){let r=e[i];if(r<0)Gn(~r);else{let o=r,a=e[++i],l=e[++i];Fg(a,o);let u=t[o];ce(oe.HostBindingsUpdateStart,u);try{l(2,u)}finally{ce(oe.HostBindingsUpdateEnd,u)}}}}finally{Gn(-1)}}function tp(n,t){let e=Fd()?64:1088;for(n[en].changeDetectionScheduler?.notify(t);n;){n[q]|=e;let i=Vn(n);if(nr(n)&&!i)return n;n=i}return null}function Rh(n,t,e,i){return[n,!0,0,t,null,i,null,e,null,null]}function Nh(n,t){let e=be+t;if(e<n.length)return n[e]}function To(n,t,e,i=!0){let r=t[U];if(Bb(r,t,n,e),i){let a=pu(e,n),l=t[ue],u=l.parentNode(n[$n]);u!==null&&tb(r,n[et],l,t,u,a)}let o=t[gi];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Lh(n,t){let e=yo(n,t);return e!==void 0&&As(e[U],e),e}function yo(n,t){if(n.length<=be)return;let e=be+t,i=n[e];if(i){let r=i[Hn];r!==null&&r!==n&&Wu(r,i),t>0&&(n[e-1][yt]=i[yt]);let o=no(n,be+t);eb(i[U],i);let a=o[tn];a!==null&&a.detachView(o[U]),i[Te]=null,i[yt]=null,i[q]&=-129}return i}function Bb(n,t,e,i){let r=be+i,o=e.length;i>0&&(e[r-1][yt]=t),i<o-be?(t[yt]=e[r],pd(e,be+i,t)):(e.push(t),t[yt]=null),t[Te]=e;let a=t[Hn];a!==null&&e!==a&&Fh(a,t);let l=t[tn];l!==null&&l.insertView(n),qa(t),t[q]|=128}function Fh(n,t){let e=n[Ci],i=t[Te];if(nn(i))n[q]|=2;else{let r=i[Te][tt];t[tt]!==r&&(n[q]|=2)}e===null?n[Ci]=[t]:e.push(t)}var qn=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let t=this._lView,e=t[U];return Co(e,t,e.firstChild,[])}constructor(t,e){this._lView=t,this._cdRefInjectingView=e}get context(){return this._lView[Se]}set context(t){this._lView[Se]=t}get destroyed(){return yi(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[Te];if(jt(t)){let e=t[oo],i=e?e.indexOf(this):-1;i>-1&&(yo(t,i),no(e,i))}this._attachedToViewContainer=!1}As(this._lView[U],this._lView)}onDestroy(t){Pd(this._lView,t)}markForCheck(){tp(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[q]&=-129}reattach(){qa(this._lView),this._lView[q]|=128}detectChanges(){this._lView[q]|=1024,Ih(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new F(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=nr(this._lView),e=this._lView[Hn];e!==null&&!t&&Wu(e,this._lView),_h(this._lView[U],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new F(902,!1);this._appRef=t;let e=nr(this._lView),i=this._lView[Hn];i!==null&&!e&&Fh(i,this._lView),qa(this._lView)}};var Wn=(()=>{class n{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=Ub;constructor(e,i,r){this._declarationLView=e,this._declarationTContainer=i,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,i){return this.createEmbeddedViewImpl(e,i)}createEmbeddedViewImpl(e,i,r){let o=Io(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:i,dehydratedView:r});return new qn(o)}}return n})();function Ub(){return Ls(Ue(),z())}function Ls(n,t){return n.type&4?new Wn(t,n,ur(n,t)):null}function fr(n,t,e,i,r){let o=n.data[t];if(o===null)o=Hb(n,t,e,i,r),Lg()&&(o.flags|=32);else if(o.type&64){o.type=e,o.value=i,o.attrs=r;let a=Ag();o.injectorIndex=a===null?-1:a.injectorIndex}return ir(o,!0),o}function Hb(n,t,e,i,r){let o=Rd(),a=Nd(),l=a?o:o&&o.parent,u=n.data[t]=zb(n,l,e,t,i,r);return $b(n,u,o,a),u}function $b(n,t,e,i){n.firstChild===null&&(n.firstChild=t),e!==null&&(i?e.child==null&&t.parent!==null&&(e.child=t):e.next===null&&(e.next=t,t.prev=e))}function zb(n,t,e,i,r,o){let a=t?t.injectorIndex:-1,l=0;return Td()&&(l|=128),{type:e,index:i,insertBeforeIndex:null,injectorIndex:a,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,fieldIndex:-1,customControlIndex:-1,propertyBindings:null,flags:l,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Gb(n){let t=n[yd]??[],i=n[Te][ue],r=[];for(let o of t)o.data[Jm]!==void 0?r.push(o):qb(o,i);n[yd]=r}function qb(n,t){let e=0,i=n.firstChild;if(i){let r=n.data[Km];for(;e<r;){let o=i.nextSibling;oh(t,i,!1),i=o,e++}}}var Wb=()=>null,Yb=()=>null;function hs(n,t){return Wb(n,t)}function Vh(n,t,e){return Yb(n,t,e)}var jh=class{},Fs=class{},gu=class{resolveComponentFactory(t){throw new F(917,!1)}},ko=class{static NULL=new gu},Si=class{},Gt=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>Kb()}return n})();function Kb(){let n=z(),t=Ue(),e=xt(t.index,n);return(nn(e)?e:n)[ue]}var Bh=(()=>{class n{static \u0275prov=k({token:n,providedIn:"root",factory:()=>null})}return n})();var as={},mu=class{injector;parentInjector;constructor(t,e){this.injector=t,this.parentInjector=e}get(t,e,i){let r=this.injector.get(t,as,i);return r!==as||e===as?r:this.parentInjector.get(t,e,i)}};function vs(n,t,e){let i=e?n.styles:null,r=e?n.classes:null,o=0;if(t!==null)for(let a=0;a<t.length;a++){let l=t[a];if(typeof l=="number")o=l;else if(o==1)r=La(r,l);else if(o==2){let u=l,f=t[++a];i=La(i,u+": "+f+";")}}e?n.styles=i:n.stylesWithoutHost=i,e?n.classes=r:n.classesWithoutHost=r}function W(n,t=0){let e=z();if(e===null)return B(n,t);let i=Ue();return Um(i,e,je(n),t)}function Uh(n,t,e,i,r){let o=i===null?null:{"":-1},a=r(n,e);if(a!==null){let l=a,u=null,f=null;for(let g of a)if(g.resolveHostDirectives!==null){[l,u,f]=g.resolveHostDirectives(a);break}Zb(n,t,e,l,o,u,f)}o!==null&&i!==null&&Jb(e,i,o)}function Jb(n,t,e){let i=n.localNames=[];for(let r=0;r<t.length;r+=2){let o=e[t[r+1]];if(o==null)throw new F(-301,!1);i.push(t[r],o)}}function Qb(n,t,e){t.componentOffset=e,(n.components??=[]).push(t.index)}function Zb(n,t,e,i,r,o,a){let l=i.length,u=null;for(let _=0;_<l;_++){let y=i[_];u===null&&rn(y)&&(u=y,Qb(n,e,_)),su(us(e,t),n,y.type)}r1(e,n.data.length,l),u?.viewProvidersResolver&&u.viewProvidersResolver(u);for(let _=0;_<l;_++){let y=i[_];y.providersResolver&&y.providersResolver(y)}let f=!1,g=!1,m=fh(n,t,l,null);l>0&&(e.directiveToIndex=new Map);for(let _=0;_<l;_++){let y=i[_];if(e.mergedAttrs=ar(e.mergedAttrs,y.hostAttrs),e1(n,e,t,m,y),i1(m,y,r),a!==null&&a.has(y)){let[L,R]=a.get(y);e.directiveToIndex.set(y.type,[m,L+e.directiveStart,R+e.directiveStart])}else(o===null||!o.has(y))&&e.directiveToIndex.set(y.type,m);y.contentQueries!==null&&(e.flags|=4),(y.hostBindings!==null||y.hostAttrs!==null||y.hostVars!==0)&&(e.flags|=64);let D=y.type.prototype;!f&&(D.ngOnChanges||D.ngOnInit||D.ngDoCheck)&&((n.preOrderHooks??=[]).push(e.index),f=!0),!g&&(D.ngOnChanges||D.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(e.index),g=!0),m++}Xb(n,e,o)}function Xb(n,t,e){for(let i=t.directiveStart;i<t.directiveEnd;i++){let r=n.data[i];if(e===null||!e.has(r))fm(0,t,r,i),fm(1,t,r,i),mm(t,i,!1);else{let o=e.get(r);gm(0,t,o,i),gm(1,t,o,i),mm(t,i,!0)}}}function fm(n,t,e,i){let r=n===0?e.inputs:e.outputs;for(let o in r)if(r.hasOwnProperty(o)){let a;n===0?a=t.inputs??={}:a=t.outputs??={},a[o]??=[],a[o].push(i),Hh(t,o)}}function gm(n,t,e,i){let r=n===0?e.inputs:e.outputs;for(let o in r)if(r.hasOwnProperty(o)){let a=r[o],l;n===0?l=t.hostDirectiveInputs??={}:l=t.hostDirectiveOutputs??={},l[a]??=[],l[a].push(i,o),Hh(t,a)}}function Hh(n,t){t==="class"?n.flags|=8:t==="style"&&(n.flags|=16)}function mm(n,t,e){let{attrs:i,inputs:r,hostDirectiveInputs:o}=n;if(i===null||!e&&r===null||e&&o===null||Bu(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let a=null,l=0;for(;l<i.length;){let u=i[l];if(u===0){l+=4;continue}else if(u===5){l+=2;continue}else if(typeof u=="number")break;if(!e&&r.hasOwnProperty(u)){let f=r[u];for(let g of f)if(g===t){a??=[],a.push(u,i[l+1]);break}}else if(e&&o.hasOwnProperty(u)){let f=o[u];for(let g=0;g<f.length;g+=2)if(f[g]===t){a??=[],a.push(f[g+1],i[l+1]);break}}l+=2}n.initialInputs??=[],n.initialInputs.push(a)}function e1(n,t,e,i,r){n.data[i]=r;let o=r.factory||(r.factory=Ln(r.type,!0)),a=new Oi(o,rn(r),W,null);n.blueprint[i]=a,e[i]=a,t1(n,t,i,fh(n,e,r.hostVars,He),r)}function t1(n,t,e,i,r){let o=r.hostBindings;if(o){let a=n.hostBindingOpCodes;a===null&&(a=n.hostBindingOpCodes=[]);let l=~t.index;n1(a)!=l&&a.push(l),a.push(e,i,o)}}function n1(n){let t=n.length;for(;t>0;){let e=n[--t];if(typeof e=="number"&&e<0)return e}return 0}function i1(n,t,e){if(e){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)e[t.exportAs[i]]=n;rn(t)&&(e[""]=n)}}function r1(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}function np(n,t,e,i,r,o,a,l){let u=t[U],f=u.consts,g=Mt(f,a),m=fr(u,n,e,i,g);return o&&Uh(u,t,m,Mt(f,l),r),m.mergedAttrs=ar(m.mergedAttrs,m.attrs),m.attrs!==null&&vs(m,m.attrs,!1),m.mergedAttrs!==null&&vs(m,m.mergedAttrs,!0),u.queries!==null&&u.queries.elementStart(u,m),m}function ip(n,t){km(n,t),bd(t)&&n.queries.elementEnd(t)}function o1(n,t,e,i,r,o){let a=t.consts,l=Mt(a,r),u=fr(t,n,e,i,l);if(u.mergedAttrs=ar(u.mergedAttrs,u.attrs),o!=null){let f=Mt(a,o);u.localNames=[];for(let g=0;g<f.length;g+=2)u.localNames.push(f[g],-1)}return u.attrs!==null&&vs(u,u.attrs,!1),u.mergedAttrs!==null&&vs(u,u.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,u),u}function rp(n){return Vs(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function $h(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{let e=n[Symbol.iterator](),i;for(;!(i=e.next()).done;)t(i.value)}}function Vs(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function op(n,t,e){return n[t]=e}function a1(n,t){return n[t]}function Et(n,t,e){if(e===He)return!1;let i=n[t];return Object.is(i,e)?!1:(n[t]=e,!0)}function ap(n,t,e,i){let r=Et(n,t,e);return Et(n,t+1,i)||r}function s1(n,t,e,i,r){let o=ap(n,t,e,i);return Et(n,t+2,r)||o}function Qd(n,t,e){return function i(r){let o=zn(n)?xt(n.index,t):t;tp(o,5);let a=t[Se],l=hm(t,a,e,r),u=i.__ngNextListenerFn__;for(;u;)l=hm(t,a,u,r)&&l,u=u.__ngNextListenerFn__;return l}}function hm(n,t,e,i){let r=H(null);try{return ce(oe.OutputStart,t,e),e(i)!==!1}catch(o){return Ob(n,o),!1}finally{ce(oe.OutputEnd,t,e),H(r)}}function c1(n,t,e,i,r,o,a,l){let u=tr(n),f=!1,g=null;if(!i&&u&&(g=d1(t,e,o,n.index)),g!==null){let m=g.__ngLastListenerFn__||g;m.__ngNextListenerFn__=a,g.__ngLastListenerFn__=a,f=!0}else{let m=Bt(n,e),_=i?i(m):m;vy(e,_,o,l);let y=r.listen(_,o,l);if(!l1(o)){let D=i?L=>i(bt(L[n.index])):n.index;zh(D,t,e,o,l,y,!1)}}return f}function l1(n){return n.startsWith("animation")||n.startsWith("transition")}function d1(n,t,e,i){let r=n.cleanup;if(r!=null)for(let o=0;o<r.length-1;o+=2){let a=r[o];if(a===e&&r[o+1]===i){let l=t[Xi],u=r[o+2];return l&&l.length>u?l[u]:null}typeof a=="string"&&(o+=2)}return null}function zh(n,t,e,i,r,o,a){let l=t.firstCreatePass?Dd(t):null,u=wd(e),f=u.length;u.push(r,o),l&&l.push(i,n,f,(f+1)*(a?-1:1))}function vm(n,t,e,i,r,o){let a=t[e],l=t[U],f=l.data[e].outputs[i],m=a[f].subscribe(o);zh(n.index,l,t,r,o,m,!0)}var hu=Symbol("BINDING");var _s=class extends ko{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let e=jn(t);return new lr(e,this.ngModule)}};function u1(n){return Object.keys(n).map(t=>{let[e,i,r]=n[t],o={propName:e,templateName:t,isSignal:(i&Ts.SignalBased)!==0};return r&&(o.transform=r),o})}function p1(n){return Object.keys(n).map(t=>({propName:n[t],templateName:t}))}function f1(n,t,e){let i=t instanceof Ce?t:t?.injector;return i&&n.getStandaloneInjector!==null&&(i=n.getStandaloneInjector(i)||i),i?new mu(e,i):e}function g1(n){let t=n.get(Si,null);if(t===null)throw new F(407,!1);let e=n.get(Bh,null),i=n.get(Cn,null);return{rendererFactory:t,sanitizer:e,changeDetectionScheduler:i,ngReflect:!1}}function m1(n,t){let e=Gh(n);return ih(t,e,e==="svg"?xd:e==="math"?Eg:null)}function Gh(n){return(n.selectors[0][0]||"div").toLowerCase()}var lr=class extends Fs{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=u1(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=p1(this.componentDef.outputs),this.cachedOutputs}constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=$y(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!e}create(t,e,i,r,o,a){ce(oe.DynamicComponentStart);let l=H(null);try{let u=this.componentDef,f=h1(i,u,a,o),g=f1(u,r||this.ngModule,t),m=g1(g),_=m.rendererFactory.createRenderer(null,u),y=i?pb(_,i,u.encapsulation,g):m1(u,_),D=a?.some(_m)||o?.some(V=>typeof V!="function"&&V.bindings.some(_m)),L=Hu(null,f,null,512|ph(u),null,null,m,_,g,null,Xm(y,g,!0));L[fe]=y,Ja(L);let R=null;try{let V=np(fe,L,2,"#host",()=>f.directiveRegistry,!0,0);ah(_,y,V),sr(y,L),Ns(f,L,V),Lu(f,V,L),ip(f,V),e!==void 0&&_1(V,this.ngContentSelectors,e),R=xt(V.index,L),L[Se]=R[Se],ep(f,L,null)}catch(V){throw R!==null&&lu(R),lu(L),V}finally{ce(oe.DynamicComponentEnd),Qa()}return new Cs(this.componentType,L,!!D)}finally{H(l)}}};function h1(n,t,e,i){let r=n?["ng-version","21.1.5"]:zy(t.selectors[0]),o=null,a=null,l=0;if(e)for(let g of e)l+=g[hu].requiredVars,g.create&&(g.targetIdx=0,(o??=[]).push(g)),g.update&&(g.targetIdx=0,(a??=[]).push(g));if(i)for(let g=0;g<i.length;g++){let m=i[g];if(typeof m!="function")for(let _ of m.bindings){l+=_[hu].requiredVars;let y=g+1;_.create&&(_.targetIdx=y,(o??=[]).push(_)),_.update&&(_.targetIdx=y,(a??=[]).push(_))}}let u=[t];if(i)for(let g of i){let m=typeof g=="function"?g:g.type,_=ld(m);u.push(_)}return Uu(0,null,v1(o,a),1,l,u,null,null,null,[r],null)}function v1(n,t){return!n&&!t?null:e=>{if(e&1&&n)for(let i of n)i.create();if(e&2&&t)for(let i of t)i.update()}}function _m(n){let t=n[hu].kind;return t==="input"||t==="twoWay"}var Cs=class extends jh{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,e,i){super(),this._rootLView=e,this._hasInputBindings=i,this._tNode=ao(e[U],fe),this.location=ur(this._tNode,e),this.instance=xt(this._tNode.index,e)[Se],this.hostView=this.changeDetectorRef=new qn(e,void 0),this.componentType=t}setInput(t,e){this._hasInputBindings;let i=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),e))return;let r=this._rootLView,o=Xu(i,r[U],r,t,e);this.previousInputValues.set(t,e);let a=xt(i.index,r);tp(a,1)}get injector(){return new Mi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function _1(n,t,e){let i=n.projection=[];for(let r=0;r<t.length;r++){let o=e[r];i.push(o!=null&&o.length?Array.from(o):null)}}var Pn=(()=>{class n{static __NG_ELEMENT_ID__=C1}return n})();function C1(){let n=Ue();return Wh(n,z())}var y1=Pn,qh=class extends y1{_lContainer;_hostTNode;_hostLView;constructor(t,e,i){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=i}get element(){return ur(this._hostTNode,this._hostLView)}get injector(){return new Mi(this._hostTNode,this._hostLView)}get parentInjector(){let t=Au(this._hostTNode,this._hostLView);if(Nm(t)){let e=ls(t,this._hostLView),i=cs(t),r=e[U].data[i+8];return new Mi(r,e)}else return new Mi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let e=Cm(this._lContainer);return e!==null&&e[t]||null}get length(){return this._lContainer.length-be}createEmbeddedView(t,e,i){let r,o;typeof i=="number"?r=i:i!=null&&(r=i.index,o=i.injector);let a=hs(this._lContainer,t.ssrId),l=t.createEmbeddedViewImpl(e||{},o,a);return this.insertImpl(l,r,cr(this._hostTNode,a)),l}createComponent(t,e,i,r,o,a,l){let u=t&&!$C(t),f;if(u)f=e;else{let R=e||{};f=R.index,i=R.injector,r=R.projectableNodes,o=R.environmentInjector||R.ngModuleRef,a=R.directives,l=R.bindings}let g=u?t:new lr(jn(t)),m=i||this.parentInjector;if(!o&&g.ngModule==null){let V=(u?m:this.parentInjector).get(Ce,null);V&&(o=V)}let _=jn(g.componentType??{}),y=hs(this._lContainer,_?.id??null),D=y?.firstChild??null,L=g.create(m,r,D,o,a,l);return this.insertImpl(L.hostView,f,cr(this._hostTNode,y)),L}insert(t,e){return this.insertImpl(t,e,!0)}insertImpl(t,e,i){let r=t._lView;if(Pg(r)){let l=this.indexOf(t);if(l!==-1)this.detach(l);else{let u=r[Te],f=new qh(u,u[et],u[Te]);f.detach(f.indexOf(t))}}let o=this._adjustIndex(e),a=this._lContainer;return To(a,r,o,i),t.attachToViewContainerRef(),pd(Zd(a),o,t),t}move(t,e){return this.insert(t,e)}indexOf(t){let e=Cm(this._lContainer);return e!==null?e.indexOf(t):-1}remove(t){let e=this._adjustIndex(t,-1),i=yo(this._lContainer,e);i&&(no(Zd(this._lContainer),e),As(i[U],i))}detach(t){let e=this._adjustIndex(t,-1),i=yo(this._lContainer,e);return i&&no(Zd(this._lContainer),e)!=null?new qn(i):null}_adjustIndex(t,e=0){return t??this.length+e}};function Cm(n){return n[oo]}function Zd(n){return n[oo]||(n[oo]=[])}function Wh(n,t){let e,i=t[n.index];return jt(i)?e=i:(e=Rh(i,t,null,n),t[n.index]=e,$u(t,e)),x1(e,t,n,i),new qh(e,n,t)}function b1(n,t){let e=n[ue],i=e.createComment(""),r=Bt(t,n),o=e.parentNode(r);return gs(e,o,i,e.nextSibling(r),!1),i}var x1=E1,M1=()=>!1;function O1(n,t,e){return M1(n,t,e)}function E1(n,t,e,i){if(n[$n])return;let r;e.type&8?r=bt(i):r=b1(t,e),n[$n]=r}var vu=class n{queryList;matches=null;constructor(t){this.queryList=t}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},_u=class n{queries;constructor(t=[]){this.queries=t}createEmbeddedView(t){let e=t.queries;if(e!==null){let i=t.contentQueries!==null?t.contentQueries[0]:e.length,r=[];for(let o=0;o<i;o++){let a=e.getByIndex(o),l=this.queries[a.indexInDeclarationView];r.push(l.clone())}return new n(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)sp(t,e).matches!==null&&this.queries[e].setDirty()}},Cu=class{flags;read;predicate;constructor(t,e,i=null){this.flags=e,this.read=i,typeof t=="string"?this.predicate=A1(t):this.predicate=t}},yu=class n{queries;constructor(t=[]){this.queries=t}elementStart(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let i=0;i<this.length;i++){let r=e!==null?e.length:0,o=this.getByIndex(i).embeddedTView(t,r);o&&(o.indexInDeclarationView=i,e!==null?e.push(o):e=[o])}return e!==null?new n(e):null}template(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}},bu=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(t,e=-1){this.metadata=t,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new n(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let e=this._declarationNodeIndex,i=t.parent;for(;i!==null&&i.type&8&&i.index!==e;)i=i.parent;return e===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(t,e){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let o=i[r];this.matchTNodeWithReadOption(t,e,S1(e,o)),this.matchTNodeWithReadOption(t,e,os(e,t,o,!1,!1))}else i===Wn?e.type&4&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,os(e,t,i,!1,!1))}matchTNodeWithReadOption(t,e,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===Ae||r===Pn||r===Wn&&e.type&4)this.addMatch(e.index,-2);else{let o=os(e,t,r,!1,!1);o!==null&&this.addMatch(e.index,o)}else this.addMatch(e.index,i)}}addMatch(t,e){this.matches===null?this.matches=[t,e]:this.matches.push(t,e)}};function S1(n,t){let e=n.localNames;if(e!==null){for(let i=0;i<e.length;i+=2)if(e[i]===t)return e[i+1]}return null}function P1(n,t){return n.type&11?ur(n,t):n.type&4?Ls(n,t):null}function w1(n,t,e,i){return e===-1?P1(t,n):e===-2?D1(n,t,i):_o(n,n[U],e,t)}function D1(n,t,e){if(e===Ae)return ur(t,n);if(e===Wn)return Ls(t,n);if(e===Pn)return Wh(t,n)}function Yh(n,t,e,i){let r=t[tn].queries[i];if(r.matches===null){let o=n.data,a=e.matches,l=[];for(let u=0;a!==null&&u<a.length;u+=2){let f=a[u];if(f<0)l.push(null);else{let g=o[f];l.push(w1(t,g,a[u+1],e.metadata.read))}}r.matches=l}return r.matches}function xu(n,t,e,i){let r=n.queries.getByIndex(e),o=r.matches;if(o!==null){let a=Yh(n,t,r,e);for(let l=0;l<o.length;l+=2){let u=o[l];if(u>0)i.push(a[l/2]);else{let f=o[l+1],g=t[-u];for(let m=be;m<g.length;m++){let _=g[m];_[Hn]===_[Te]&&xu(_[U],_,f,i)}if(g[Ci]!==null){let m=g[Ci];for(let _=0;_<m.length;_++){let y=m[_];xu(y[U],y,f,i)}}}}}return i}function I1(n,t){return n[tn].queries[t].queryList}function T1(n,t,e){let i=new ps((e&4)===4);return Ig(n,t,i,i.destroy),(t[tn]??=new _u).queries.push(new vu(i))-1}function k1(n,t,e){let i=xe();return i.firstCreatePass&&(R1(i,new Cu(n,t,e),-1),(t&2)===2&&(i.staticViewQueries=!0)),T1(i,z(),t)}function A1(n){return n.split(",").map(t=>t.trim())}function R1(n,t,e){n.queries===null&&(n.queries=new yu),n.queries.track(new bu(t,e))}function sp(n,t){return n.queries.getByIndex(t)}function N1(n,t){let e=n[U],i=sp(e,t);return i.crossesNgTemplate?xu(e,n,t,[]):Yh(e,n,i,t)}var Pi=class{},js=class{};var ys=class extends Pi{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new _s(this);constructor(t,e,i,r=!0){super(),this.ngModuleType=t,this._parent=e;let o=cd(t);this._bootstrapComponents=lh(o.bootstrap),this._r3Injector=Hd(t,e,[{provide:Pi,useValue:this},{provide:ko,useValue:this.componentFactoryResolver},...i],_n(t),new Set(["environment"])),r&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},bs=class extends js{moduleType;constructor(t){super(),this.moduleType=t}create(t){return new ys(this.moduleType,t,[])}};var bo=class extends Pi{injector;componentFactoryResolver=new _s(this);instance=null;constructor(t){super();let e=new di([...t.providers,{provide:Pi,useValue:this},{provide:ko,useValue:this.componentFactoryResolver}],t.parent||ro(),t.debugName,new Set(["environment"]));this.injector=e,t.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function Ao(n,t,e=null){return new bo({providers:n,parent:t,debugName:e,runEnvironmentInitializers:!0}).injector}var L1=(()=>{class n{_injector;cachedInjectors=new Map;constructor(e){this._injector=e}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){let i=md(!1,e.type),r=i.length>0?Ao([i],this._injector,""):null;this.cachedInjectors.set(e,r)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(let e of this.cachedInjectors.values())e!==null&&e.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=k({token:n,providedIn:"environment",factory:()=>new n(B(Ce))})}return n})();function G(n){return Oo(()=>{let t=Kh(n),e=A(E({},t),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Ru.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&n.dependencies||null,getStandaloneInjector:t.standalone?r=>r.get(L1).getOrCreateStandaloneInjector(e):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||zt.Emulated,styles:n.styles||Ze,_:null,schemas:n.schemas||null,tView:null,id:""});t.standalone&&Yn("NgStandalone"),Jh(e);let i=n.dependencies;return e.directiveDefs=ym(i,F1),e.pipeDefs=ym(i,dg),e.id=B1(e),e})}function F1(n){return jn(n)||ld(n)}function cn(n){return Oo(()=>({type:n.type,bootstrap:n.bootstrap||Ze,declarations:n.declarations||Ze,imports:n.imports||Ze,exports:n.exports||Ze,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function V1(n,t){if(n==null)return Bn;let e={};for(let i in n)if(n.hasOwnProperty(i)){let r=n[i],o,a,l,u;Array.isArray(r)?(l=r[0],o=r[1],a=r[2]??o,u=r[3]||null):(o=r,a=r,l=Ts.None,u=null),e[o]=[i,l,u],t[o]=a}return e}function j1(n){if(n==null)return Bn;let t={};for(let e in n)n.hasOwnProperty(e)&&(t[n[e]]=e);return t}function ye(n){return Oo(()=>{let t=Kh(n);return Jh(t),t})}function gr(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function Kh(n){let t={};return{type:n.type,providersResolver:null,viewProvidersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,inputConfig:n.inputs||Bn,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||Ze,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:V1(n.inputs,t),outputs:j1(n.outputs),debugInfo:null}}function Jh(n){n.features?.forEach(t=>t(n))}function ym(n,t){return n?()=>{let e=typeof n=="function"?n():n,i=[];for(let r of e){let o=t(r);o!==null&&i.push(o)}return i}:null}function B1(n){let t=0,e=typeof n.consts=="function"?"":n.consts,i=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,e,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of i.join("|"))t=Math.imul(31,t)+o.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function U1(n){return Object.getPrototypeOf(n.prototype).constructor}function St(n){let t=U1(n.type),e=!0,i=[n];for(;t;){let r;if(rn(n))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new F(903,!1);r=t.\u0275dir}if(r){if(e){i.push(r);let a=n;a.inputs=Xd(n.inputs),a.declaredInputs=Xd(n.declaredInputs),a.outputs=Xd(n.outputs);let l=r.hostBindings;l&&q1(n,l);let u=r.viewQuery,f=r.contentQueries;if(u&&z1(n,u),f&&G1(n,f),H1(n,r),lg(n.outputs,r.outputs),rn(r)&&r.data.animation){let g=n.data;g.animation=(g.animation||[]).concat(r.data.animation)}}let o=r.features;if(o)for(let a=0;a<o.length;a++){let l=o[a];l&&l.ngInherit&&l(n),l===St&&(e=!1)}}t=Object.getPrototypeOf(t)}$1(i)}function H1(n,t){for(let e in t.inputs){if(!t.inputs.hasOwnProperty(e)||n.inputs.hasOwnProperty(e))continue;let i=t.inputs[e];i!==void 0&&(n.inputs[e]=i,n.declaredInputs[e]=t.declaredInputs[e])}}function $1(n){let t=0,e=null;for(let i=n.length-1;i>=0;i--){let r=n[i];r.hostVars=t+=r.hostVars,r.hostAttrs=ar(r.hostAttrs,e=ar(e,r.hostAttrs))}}function Xd(n){return n===Bn?{}:n===Ze?[]:n}function z1(n,t){let e=n.viewQuery;e?n.viewQuery=(i,r)=>{t(i,r),e(i,r)}:n.viewQuery=t}function G1(n,t){let e=n.contentQueries;e?n.contentQueries=(i,r,o)=>{t(i,r,o),e(i,r,o)}:n.contentQueries=t}function q1(n,t){let e=n.hostBindings;e?n.hostBindings=(i,r)=>{t(i,r),e(i,r)}:n.hostBindings=t}function Qh(n,t,e,i,r,o,a,l){if(e.firstCreatePass){n.mergedAttrs=ar(n.mergedAttrs,n.attrs);let g=n.tView=Uu(2,n,r,o,a,e.directiveRegistry,e.pipeRegistry,null,e.schemas,e.consts,null);e.queries!==null&&(e.queries.template(e,n),g.queries=e.queries.embeddedTView(n))}l&&(n.flags|=l),ir(n,!1);let u=Y1(e,t,n,i);Xa()&&Yu(e,t,u,n),sr(u,t);let f=Rh(u,t,u,n);t[i+fe]=f,$u(t,f),O1(f,n,t)}function W1(n,t,e,i,r,o,a,l,u,f,g){let m=e+fe,_;return t.firstCreatePass?(_=fr(t,m,4,a||null,l||null),Wa()&&Uh(t,n,_,Mt(t.consts,f),Ju),km(t,_)):_=t.data[m],Qh(_,n,t,e,i,r,o,u),tr(_)&&Ns(t,n,_),f!=null&&Do(n,_,g),_}function xo(n,t,e,i,r,o,a,l,u,f,g){let m=e+fe,_;if(t.firstCreatePass){if(_=fr(t,m,4,a||null,l||null),f!=null){let y=Mt(t.consts,f);_.localNames=[];for(let D=0;D<y.length;D+=2)_.localNames.push(y[D],-1)}}else _=t.data[m];return Qh(_,n,t,e,i,r,o,u),f!=null&&Do(n,_,g),_}function b(n,t,e,i,r,o,a,l){let u=z(),f=xe(),g=Mt(f.consts,o);return W1(u,f,n,t,e,i,r,g,void 0,a,l),b}var Y1=K1;function K1(n,t,e,i){return uo(!0),t[ue].createComment("")}var cp=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function Zh(n){return typeof n=="function"&&n[Je]!==void 0}function lp(n){return Zh(n)&&typeof n.set=="function"}var dp=new j("");function Kn(n){return!!n&&typeof n.then=="function"}function up(n){return!!n&&typeof n.subscribe=="function"}var Bs=new j("");var pp=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((e,i)=>{this.resolve=e,this.reject=i});appInits=C(Bs,{optional:!0})??[];injector=C(Xe);constructor(){}runInitializers(){if(this.initialized)return;let e=[];for(let r of this.appInits){let o=Ne(this.injector,r);if(Kn(o))e.push(o);else if(up(o)){let a=new Promise((l,u)=>{o.subscribe({complete:l,error:u})});e.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{i()}).catch(r=>{this.reject(r)}),e.length===0&&i(),this.initialized=!0}static \u0275fac=function(i){return new(i||n)};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Us=new j("");function Xh(){Fl(()=>{let n="";throw new F(600,n)})}function e0(n){return n.isBoundToModule}var J1=10;var Jn=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=C(st);afterRenderManager=C(Gu);zonelessEnabled=C(fo);rootEffectScheduler=C(es);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new ze;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=C(On);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(pe(e=>!e))}constructor(){C(Sn,{optional:!0})}whenStable(){let e;return new Promise(i=>{e=this.isStable.subscribe({next:r=>{r&&i()}})}).finally(()=>{e.unsubscribe()})}_injector=C(Ce);_rendererFactory=null;get injector(){return this._injector}bootstrap(e,i){return this.bootstrapImpl(e,i)}bootstrapImpl(e,i,r=Xe.NULL){return this._injector.get(Be).run(()=>{ce(oe.BootstrapComponentStart);let a=e instanceof Fs;if(!this._injector.get(pp).done){let D="";throw new F(405,D)}let u;a?u=e:u=this._injector.get(ko).resolveComponentFactory(e),this.componentTypes.push(u.componentType);let f=e0(u)?void 0:this._injector.get(Pi),g=i||u.selector,m=u.create(r,[],g,f),_=m.location.nativeElement,y=m.injector.get(dp,null);return y?.registerApplication(_),m.onDestroy(()=>{this.detachView(m.hostView),vo(this.components,m),y?.unregisterApplication(_)}),this._loadComponent(m),ce(oe.BootstrapComponentEnd,m),m})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){ce(oe.ChangeDetectionStart),this.tracingSnapshot!==null?this.tracingSnapshot.run(ks.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw ce(oe.ChangeDetectionEnd),new F(101,!1);let e=H(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,H(e),this.afterTick.next(),ce(oe.ChangeDetectionEnd)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Si,null,{optional:!0}));let e=0;for(;this.dirtyFlags!==0&&e++<J1;){ce(oe.ChangeDetectionSyncStart);try{this.synchronizeOnce()}finally{ce(oe.ChangeDetectionSyncEnd)}}}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let e=!1;if(this.dirtyFlags&7){let i=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r}of this.allViews){if(!i&&!so(r))continue;let o=i&&!this.zonelessEnabled?0:1;Ih(r,o),e=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}e||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:e})=>so(e))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(e){let i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){let i=e;vo(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView);try{this.tick()}catch(r){this.internalErrorHandler(r)}this.components.push(e),this._injector.get(Us,[]).forEach(r=>r(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>vo(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new F(406,!1);let e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(i){return new(i||n)};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function vo(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}function mr(n,t,e,i){let r=z(),o=xi();if(Et(r,o,t)){let a=xe(),l=Za();bb(l,r,n,t,e,i)}return mr}var MA=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";var Mu=class{destroy(t){}updateValue(t,e){}swap(t,e){let i=Math.min(t,e),r=Math.max(t,e),o=this.detach(r);if(r-i>1){let a=this.detach(i);this.attach(i,o),this.attach(r,a)}else this.attach(i,o)}move(t,e){this.attach(e,this.detach(t))}};function eu(n,t,e,i,r){return n===e&&Object.is(t,i)?1:Object.is(r(n,t),r(e,i))?-1:0}function Q1(n,t,e,i){let r,o,a=0,l=n.length-1,u=void 0;if(Array.isArray(t)){H(i);let f=t.length-1;for(H(null);a<=l&&a<=f;){let g=n.at(a),m=t[a],_=eu(a,g,a,m,e);if(_!==0){_<0&&n.updateValue(a,m),a++;continue}let y=n.at(l),D=t[f],L=eu(l,y,f,D,e);if(L!==0){L<0&&n.updateValue(l,D),l--,f--;continue}let R=e(a,g),V=e(l,y),ee=e(a,m);if(Object.is(ee,V)){let Q=e(f,D);Object.is(Q,R)?(n.swap(a,l),n.updateValue(l,D),f--,l--):n.move(l,a),n.updateValue(a,m),a++;continue}if(r??=new xs,o??=xm(n,a,l,e),Ou(n,r,a,ee))n.updateValue(a,m),a++,l++;else if(o.has(ee))r.set(R,n.detach(a)),l--;else{let Q=n.create(a,t[a]);n.attach(a,Q),a++,l++}}for(;a<=f;)bm(n,r,e,a,t[a]),a++}else if(t!=null){H(i);let f=t[Symbol.iterator]();H(null);let g=f.next();for(;!g.done&&a<=l;){let m=n.at(a),_=g.value,y=eu(a,m,a,_,e);if(y!==0)y<0&&n.updateValue(a,_),a++,g=f.next();else{r??=new xs,o??=xm(n,a,l,e);let D=e(a,_);if(Ou(n,r,a,D))n.updateValue(a,_),a++,l++,g=f.next();else if(!o.has(D))n.attach(a,n.create(a,_)),a++,l++,g=f.next();else{let L=e(a,m);r.set(L,n.detach(a)),l--}}}for(;!g.done;)bm(n,r,e,n.length,g.value),g=f.next()}for(;a<=l;)n.destroy(n.detach(l--));r?.forEach(f=>{n.destroy(f)})}function Ou(n,t,e,i){return t!==void 0&&t.has(i)?(n.attach(e,t.get(i)),t.delete(i),!0):!1}function bm(n,t,e,i,r){if(Ou(n,t,i,e(i,r)))n.updateValue(i,r);else{let o=n.create(i,r);n.attach(i,o)}}function xm(n,t,e,i){let r=new Set;for(let o=t;o<=e;o++)r.add(i(o,n.at(o)));return r}var xs=class{kvMap=new Map;_vMap=void 0;has(t){return this.kvMap.has(t)}delete(t){if(!this.has(t))return!1;let e=this.kvMap.get(t);return this._vMap!==void 0&&this._vMap.has(e)?(this.kvMap.set(t,this._vMap.get(e)),this._vMap.delete(e)):this.kvMap.delete(t),!0}get(t){return this.kvMap.get(t)}set(t,e){if(this.kvMap.has(t)){let i=this.kvMap.get(t);this._vMap===void 0&&(this._vMap=new Map);let r=this._vMap;for(;r.has(i);)i=r.get(i);r.set(i,e)}else this.kvMap.set(t,e)}forEach(t){for(let[e,i]of this.kvMap)if(t(i,e),this._vMap!==void 0){let r=this._vMap;for(;r.has(i);)i=r.get(i),t(i,e)}}};function ge(n,t,e,i,r,o,a,l){Yn("NgControlFlow");let u=z(),f=xe(),g=Mt(f.consts,o);return xo(u,f,n,t,e,i,r,g,256,a,l),fp}function fp(n,t,e,i,r,o,a,l){Yn("NgControlFlow");let u=z(),f=xe(),g=Mt(f.consts,o);return xo(u,f,n,t,e,i,r,g,512,a,l),fp}function me(n,t){Yn("NgControlFlow");let e=z(),i=xi(),r=e[i]!==He?e[i]:-1,o=r!==-1?Ms(e,fe+r):void 0,a=0;if(Et(e,i,n)){let l=H(null);try{if(o!==void 0&&Lh(o,a),n!==-1){let u=fe+n,f=Ms(e,u),g=wu(e[U],u),m=Vh(f,g,e),_=Io(e,g,t,{dehydratedView:m});To(f,_,a,cr(g,m))}}finally{H(l)}}else if(o!==void 0){let l=Nh(o,a);l!==void 0&&(l[Se]=t)}}var Eu=class{lContainer;$implicit;$index;constructor(t,e,i){this.lContainer=t,this.$implicit=e,this.$index=i}get $count(){return this.lContainer.length-be}};function Hs(n){return n}function $s(n,t){return t}var Su=class{hasEmptyBlock;trackByFn;liveCollection;constructor(t,e,i){this.hasEmptyBlock=t,this.trackByFn=e,this.liveCollection=i}};function wn(n,t,e,i,r,o,a,l,u,f,g,m,_){Yn("NgControlFlow");let y=z(),D=xe(),L=u!==void 0,R=z(),V=l?a.bind(R[tt][Se]):a,ee=new Su(L,V);R[fe+n]=ee,xo(y,D,n+1,t,e,i,r,Mt(D.consts,o),256),L&&xo(y,D,n+2,u,f,g,m,Mt(D.consts,_),512)}var Pu=class extends Mu{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(t,e,i){super(),this.lContainer=t,this.hostLView=e,this.templateTNode=i}get length(){return this.lContainer.length-be}at(t){return this.getLView(t)[Se].$implicit}attach(t,e){let i=e[gi];this.needsIndexUpdate||=t!==this.length,To(this.lContainer,e,t,cr(this.templateTNode,i)),Z1(this.lContainer,t)}detach(t){return this.needsIndexUpdate||=t!==this.length-1,X1(this.lContainer,t),ex(this.lContainer,t)}create(t,e){let i=hs(this.lContainer,this.templateTNode.tView.ssrId);return Io(this.hostLView,this.templateTNode,new Eu(this.lContainer,e,t),{dehydratedView:i})}destroy(t){As(t[U],t)}updateValue(t,e){this.getLView(t)[Se].$implicit=e}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let t=0;t<this.length;t++)this.getLView(t)[Se].$index=t}getLView(t){return tx(this.lContainer,t)}};function Dn(n){let t=H(null),e=Ut();try{let i=z(),r=i[U],o=i[e],a=e+1,l=Ms(i,a);if(o.liveCollection===void 0){let f=wu(r,a);o.liveCollection=new Pu(l,i,f)}else o.liveCollection.reset();let u=o.liveCollection;if(Q1(u,n,o.trackByFn,t),u.updateIndexes(),o.hasEmptyBlock){let f=xi(),g=u.length===0;if(Et(i,f,g)){let m=e+2,_=Ms(i,m);if(g){let y=wu(r,m),D=Vh(_,y,i),L=Io(i,y,void 0,{dehydratedView:D});To(_,L,0,cr(y,D))}else r.firstUpdatePass&&Gb(_),Lh(_,0)}}}finally{H(t)}}function Ms(n,t){return n[t]}function Z1(n,t){if(n.length<=be)return;let e=be+t,i=n[e],r=i?i[_i]:void 0;if(i&&r&&r.detachedLeaveAnimationFns&&r.detachedLeaveAnimationFns.length>0){let o=i[xn];Qy(o,r),Ei.delete(i[Mn]),r.detachedLeaveAnimationFns=void 0}}function X1(n,t){if(n.length<=be)return;let e=be+t,i=n[e],r=i?i[_i]:void 0;r&&r.leave&&r.leave.size>0&&(r.detachedLeaveAnimationFns=[])}function ex(n,t){return yo(n,t)}function tx(n,t){return Nh(n,t)}function wu(n,t){return ao(n,t)}function v(n,t,e){let i=z(),r=xi();if(Et(i,r,t)){let o=xe(),a=Za();Oh(a,i,n,t,i[ue],e)}return v}function Du(n,t,e,i,r){Xu(t,n,e,r?"class":"style",i)}function s(n,t,e,i){let r=z(),o=r[U],a=n+fe,l=o.firstCreatePass?np(a,r,2,t,Ju,Wa(),e,i):o.data[a];if(Qu(l,r,n,t,t0),tr(l)){let u=r[U];Ns(u,r,l),Lu(u,l,r)}return i!=null&&Do(r,l),s}function c(){let n=xe(),t=Ue(),e=Zu(t);return n.firstCreatePass&&ip(n,e),kd(e)&&Ad(),Id(),e.classesWithoutHost!=null&&KC(e)&&Du(n,e,z(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&JC(e)&&Du(n,e,z(),e.stylesWithoutHost,!1),c}function M(n,t,e,i){return s(n,t,e,i),c(),M}function it(n,t,e,i){let r=z(),o=r[U],a=n+fe,l=o.firstCreatePass?o1(a,o,2,t,e,i):o.data[a];return Qu(l,r,n,t,t0),i!=null&&Do(r,l),it}function ct(){let n=Ue(),t=Zu(n);return kd(t)&&Ad(),Id(),ct}function Pt(n,t,e,i){return it(n,t,e,i),ct(),Pt}var t0=(n,t,e,i,r)=>(uo(!0),ih(t[ue],i,zg()));function lt(n,t,e){let i=z(),r=i[U],o=n+fe,a=r.firstCreatePass?np(o,i,8,"ng-container",Ju,Wa(),t,e):r.data[o];if(Qu(a,i,n,"ng-container",nx),tr(a)){let l=i[U];Ns(l,i,a),Lu(l,a,i)}return e!=null&&Do(i,a),lt}function dt(){let n=xe(),t=Ue(),e=Zu(t);return n.firstCreatePass&&ip(n,e),dt}var nx=(n,t,e,i,r)=>(uo(!0),Py(t[ue],""));function T(){return z()}var mo=void 0;function ix(n){let t=Math.floor(Math.abs(n)),e=n.toString().replace(/^[^.]*\.?/,"").length;return t===1&&e===0?1:5}var rx=["en",[["a","p"],["AM","PM"]],[["AM","PM"]],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],mo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],mo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm\u202Fa","h:mm:ss\u202Fa","h:mm:ss\u202Fa z","h:mm:ss\u202Fa zzzz"],["{1}, {0}",mo,mo,mo],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",ix],tu={};function zs(n){let t=ox(n),e=Mm(t);if(e)return e;let i=t.split("-")[0];if(e=Mm(i),e)return e;if(i==="en")return rx;throw new F(701,!1)}function Mm(n){return n in tu||(tu[n]=yn.ng&&yn.ng.common&&yn.ng.common.locales&&yn.ng.common.locales[n]),tu[n]}var Di=(function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n})(Di||{});function ox(n){return n.toLowerCase().replace(/_/g,"-")}var Ro="en-US";var ax=Ro;function n0(n){typeof n=="string"&&(ax=n.toLowerCase().replace(/_/g,"-"))}function O(n,t,e){let i=z(),r=xe(),o=Ue();return i0(r,i,i[ue],o,n,t,e),O}function i0(n,t,e,i,r,o,a){let l=!0,u=null;if((i.type&3||a)&&(u??=Qd(i,t,o),c1(i,n,t,a,e,r,o,u)&&(l=!1)),l){let f=i.outputs?.[r],g=i.hostDirectiveOutputs?.[r];if(g&&g.length)for(let m=0;m<g.length;m+=2){let _=g[m],y=g[m+1];u??=Qd(i,t,o),vm(i,t,_,y,r,u)}if(f&&f.length)for(let m of f)u??=Qd(i,t,o),vm(i,t,m,r,r,u)}}function h(n=1){return $g(n)}function sx(n,t){let e=null,i=Vy(n);for(let r=0;r<t.length;r++){let o=t[r];if(o==="*"){e=r;continue}if(i===null?uh(n,o,!0):Uy(i,o))return r}return e}function No(n){let t=z()[tt][et];if(!t.projection){let e=n?n.length:1,i=t.projection=hg(e,null),r=i.slice(),o=t.child;for(;o!==null;){if(o.type!==128){let a=n?sx(o,n):0;a!==null&&(r[a]?r[a].projectionNext=o:i[a]=o,r[a]=o)}o=o.next}}}function hr(n,t=0,e,i,r,o){let a=z(),l=xe(),u=i?n+1:null;u!==null&&xo(a,l,u,i,r,o,null,e);let f=fr(l,fe+n,16,null,e||null);f.projection===null&&(f.projection=t),Ld();let m=!a[gi]||Td();a[tt][et].projection[f.projection]===null&&u!==null?cx(a,l,u):m&&!Ds(f)&&lb(l,a,f)}function cx(n,t,e){let i=fe+e,r=t.data[i],o=n[i],a=hs(o,r.tView.ssrId),l=Io(n,r,void 0,{dehydratedView:a});To(o,l,0,cr(r,a))}function ln(n,t,e){return k1(n,t,e),ln}function ut(n){let t=z(),e=xe(),i=jd();Ka(i+1);let r=sp(e,i);if(n.dirty&&Sg(t)===((r.metadata.flags&2)===2)){if(r.matches===null)n.reset([]);else{let o=N1(t,i);n.reset(o,ly),n.notifyOnChanges()}return!0}return!1}function pt(){return I1(z(),jd())}function Gs(n){let t=Rg();return za(t,fe+n)}function ns(n,t){return n<<17|t<<2}function wi(n){return n>>17&32767}function lx(n){return(n&2)==2}function dx(n,t){return n&131071|t<<17}function Iu(n){return n|2}function dr(n){return(n&131068)>>2}function nu(n,t){return n&-131069|t<<2}function ux(n){return(n&1)===1}function Tu(n){return n|1}function px(n,t,e,i,r,o){let a=o?t.classBindings:t.styleBindings,l=wi(a),u=dr(a);n[i]=e;let f=!1,g;if(Array.isArray(e)){let m=e;g=m[1],(g===null||Zi(m,g)>0)&&(f=!0)}else g=e;if(r)if(u!==0){let _=wi(n[l+1]);n[i+1]=ns(_,l),_!==0&&(n[_+1]=nu(n[_+1],i)),n[l+1]=dx(n[l+1],i)}else n[i+1]=ns(l,0),l!==0&&(n[l+1]=nu(n[l+1],i)),l=i;else n[i+1]=ns(u,0),l===0?l=i:n[u+1]=nu(n[u+1],i),u=i;f&&(n[i+1]=Iu(n[i+1])),Om(n,g,i,!0),Om(n,g,i,!1),fx(t,g,n,i,o),a=ns(l,u),o?t.classBindings=a:t.styleBindings=a}function fx(n,t,e,i,r){let o=r?n.residualClasses:n.residualStyles;o!=null&&typeof t=="string"&&Zi(o,t)>=0&&(e[i+1]=Tu(e[i+1]))}function Om(n,t,e,i){let r=n[e+1],o=t===null,a=i?wi(r):dr(r),l=!1;for(;a!==0&&(l===!1||o);){let u=n[a],f=n[a+1];gx(u,t)&&(l=!0,n[a+1]=i?Tu(f):Iu(f)),a=i?wi(f):dr(f)}l&&(n[e+1]=i?Iu(r):Tu(r))}function gx(n,t){return n===null||t==null||(Array.isArray(n)?n[1]:n)===t?!0:Array.isArray(n)&&typeof t=="string"?Zi(n,t)>=0:!1}var $t={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function mx(n){return n.substring($t.key,$t.keyEnd)}function hx(n){return vx(n),r0(n,o0(n,0,$t.textEnd))}function r0(n,t){let e=$t.textEnd;return e===t?-1:(t=$t.keyEnd=_x(n,$t.key=t,e),o0(n,t,e))}function vx(n){$t.key=0,$t.keyEnd=0,$t.value=0,$t.valueEnd=0,$t.textEnd=n.length}function o0(n,t,e){for(;t<e&&n.charCodeAt(t)<=32;)t++;return t}function _x(n,t,e){for(;t<e&&n.charCodeAt(t)>32;)t++;return t}function Ii(n,t,e){return a0(n,t,e,!1),Ii}function I(n,t){return a0(n,t,null,!0),I}function Ti(n){yx(Sx,Cx,n,!0)}function Cx(n,t){for(let e=hx(t);e>=0;e=r0(t,e))Ua(n,mx(t),!0)}function a0(n,t,e,i){let r=z(),o=xe(),a=lo(2);if(o.firstUpdatePass&&c0(o,n,a,i),t!==He&&Et(r,a,t)){let l=o.data[Ut()];l0(o,l,r,r[ue],n,r[a+1]=wx(t,e),i,a)}}function yx(n,t,e,i){let r=xe(),o=lo(2);r.firstUpdatePass&&c0(r,null,o,i);let a=z();if(e!==He&&Et(a,o,e)){let l=r.data[Ut()];if(d0(l,i)&&!s0(r,o)){let u=i?l.classesWithoutHost:l.stylesWithoutHost;u!==null&&(e=La(u,e||"")),Du(r,l,a,e,i)}else Px(r,l,a,a[ue],a[o+1],a[o+1]=Ex(n,t,e),i,o)}}function s0(n,t){return t>=n.expandoStartIndex}function c0(n,t,e,i){let r=n.data;if(r[e+1]===null){let o=r[Ut()],a=s0(n,e);d0(o,i)&&t===null&&!a&&(t=!1),t=bx(r,o,t,i),px(r,o,t,e,a,i)}}function bx(n,t,e,i){let r=jg(n),o=i?t.residualClasses:t.residualStyles;if(r===null)(i?t.classBindings:t.styleBindings)===0&&(e=iu(null,n,t,e,i),e=Mo(e,t.attrs,i),o=null);else{let a=t.directiveStylingLast;if(a===-1||n[a]!==r)if(e=iu(r,n,t,e,i),o===null){let u=xx(n,t,i);u!==void 0&&Array.isArray(u)&&(u=iu(null,n,t,u[1],i),u=Mo(u,t.attrs,i),Mx(n,t,i,u))}else o=Ox(n,t,i)}return o!==void 0&&(i?t.residualClasses=o:t.residualStyles=o),e}function xx(n,t,e){let i=e?t.classBindings:t.styleBindings;if(dr(i)!==0)return n[wi(i)]}function Mx(n,t,e,i){let r=e?t.classBindings:t.styleBindings;n[wi(r)]=i}function Ox(n,t,e){let i,r=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<r;o++){let a=n[o].hostAttrs;i=Mo(i,a,e)}return Mo(i,t.attrs,e)}function iu(n,t,e,i,r){let o=null,a=e.directiveEnd,l=e.directiveStylingLast;for(l===-1?l=e.directiveStart:l++;l<a&&(o=t[l],i=Mo(i,o.hostAttrs,r),o!==n);)l++;return n!==null&&(e.directiveStylingLast=l),i}function Mo(n,t,e){let i=e?1:2,r=-1;if(t!==null)for(let o=0;o<t.length;o++){let a=t[o];typeof a=="number"?r=a:r===i&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),Ua(n,a,e?!0:t[++o]))}return n===void 0?null:n}function Ex(n,t,e){if(e==null||e==="")return Ze;let i=[],r=Po(e);if(Array.isArray(r))for(let o=0;o<r.length;o++)n(i,r[o],!0);else if(r instanceof Set)for(let o of r)n(i,o,!0);else if(typeof r=="object")for(let o in r)r.hasOwnProperty(o)&&n(i,o,r[o]);else typeof r=="string"&&t(i,r);return i}function Sx(n,t,e){let i=String(t);i!==""&&!i.includes(" ")&&Ua(n,i,e)}function Px(n,t,e,i,r,o,a,l){r===He&&(r=Ze);let u=0,f=0,g=0<r.length?r[0]:null,m=0<o.length?o[0]:null;for(;g!==null||m!==null;){let _=u<r.length?r[u+1]:void 0,y=f<o.length?o[f+1]:void 0,D=null,L;g===m?(u+=2,f+=2,_!==y&&(D=m,L=y)):m===null||g!==null&&g<m?(u+=2,D=g):(f+=2,D=m,L=y),D!==null&&l0(n,t,e,i,D,L,a,l),g=u<r.length?r[u]:null,m=f<o.length?o[f]:null}}function l0(n,t,e,i,r,o,a,l){if(!(t.type&3))return;let u=n.data,f=u[l+1],g=ux(f)?Em(u,t,e,r,dr(f),a):void 0;if(!Os(g)){Os(o)||lx(f)&&(o=Em(u,null,e,r,l,a));let m=Md(Ut(),e);ub(i,a,m,r,o)}}function Em(n,t,e,i,r,o){let a=t===null,l;for(;r>0;){let u=n[r],f=Array.isArray(u),g=f?u[1]:u,m=g===null,_=e[r+1];_===He&&(_=m?Ze:void 0);let y=m?Ha(_,i):g===i?_:void 0;if(f&&!Os(y)&&(y=Ha(u,i)),Os(y)&&(l=y,a))return l;let D=n[r+1];r=a?wi(D):dr(D)}if(t!==null){let u=o?t.residualClasses:t.residualStyles;u!=null&&(l=Ha(u,i))}return l}function Os(n){return n!==void 0}function wx(n,t){return n==null||n===""||(typeof t=="string"?n=n+t:typeof n=="object"&&(n=_n(Po(n)))),n}function d0(n,t){return(n.flags&(t?8:16))!==0}function d(n,t=""){let e=z(),i=xe(),r=n+fe,o=i.firstCreatePass?fr(i,r,1,t,null):i.data[r],a=Dx(i,e,o,t);e[r]=a,Xa()&&Yu(i,e,a,o),ir(o,!1)}var Dx=(n,t,e,i)=>(uo(!0),Ey(t[ue],i));function u0(n,t,e,i=""){return Et(n,xi(),e)?t+bn(e)+i:He}function p0(n,t,e,i,r,o=""){let a=Vd(),l=ap(n,a,e,r);return lo(2),l?t+bn(e)+i+bn(r)+o:He}function Ix(n,t,e,i,r,o,a,l=""){let u=Vd(),f=s1(n,u,e,r,a);return lo(3),f?t+bn(e)+i+bn(r)+o+bn(a)+l:He}function x(n){return w("",n),x}function w(n,t,e){let i=z(),r=u0(i,n,t,e);return r!==He&&gp(i,Ut(),r),w}function te(n,t,e,i,r){let o=z(),a=p0(o,n,t,e,i,r);return a!==He&&gp(o,Ut(),a),te}function qs(n,t,e,i,r,o,a){let l=z(),u=Ix(l,n,t,e,i,r,o,a);return u!==He&&gp(l,Ut(),u),qs}function gp(n,t,e){let i=Md(t,n);Sy(n[ue],i,e)}function Me(n,t,e){lp(t)&&(t=t());let i=z(),r=xi();if(Et(i,r,t)){let o=xe(),a=Za();Oh(a,i,n,t,i[ue],e)}return Me}function we(n,t){let e=lp(n);return e&&n.set(t),e}function Oe(n,t){let e=z(),i=xe(),r=Ue();return i0(i,e,e[ue],r,n,t),Oe}function Lo(n,t,e=""){return u0(z(),n,t,e)}function mp(n,t,e,i,r=""){return p0(z(),n,t,e,i,r)}function Sm(n,t,e){let i=xe();i.firstCreatePass&&f0(t,i.data,i.blueprint,rn(n),e)}function f0(n,t,e,i,r){if(n=je(n),Array.isArray(n))for(let o=0;o<n.length;o++)f0(n[o],t,e,i,r);else{let o=xe(),a=z(),l=Ue(),u=li(n)?n:je(n.provide),f=vd(n),g=l.providerIndexes&1048575,m=l.directiveStart,_=l.providerIndexes>>20;if(li(n)||!n.multi){let y=new Oi(f,r,W,null),D=ou(u,t,r?g:g+_,m);D===-1?(su(us(l,a),o,u),ru(o,n,t.length),t.push(u),l.directiveStart++,l.directiveEnd++,r&&(l.providerIndexes+=1048576),e.push(y),a.push(y)):(e[D]=y,a[D]=y)}else{let y=ou(u,t,g+_,m),D=ou(u,t,g,g+_),L=y>=0&&e[y],R=D>=0&&e[D];if(r&&!R||!r&&!L){su(us(l,a),o,u);let V=Ax(r?kx:Tx,e.length,r,i,f,n);!r&&R&&(e[D].providerFactory=V),ru(o,n,t.length,0),t.push(u),l.directiveStart++,l.directiveEnd++,r&&(l.providerIndexes+=1048576),e.push(V),a.push(V)}else{let V=g0(e[r?D:y],f,!r&&i);ru(o,n,y>-1?y:D,V)}!r&&i&&R&&e[D].componentProviders++}}}function ru(n,t,e,i){let r=li(t),o=xg(t);if(r||o){let u=(o?je(t.useClass):t).prototype.ngOnDestroy;if(u){let f=n.destroyHooks||(n.destroyHooks=[]);if(!r&&t.multi){let g=f.indexOf(e);g===-1?f.push(e,[i,u]):f[g+1].push(i,u)}else f.push(e,u)}}}function g0(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function ou(n,t,e,i){for(let r=e;r<i;r++)if(t[r]===n)return r;return-1}function Tx(n,t,e,i,r){return ku(this.multi,[])}function kx(n,t,e,i,r){let o=this.multi,a;if(this.providerFactory){let l=this.providerFactory.componentProviders,u=_o(i,i[U],this.providerFactory.index,r);a=u.slice(0,l),ku(o,a);for(let f=l;f<u.length;f++)a.push(u[f])}else a=[],ku(o,a);return a}function ku(n,t){for(let e=0;e<n.length;e++){let i=n[e];t.push(i())}return t}function Ax(n,t,e,i,r,o){let a=new Oi(n,e,W,null);return a.multi=[],a.index=t,a.componentProviders=0,g0(a,r,i&&!e),a}function In(n,t){return e=>{e.providersResolver=(i,r)=>Sm(i,r?r(n):n,!1),t&&(e.viewProvidersResolver=(i,r)=>Sm(i,r?r(t):t,!0))}}function wt(n,t){let e=co()+n,i=z();return i[e]===He?op(i,e,t()):a1(i,e)}function hp(n,t,e,i){return h0(z(),co(),n,t,e,i)}function m0(n,t){let e=n[t];return e===He?void 0:e}function Rx(n,t,e,i,r,o){let a=t+e;return Et(n,a,r)?op(n,a+1,o?i.call(o,r):i(r)):m0(n,a+1)}function h0(n,t,e,i,r,o,a){let l=t+e;return ap(n,l,r,o)?op(n,l+2,a?i.call(a,r,o):i(r,o)):m0(n,l+2)}function ie(n,t){let e=xe(),i,r=n+fe;e.firstCreatePass?(i=Nx(t,e.pipeRegistry),e.data[r]=i,i.onDestroy&&(e.destroyHooks??=[]).push(r,i.onDestroy)):i=e.data[r];let o=i.factory||(i.factory=Ln(i.type,!0)),a,l=Qe(W);try{let u=ds(!1),f=o();return ds(u),Od(e,z(),r,f),f}finally{Qe(l)}}function Nx(n,t){if(t)for(let e=t.length-1;e>=0;e--){let i=t[e];if(n===i.name)return i}}function he(n,t,e){let i=n+fe,r=z(),o=za(r,i);return v0(r,i)?Rx(r,co(),t,o.transform,e,o):o.transform(e)}function Dt(n,t,e,i){let r=n+fe,o=z(),a=za(o,r);return v0(o,r)?h0(o,co(),t,a.transform,e,i,a):a.transform(e,i)}function v0(n,t){return n[U].data[t].pure}function Ws(n,t){return Ls(n,t)}var Es=class{ngModuleFactory;componentFactories;constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}},vp=(()=>{class n{compileModuleSync(e){return new bs(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){let i=this.compileModuleSync(e),r=cd(e),o=lh(r.declarations).reduce((a,l)=>{let u=jn(l);return u&&a.push(new lr(u)),a},[]);return new Es(i,o)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static \u0275fac=function(i){return new(i||n)};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var _0=(()=>{class n{applicationErrorHandler=C(st);appRef=C(Jn);taskService=C(On);ngZone=C(Be);zonelessEnabled=C(fo);tracing=C(Sn,{optional:!0});zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new $i;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Xr):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(C(Wd,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{let e=this.taskService.add();if(!this.runningTick&&(this.cleanup(),!this.zonelessEnabled||this.appRef.includeAllTestViews)){this.taskService.remove(e);return}this.switchToMicrotaskScheduler(),this.taskService.remove(e)})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()}))}switchToMicrotaskScheduler(){this.ngZone.runOutsideAngular(()=>{let e=this.taskService.add();this.useMicrotaskScheduler=!0,queueMicrotask(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(e)})})}notify(e){if(!this.zonelessEnabled&&e===5)return;switch(e){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2;break}case 12:{this.appRef.dirtyFlags|=16;break}case 13:{this.appRef.dirtyFlags|=2;break}case 11:break;default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?Yg:$d;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(){return!(this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Xr+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let e=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){this.applicationErrorHandler(i)}finally{this.taskService.remove(e),this.cleanup()}}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let e=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(e)}}static \u0275fac=function(i){return new(i||n)};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function C0(){return[{provide:Cn,useExisting:_0},{provide:Be,useClass:eo},{provide:fo,useValue:!0}]}function Lx(){return typeof $localize<"u"&&$localize.locale||Ro}var Fo=new j("",{factory:()=>C(Fo,{optional:!0,skipSelf:!0})||Lx()});function le(n,t){return Sa(n,t?.equal)}var O0=Symbol("InputSignalNode#UNSET"),nM=A(E({},Pa),{transformFn:void 0,applyValueToInputSignal(n,t){Yr(n,t)}});function E0(n,t){let e=Object.create(nM);e.value=n,e.transformFn=t?.transform;function i(){if(Gr(e),e.value===O0){let r=null;throw new F(-950,r)}return e.value}return i[Je]=e,i}var Ks=class{attributeName;constructor(t){this.attributeName=t}__NG_ELEMENT_ID__=()=>Eo(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}};function y0(n,t){return E0(n,t)}function iM(n){return E0(O0,n)}var S0=(y0.required=iM,y0);var _p=new j(""),rM=new j("");function Vo(n){return!n.moduleRef}function oM(n){let t=Vo(n)?n.r3Injector:n.moduleRef.injector,e=t.get(Be);return e.run(()=>{Vo(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let i=t.get(st),r;if(e.runOutsideAngular(()=>{r=e.onError.subscribe({next:i})}),Vo(n)){let o=()=>t.destroy(),a=n.platformInjector.get(_p);a.add(o),t.onDestroy(()=>{r.unsubscribe(),a.delete(o)})}else{let o=()=>n.moduleRef.destroy(),a=n.platformInjector.get(_p);a.add(o),n.moduleRef.onDestroy(()=>{vo(n.allPlatformModules,n.moduleRef),r.unsubscribe(),a.delete(o)})}return sM(i,e,()=>{let o=t.get(On),a=o.add(),l=t.get(pp);return l.runInitializers(),l.donePromise.then(()=>{let u=t.get(Fo,Ro);if(n0(u||Ro),!t.get(rM,!0))return Vo(n)?t.get(Jn):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(Vo(n)){let g=t.get(Jn);return n.rootComponent!==void 0&&g.bootstrap(n.rootComponent),g}else return aM?.(n.moduleRef,n.allPlatformModules),n.moduleRef}).finally(()=>{o.remove(a)})})})}var aM;function sM(n,t,e){try{let i=e();return Kn(i)?i.catch(r=>{throw t.runOutsideAngular(()=>n(r)),r}):i}catch(i){throw t.runOutsideAngular(()=>n(i)),i}}var Ys=null;function cM(n=[],t){return Xe.create({name:t,providers:[{provide:io,useValue:"platform"},{provide:_p,useValue:new Set([()=>Ys=null])},...n]})}function lM(n=[]){if(Ys)return Ys;let t=cM(n);return Ys=t,Xh(),dM(t),t}function dM(n){let t=n.get(Ps,null);Ne(n,()=>{t?.forEach(e=>e())})}var uM=1e4;var g4=uM-1e3;var ft=(()=>{class n{static __NG_ELEMENT_ID__=pM}return n})();function pM(n){return fM(Ue(),z(),(n&16)===16)}function fM(n,t,e){if(zn(n)&&!e){let i=xt(n.index,t);return new qn(i,i)}else if(n.type&175){let i=t[tt];return new qn(i,t)}return null}var Cp=class{supports(t){return rp(t)}create(t){return new yp(t)}},gM=(n,t)=>t,yp=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(t){this._trackByFn=t||gM}forEachItem(t){let e;for(e=this._itHead;e!==null;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,i=this._removalsHead,r=0,o=null;for(;e||i;){let a=!i||e&&e.currentIndex<b0(i,r,o)?e:i,l=b0(a,r,o),u=a.currentIndex;if(a===i)r--,i=i._nextRemoved;else if(e=e._next,a.previousIndex==null)r++;else{o||(o=[]);let f=l-r,g=u-r;if(f!=g){for(let _=0;_<f;_++){let y=_<o.length?o[_]:o[_]=0,D=y+_;g<=D&&D<f&&(o[_]=y+1)}let m=a.previousIndex;o[m]=g-f}}l!==u&&t(a,l,u)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;e!==null;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;e!==null;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;e!==null;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;e!==null;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;e!==null;e=e._nextIdentityChange)t(e)}diff(t){if(t==null&&(t=[]),!rp(t))throw new F(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._itHead,i=!1,r,o,a;if(Array.isArray(t)){this.length=t.length;for(let l=0;l<this.length;l++)o=t[l],a=this._trackByFn(l,o),e===null||!Object.is(e.trackById,a)?(e=this._mismatch(e,o,a,l),i=!0):(i&&(e=this._verifyReinsertion(e,o,a,l)),Object.is(e.item,o)||this._addIdentityChange(e,o)),e=e._next}else r=0,$h(t,l=>{a=this._trackByFn(r,l),e===null||!Object.is(e.trackById,a)?(e=this._mismatch(e,l,a,r),i=!0):(i&&(e=this._verifyReinsertion(e,l,a,r)),Object.is(e.item,l)||this._addIdentityChange(e,l)),e=e._next,r++}),this.length=r;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;t!==null;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;t!==null;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,i,r){let o;return t===null?o=this._itTail:(o=t._prev,this._remove(t)),t=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),t!==null?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,o,r)):(t=this._linkedRecords===null?null:this._linkedRecords.get(i,r),t!==null?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,o,r)):t=this._addAfter(new bp(e,i),o,r)),t}_verifyReinsertion(t,e,i,r){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return o!==null?t=this._reinsertAfter(o,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;t!==null;){let e=t._next;this._addToRemovals(this._unlink(t)),t=e}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(t);let r=t._prevRemoved,o=t._nextRemoved;return r===null?this._removalsHead=o:r._nextRemoved=o,o===null?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(t,e,i),this._addToMoves(t,i),t}_moveAfter(t,e,i){return this._unlink(t),this._insertAfter(t,e,i),this._addToMoves(t,i),t}_addAfter(t,e,i){return this._insertAfter(t,e,i),this._additionsTail===null?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t}_insertAfter(t,e,i){let r=e===null?this._itHead:e._next;return t._next=r,t._prev=e,r===null?this._itTail=t:r._prev=t,e===null?this._itHead=t:e._next=t,this._linkedRecords===null&&(this._linkedRecords=new Js),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){this._linkedRecords!==null&&this._linkedRecords.remove(t);let e=t._prev,i=t._next;return e===null?this._itHead=i:e._next=i,i===null?this._itTail=e:i._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail===null?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t),t}_addToRemovals(t){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Js),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t}},bp=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(t,e){this.item=t,this.trackById=e}},xp=class{_head=null;_tail=null;add(t){this._head===null?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let i;for(i=this._head;i!==null;i=i._nextDup)if((e===null||e<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){let e=t._prevDup,i=t._nextDup;return e===null?this._head=i:e._nextDup=i,i===null?this._tail=e:i._prevDup=e,this._head===null}},Js=class{map=new Map;put(t){let e=t.trackById,i=this.map.get(e);i||(i=new xp,this.map.set(e,i)),i.add(t)}get(t,e){let i=t,r=this.map.get(i);return r?r.get(t,e):null}remove(t){let e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function b0(n,t,e){let i=n.previousIndex;if(i===null)return i;let r=0;return e&&i<e.length&&(r=e[i]),i+t+r}var Mp=class{supports(t){return t instanceof Map||Vs(t)}create(){return new Op}},Op=class{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(t){let e;for(e=this._mapHead;e!==null;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;e!==null;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;e!==null;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;e!==null;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;e!==null;e=e._nextRemoved)t(e)}diff(t){if(!t)t=new Map;else if(!(t instanceof Map||Vs(t)))throw new F(900,!1);return this.check(t)?this:null}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(i,r)=>{if(e&&e.key===r)this._maybeAddToChanges(e,i),this._appendAfter=e,e=e._next;else{let o=this._getOrCreateRecordForKey(r,i);e=this._insertBeforeOrAppend(e,o)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let i=e;i!==null;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){let i=t._prev;return e._next=t,e._prev=i,t._prev=e,i&&(i._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){let r=this._records.get(t);this._maybeAddToChanges(r,e);let o=r._prev,a=r._next;return o&&(o._next=a),a&&(a._prev=o),r._next=null,r._prev=null,r}let i=new Ep(t);return this._records.set(t,i),i.currentValue=e,this._addToAdditions(i),i}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;t!==null;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;t!=null;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){this._additionsHead===null?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){this._changesHead===null?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(i=>e(t[i],i))}},Ep=class{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(t){this.key=t}};function x0(){return new Sp([new Cp])}var Sp=(()=>{class n{factories;static \u0275prov=k({token:n,providedIn:"root",factory:x0});constructor(e){this.factories=e}static create(e,i){if(i!=null){let r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:()=>{let i=C(n,{optional:!0,skipSelf:!0});return n.create(e,i||x0())}}}find(e){let i=this.factories.find(r=>r.supports(e));if(i!=null)return i;throw new F(901,!1)}}return n})();function M0(){return new Pp([new Mp])}var Pp=(()=>{class n{static \u0275prov=k({token:n,providedIn:"root",factory:M0});factories;constructor(e){this.factories=e}static create(e,i){if(i){let r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:()=>{let i=C(n,{optional:!0,skipSelf:!0});return n.create(e,i||M0())}}}find(e){let i=this.factories.find(r=>r.supports(e));if(i)return i;throw new F(901,!1)}}return n})();function P0(n){let{rootComponent:t,appProviders:e,platformProviders:i,platformRef:r}=n;ce(oe.BootstrapApplicationStart);try{let o=r?.injector??lM(i),a=[C0(),Jg,...e||[]],l=new bo({providers:a,parent:o,debugName:"",runEnvironmentInitializers:!1});return oM({r3Injector:l.injector,platformInjector:o,rootComponent:t})}catch(o){return Promise.reject(o)}finally{ce(oe.BootstrapApplicationEnd)}}function vr(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}var w0=null;function It(){return w0}function wp(n){w0??=n}var jo=class{},Tn=(()=>{class n{historyGo(e){throw new Error("")}static \u0275fac=function(i){return new(i||n)};static \u0275prov=k({token:n,factory:()=>C(D0),providedIn:"platform"})}return n})();var D0=(()=>{class n extends Tn{_location;_history;_doc=C(Pe);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return It().getBaseHref(this._doc)}onPopState(e){let i=It().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){let i=It().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,i,r){this._history.pushState(e,i,r)}replaceState(e,i,r){this._history.replaceState(e,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static \u0275fac=function(i){return new(i||n)};static \u0275prov=k({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function Qs(n,t){return n?t?n.endsWith("/")?t.startsWith("/")?n+t.slice(1):n+t:t.startsWith("/")?n+t:`${n}/${t}`:n:t}function I0(n){let t=n.search(/#|\?|$/);return n[t-1]==="/"?n.slice(0,t-1)+n.slice(t):n}function qt(n){return n&&n[0]!=="?"?`?${n}`:n}var dn=(()=>{class n{historyGo(e){throw new Error("")}static \u0275fac=function(i){return new(i||n)};static \u0275prov=k({token:n,factory:()=>C(k0),providedIn:"root"})}return n})(),Dp=new j(""),k0=(()=>{class n extends dn{_platformLocation;_baseHref;_removeListenerFns=[];constructor(e,i){super(),this._platformLocation=e,this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??C(Pe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Qs(this._baseHref,e)}path(e=!1){let i=this._platformLocation.pathname+qt(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,o){let a=this.prepareExternalUrl(r+qt(o));this._platformLocation.pushState(e,i,a)}replaceState(e,i,r,o){let a=this.prepareExternalUrl(r+qt(o));this._platformLocation.replaceState(e,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(i){return new(i||n)(B(Tn),B(Dp,8))};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ki=(()=>{class n{_subject=new ze;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(e){this._locationStrategy=e;let i=this._locationStrategy.getBaseHref();this._basePath=vM(I0(T0(i))),this._locationStrategy.onPopState(r=>{this._subject.next({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+qt(i))}normalize(e){return n.stripTrailingSlash(hM(this._basePath,T0(e)))}prepareExternalUrl(e){return e&&e[0]!=="/"&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+qt(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+qt(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i??void 0,complete:r??void 0})}static normalizeQueryParams=qt;static joinWithSlash=Qs;static stripTrailingSlash=I0;static \u0275fac=function(i){return new(i||n)(B(dn))};static \u0275prov=k({token:n,factory:()=>mM(),providedIn:"root"})}return n})();function mM(){return new ki(B(dn))}function hM(n,t){if(!n||!t.startsWith(n))return t;let e=t.substring(n.length);return e===""||["/",";","?","#"].includes(e[0])?e:t}function T0(n){return n.replace(/\/index.html$/,"")}function vM(n){if(new RegExp("^(https?:)?//").test(n)){let[,e]=n.split(/\/\/[^\/]+/);return e}return n}var Ap=(()=>{class n extends dn{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(e,i){super(),this._platformLocation=e,i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(e){let i=Qs(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,o){let a=this.prepareExternalUrl(r+qt(o))||this._platformLocation.pathname;this._platformLocation.pushState(e,i,a)}replaceState(e,i,r,o){let a=this.prepareExternalUrl(r+qt(o))||this._platformLocation.pathname;this._platformLocation.replaceState(e,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(i){return new(i||n)(B(Tn),B(Dp,8))};static \u0275prov=k({token:n,factory:n.\u0275fac})}return n})();var Rp=(function(n){return n[n.Decimal=0]="Decimal",n[n.Percent=1]="Percent",n[n.Currency=2]="Currency",n[n.Scientific=3]="Scientific",n})(Rp||{});var un={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function _r(n,t){let e=zs(n),i=e[Di.NumberSymbols][t];if(typeof i>"u"){if(t===un.CurrencyDecimal)return e[Di.NumberSymbols][un.Decimal];if(t===un.CurrencyGroup)return e[Di.NumberSymbols][un.Group]}return i}function V0(n,t){return zs(n)[Di.NumberFormats][t]}var _M=/^(\d+)?\.((\d+)(-(\d+))?)?$/,A0=22,Zs=".",Bo="0",CM=";",yM=",",Ip="#";function bM(n,t,e,i,r,o,a=!1){let l="",u=!1;if(!isFinite(n))l=_r(e,un.Infinity);else{let f=OM(n);a&&(f=MM(f));let g=t.minInt,m=t.minFrac,_=t.maxFrac;if(o){let ee=o.match(_M);if(ee===null)throw new F(2306,!1);let Q=ee[1],K=ee[3],re=ee[5];Q!=null&&(g=Tp(Q)),K!=null&&(m=Tp(K)),re!=null?_=Tp(re):K!=null&&m>_&&(_=m)}EM(f,m,_);let y=f.digits,D=f.integerLen,L=f.exponent,R=[];for(u=y.every(ee=>!ee);D<g;D++)y.unshift(0);for(;D<0;D++)y.unshift(0);D>0?R=y.splice(D,y.length):(R=y,y=[0]);let V=[];for(y.length>=t.lgSize&&V.unshift(y.splice(-t.lgSize,y.length).join(""));y.length>t.gSize;)V.unshift(y.splice(-t.gSize,y.length).join(""));y.length&&V.unshift(y.join("")),l=V.join(_r(e,i)),R.length&&(l+=_r(e,r)+R.join("")),L&&(l+=_r(e,un.Exponential)+"+"+L)}return n<0&&!u?l=t.negPre+l+t.negSuf:l=t.posPre+l+t.posSuf,l}function j0(n,t,e){let i=V0(t,Rp.Decimal),r=xM(i,_r(t,un.MinusSign));return bM(n,r,t,un.Group,un.Decimal,e)}function xM(n,t="-"){let e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=n.split(CM),r=i[0],o=i[1],a=r.indexOf(Zs)!==-1?r.split(Zs):[r.substring(0,r.lastIndexOf(Bo)+1),r.substring(r.lastIndexOf(Bo)+1)],l=a[0],u=a[1]||"";e.posPre=l.substring(0,l.indexOf(Ip));for(let g=0;g<u.length;g++){let m=u.charAt(g);m===Bo?e.minFrac=e.maxFrac=g+1:m===Ip?e.maxFrac=g+1:e.posSuf+=m}let f=l.split(yM);if(e.gSize=f[1]?f[1].length:0,e.lgSize=f[2]||f[1]?(f[2]||f[1]).length:0,o){let g=r.length-e.posPre.length-e.posSuf.length,m=o.indexOf(Ip);e.negPre=o.substring(0,m).replace(/'/g,""),e.negSuf=o.slice(m+g).replace(/'/g,"")}else e.negPre=t+e.posPre,e.negSuf=e.posSuf;return e}function MM(n){if(n.digits[0]===0)return n;let t=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(t===0?n.digits.push(0,0):t===1&&n.digits.push(0),n.integerLen+=2),n}function OM(n){let t=Math.abs(n)+"",e=0,i,r,o,a,l;for((r=t.indexOf(Zs))>-1&&(t=t.replace(Zs,"")),(o=t.search(/e/i))>0?(r<0&&(r=o),r+=+t.slice(o+1),t=t.substring(0,o)):r<0&&(r=t.length),o=0;t.charAt(o)===Bo;o++);if(o===(l=t.length))i=[0],r=1;else{for(l--;t.charAt(l)===Bo;)l--;for(r-=o,i=[],a=0;o<=l;o++,a++)i[a]=Number(t.charAt(o))}return r>A0&&(i=i.splice(0,A0-1),e=r-1,r=1),{digits:i,exponent:e,integerLen:r}}function EM(n,t,e){if(t>e)throw new F(2307,!1);let i=n.digits,r=i.length-n.integerLen,o=Math.min(Math.max(t,r),e),a=o+n.integerLen,l=i[a];if(a>0){i.splice(Math.max(n.integerLen,a));for(let m=a;m<i.length;m++)i[m]=0}else{r=Math.max(0,r),n.integerLen=1,i.length=Math.max(1,a=o+1),i[0]=0;for(let m=1;m<a;m++)i[m]=0}if(l>=5)if(a-1<0){for(let m=0;m>a;m--)i.unshift(0),n.integerLen++;i.unshift(1),n.integerLen++}else i[a-1]++;for(;r<Math.max(0,o);r++)i.push(0);let u=o!==0,f=t+n.integerLen,g=i.reduceRight(function(m,_,y,D){return _=_+m,D[y]=_<10?_:_-10,u&&(D[y]===0&&y>=f?D.pop():u=!1),_>=10?1:0},0);g&&(i.unshift(g),n.integerLen++)}function Tp(n){let t=parseInt(n);if(isNaN(t))throw new F(2305,!1);return t}var kp=/\s+/,R0=[],Uo=(()=>{class n{_ngEl;_renderer;initialClasses=R0;rawClass;stateMap=new Map;constructor(e,i){this._ngEl=e,this._renderer=i}set klass(e){this.initialClasses=e!=null?e.trim().split(kp):R0}set ngClass(e){this.rawClass=typeof e=="string"?e.trim().split(kp):e}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(let i of e)this._updateState(i,!0);else if(e!=null)for(let i of Object.keys(e))this._updateState(i,!!e[i]);this._applyStateDiff()}_updateState(e,i){let r=this.stateMap.get(e);r!==void 0?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(e,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let e of this.stateMap){let i=e[0],r=e[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(e,i){e=e.trim(),e.length>0&&e.split(kp).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static \u0275fac=function(i){return new(i||n)(W(Ae),W(Gt))};static \u0275dir=ye({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return n})();var Xs=class{$implicit;ngForOf;index;count;constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},_e=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){let e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){let i=this._viewContainer;e.forEachOperation((r,o,a)=>{if(r.previousIndex==null)i.createEmbeddedView(this._template,new Xs(r.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(o===null?void 0:o);else if(o!==null){let l=i.get(o);i.move(l,a),N0(l,r)}});for(let r=0,o=i.length;r<o;r++){let l=i.get(r).context;l.index=r,l.count=o,l.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{let o=i.get(r.currentIndex);N0(o,r)})}static ngTemplateContextGuard(e,i){return!0}static \u0275fac=function(i){return new(i||n)(W(Pn),W(Wn),W(Sp))};static \u0275dir=ye({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function N0(n,t){n.context.$implicit=t.item}var ne=(()=>{class n{_viewContainer;_context=new ec;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(e,i){this._viewContainer=e,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){L0(e,!1),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){L0(e,!1),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(e,i){return!0}static \u0275fac=function(i){return new(i||n)(W(Pn),W(Wn))};static \u0275dir=ye({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),ec=class{$implicit=null;ngIf=null};function L0(n,t){if(n&&!n.createEmbeddedView)throw new F(2020,!1)}function B0(n,t){return new F(2100,!1)}var gt=(()=>{class n{transform(e){return e==null?null:(SM(n,e),e.toUpperCase())}static \u0275fac=function(i){return new(i||n)};static \u0275pipe=gr({name:"uppercase",type:n,pure:!0})}return n})();function SM(n,t){if(typeof t!="string")throw B0(n,t)}var Np=(()=>{class n{transform(e){return JSON.stringify(e,null,2)}static \u0275fac=function(i){return new(i||n)};static \u0275pipe=gr({name:"json",type:n,pure:!1})}return n})();function PM(n,t){return{key:n,value:t}}var Lp=(()=>{class n{differs;constructor(e){this.differs=e}differ;keyValues=[];compareFn=F0;transform(e,i=F0){if(!e||!(e instanceof Map)&&typeof e!="object")return null;this.differ??=this.differs.find(e).create();let r=this.differ.diff(e),o=i!==this.compareFn;return r&&(this.keyValues=[],r.forEachItem(a=>{this.keyValues.push(PM(a.key,a.currentValue))})),(r||o)&&(i&&this.keyValues.sort(i),this.compareFn=i),this.keyValues}static \u0275fac=function(i){return new(i||n)(W(Pp,16))};static \u0275pipe=gr({name:"keyvalue",type:n,pure:!1})}return n})();function F0(n,t){let e=n.key,i=t.key;if(e===i)return 0;if(e==null)return 1;if(i==null)return-1;if(typeof e=="string"&&typeof i=="string")return e<i?-1:1;if(typeof e=="number"&&typeof i=="number")return e-i;if(typeof e=="boolean"&&typeof i=="boolean")return e<i?-1:1;let r=String(e),o=String(i);return r==o?0:r<o?-1:1}var Wt=(()=>{class n{_locale;constructor(e){this._locale=e}transform(e,i,r){if(!wM(e))return null;r||=this._locale;try{let o=DM(e);return j0(o,r,i)}catch(o){throw B0(n,o.message)}}static \u0275fac=function(i){return new(i||n)(W(Fo,16))};static \u0275pipe=gr({name:"number",type:n,pure:!0})}return n})();function wM(n){return!(n==null||n===""||n!==n)}function DM(n){if(typeof n=="string"&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if(typeof n!="number")throw new F(2309,!1);return n}var Z=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=cn({type:n});static \u0275inj=Ft({})}return n})();function Ho(n,t){t=encodeURIComponent(t);for(let e of n.split(";")){let i=e.indexOf("="),[r,o]=i==-1?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}var Ai=class{};var U0="browser";var $o=class{_doc;constructor(t){this._doc=t}manager},tc=(()=>{class n extends $o{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r,o){return e.addEventListener(i,r,o),()=>this.removeEventListener(e,i,r,o)}removeEventListener(e,i,r,o){return e.removeEventListener(i,r,o)}static \u0275fac=function(i){return new(i||n)(B(Pe))};static \u0275prov=k({token:n,factory:n.\u0275fac})}return n})(),rc=new j(""),Bp=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(e,i){this._zone=i,e.forEach(a=>{a.manager=this});let r=e.filter(a=>!(a instanceof tc));this._plugins=r.slice().reverse();let o=e.find(a=>a instanceof tc);o&&this._plugins.push(o)}addEventListener(e,i,r,o){return this._findPluginFor(i).addEventListener(e,i,r,o)}getZone(){return this._zone}_findPluginFor(e){let i=this._eventNameToPlugin.get(e);if(i)return i;if(i=this._plugins.find(o=>o.supports(e)),!i)throw new F(5101,!1);return this._eventNameToPlugin.set(e,i),i}static \u0275fac=function(i){return new(i||n)(B(rc),B(Be))};static \u0275prov=k({token:n,factory:n.\u0275fac})}return n})(),Fp="ng-app-id";function H0(n){for(let t of n)t.remove()}function $0(n,t){let e=t.createElement("style");return e.textContent=n,e}function TM(n,t,e,i){let r=n.head?.querySelectorAll(`style[${Fp}="${t}"],link[${Fp}="${t}"]`);if(r)for(let o of r)o.removeAttribute(Fp),o instanceof HTMLLinkElement?i.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&e.set(o.textContent,{usage:0,elements:[o]})}function jp(n,t){let e=t.createElement("link");return e.setAttribute("rel","stylesheet"),e.setAttribute("href",n),e}var Up=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(e,i,r,o={}){this.doc=e,this.appId=i,this.nonce=r,TM(e,i,this.inline,this.external),this.hosts.add(e.head)}addStyles(e,i){for(let r of e)this.addUsage(r,this.inline,$0);i?.forEach(r=>this.addUsage(r,this.external,jp))}removeStyles(e,i){for(let r of e)this.removeUsage(r,this.inline);i?.forEach(r=>this.removeUsage(r,this.external))}addUsage(e,i,r){let o=i.get(e);o?o.usage++:i.set(e,{usage:1,elements:[...this.hosts].map(a=>this.addElement(a,r(e,this.doc)))})}removeUsage(e,i){let r=i.get(e);r&&(r.usage--,r.usage<=0&&(H0(r.elements),i.delete(e)))}ngOnDestroy(){for(let[,{elements:e}]of[...this.inline,...this.external])H0(e);this.hosts.clear()}addHost(e){this.hosts.add(e);for(let[i,{elements:r}]of this.inline)r.push(this.addElement(e,$0(i,this.doc)));for(let[i,{elements:r}]of this.external)r.push(this.addElement(e,jp(i,this.doc)))}removeHost(e){this.hosts.delete(e)}addElement(e,i){return this.nonce&&i.setAttribute("nonce",this.nonce),e.appendChild(i)}static \u0275fac=function(i){return new(i||n)(B(Pe),B(Ss),B(ws,8),B(So))};static \u0275prov=k({token:n,factory:n.\u0275fac})}return n})(),Vp={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Hp=/%COMP%/g;var G0="%COMP%",kM=`_nghost-${G0}`,AM=`_ngcontent-${G0}`,RM=!0,NM=new j("",{factory:()=>RM});function LM(n){return AM.replace(Hp,n)}function FM(n){return kM.replace(Hp,n)}function q0(n,t){return t.map(e=>e.replace(Hp,n))}var $p=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;constructor(e,i,r,o,a,l,u=null,f=null){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=a,this.ngZone=l,this.nonce=u,this.tracingService=f,this.defaultRenderer=new zo(e,a,l,this.tracingService)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;let r=this.getOrCreateRenderer(e,i);return r instanceof ic?r.applyToHost(e):r instanceof Go&&r.applyStyles(),r}getOrCreateRenderer(e,i){let r=this.rendererByCompId,o=r.get(i.id);if(!o){let a=this.doc,l=this.ngZone,u=this.eventManager,f=this.sharedStylesHost,g=this.removeStylesOnCompDestroy,m=this.tracingService;switch(i.encapsulation){case zt.Emulated:o=new ic(u,f,i,this.appId,g,a,l,m);break;case zt.ShadowDom:return new nc(u,e,i,a,l,this.nonce,m,f);case zt.ExperimentalIsolatedShadowDom:return new nc(u,e,i,a,l,this.nonce,m);default:o=new Go(u,f,i,g,a,l,m);break}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(e){this.rendererByCompId.delete(e)}static \u0275fac=function(i){return new(i||n)(B(Bp),B(Up),B(Ss),B(NM),B(Pe),B(Be),B(ws),B(Sn,8))};static \u0275prov=k({token:n,factory:n.\u0275fac})}return n})(),zo=class{eventManager;doc;ngZone;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,e,i,r){this.eventManager=t,this.doc=e,this.ngZone=i,this.tracingService=r}destroy(){}destroyNode=null;createElement(t,e){return e?this.doc.createElementNS(Vp[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(z0(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(z0(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){e.remove()}selectRootElement(t,e){let i=typeof t=="string"?this.doc.querySelector(t):t;if(!i)throw new F(-5104,!1);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;let o=Vp[r];o?t.setAttributeNS(o,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){let r=Vp[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(an.DashCase|an.Important)?t.style.setProperty(e,i,r&an.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&an.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t!=null&&(t[e]=i)}setValue(t,e){t.nodeValue=e}listen(t,e,i,r){if(typeof t=="string"&&(t=It().getGlobalEventTarget(this.doc,t),!t))throw new F(5102,!1);let o=this.decoratePreventDefault(i);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(t,e,o)),this.eventManager.addEventListener(t,e,o,r)}decoratePreventDefault(t){return e=>{if(e==="__ngUnwrap__")return t;t(e)===!1&&e.preventDefault()}}};function z0(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var nc=class extends zo{hostEl;sharedStylesHost;shadowRoot;constructor(t,e,i,r,o,a,l,u){super(t,r,o,l),this.hostEl=e,this.sharedStylesHost=u,this.shadowRoot=e.attachShadow({mode:"open"}),this.sharedStylesHost&&this.sharedStylesHost.addHost(this.shadowRoot);let f=i.styles;f=q0(i.id,f);for(let m of f){let _=document.createElement("style");a&&_.setAttribute("nonce",a),_.textContent=m,this.shadowRoot.appendChild(_)}let g=i.getExternalStyles?.();if(g)for(let m of g){let _=jp(m,r);a&&_.setAttribute("nonce",a),this.shadowRoot.appendChild(_)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(null,e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost&&this.sharedStylesHost.removeHost(this.shadowRoot)}},Go=class extends zo{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,e,i,r,o,a,l,u){super(t,o,a,l),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=r;let f=i.styles;this.styles=u?q0(u,f):f,this.styleUrls=i.getExternalStyles?.(u)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&Ei.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},ic=class extends Go{contentAttr;hostAttr;constructor(t,e,i,r,o,a,l,u){let f=r+"-"+i.id;super(t,e,i,o,a,l,u,f),this.contentAttr=LM(f),this.hostAttr=FM(f)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){let i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}};var oc=class n extends jo{supportsDOMEvents=!0;static makeCurrent(){wp(new n)}onAndCancel(t,e,i,r){return t.addEventListener(e,i,r),()=>{t.removeEventListener(e,i,r)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.remove()}createElement(t,e){return e=e||this.getDefaultDocument(),e.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return e==="window"?window:e==="document"?t:e==="body"?t.body:null}getBaseHref(t){let e=VM();return e==null?null:jM(e)}resetBaseElement(){qo=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Ho(document.cookie,t)}},qo=null;function VM(){return qo=qo||document.head.querySelector("base"),qo?qo.getAttribute("href"):null}function jM(n){return new URL(n,document.baseURI).pathname}var BM=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(i){return new(i||n)};static \u0275prov=k({token:n,factory:n.\u0275fac})}return n})(),W0=["alt","control","meta","shift"],UM={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},HM={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},Y0=(()=>{class n extends $o{constructor(e){super(e)}supports(e){return n.parseEventName(e)!=null}addEventListener(e,i,r,o){let a=n.parseEventName(i),l=n.eventCallback(a.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>It().onAndCancel(e,a.domEventName,l,o))}static parseEventName(e){let i=e.toLowerCase().split("."),r=i.shift();if(i.length===0||!(r==="keydown"||r==="keyup"))return null;let o=n._normalizeKey(i.pop()),a="",l=i.indexOf("code");if(l>-1&&(i.splice(l,1),a="code."),W0.forEach(f=>{let g=i.indexOf(f);g>-1&&(i.splice(g,1),a+=f+".")}),a+=o,i.length!=0||o.length===0)return null;let u={};return u.domEventName=r,u.fullKey=a,u}static matchEventFullKeyCode(e,i){let r=UM[e.key]||e.key,o="";return i.indexOf("code.")>-1&&(r=e.code,o="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),W0.forEach(a=>{if(a!==r){let l=HM[a];l(e)&&(o+=a+".")}}),o+=r,o===i)}static eventCallback(e,i,r){return o=>{n.matchEventFullKeyCode(o,e)&&r.runGuarded(()=>i(o))}}static _normalizeKey(e){return e==="esc"?"escape":e}static \u0275fac=function(i){return new(i||n)(B(Pe))};static \u0275prov=k({token:n,factory:n.\u0275fac})}return n})();async function zp(n,t,e){let i=E({rootComponent:n},$M(t,e));return P0(i)}function $M(n,t){return{platformRef:t?.platformRef,appProviders:[...YM,...n?.providers??[]],platformProviders:WM}}function zM(){oc.makeCurrent()}function GM(){return new Xt}function qM(){return Nu(document),document}var WM=[{provide:So,useValue:U0},{provide:Ps,useValue:zM,multi:!0},{provide:Pe,useFactory:qM}];var YM=[{provide:io,useValue:"root"},{provide:Xt,useFactory:GM},{provide:rc,useClass:tc,multi:!0},{provide:rc,useClass:Y0,multi:!0},$p,Up,Bp,{provide:Si,useExisting:$p},{provide:Ai,useClass:BM},[]];var Qn=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(t){t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(e=>{let i=e.indexOf(":");if(i>0){let r=e.slice(0,i),o=e.slice(i+1).trim();this.addHeaderEntry(r,o)}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,i)=>{this.addHeaderEntry(i,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,i])=>{this.setHeaderEntries(e,i)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){let e=new n;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){let e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(t.name,e);let r=(t.op==="a"?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":let o=t.value;if(!o)this.headers.delete(e),this.normalizedNames.delete(e);else{let a=this.headers.get(e);if(!a)return;a=a.filter(l=>o.indexOf(l)===-1),a.length===0?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,a)}break}}addHeaderEntry(t,e){let i=t.toLowerCase();this.maybeSetNormalizedName(t,i),this.headers.has(i)?this.headers.get(i).push(e):this.headers.set(i,[e])}setHeaderEntries(t,e){let i=(Array.isArray(e)?e:[e]).map(o=>o.toString()),r=t.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(t,r)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}};var sc=class{map=new Map;set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}},cc=class{encodeKey(t){return K0(t)}encodeValue(t){return K0(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function KM(n,t){let e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{let o=r.indexOf("="),[a,l]=o==-1?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,o)),t.decodeValue(r.slice(o+1))],u=e.get(a)||[];u.push(l),e.set(a,u)}),e}var JM=/%(\d[a-f0-9])/gi,QM={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function K0(n){return encodeURIComponent(n).replace(JM,(t,e)=>QM[e]??t)}function ac(n){return`${n}`}var kn=class n{map;encoder;updates=null;cloneFrom=null;constructor(t={}){if(this.encoder=t.encoder||new cc,t.fromString){if(t.fromObject)throw new F(2805,!1);this.map=KM(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{let i=t.fromObject[e],r=Array.isArray(i)?i.map(ac):[ac(i)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){let e=[];return Object.keys(t).forEach(i=>{let r=t[i];Array.isArray(r)?r.forEach(o=>{e.push({param:i,value:o,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let e=new n({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let e=(t.op==="a"?this.map.get(t.param):void 0)||[];e.push(ac(t.value)),this.map.set(t.param,e);break;case"d":if(t.value!==void 0){let i=this.map.get(t.param)||[],r=i.indexOf(ac(t.value));r!==-1&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};function ZM(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function J0(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function Q0(n){return typeof Blob<"u"&&n instanceof Blob}function Z0(n){return typeof FormData<"u"&&n instanceof FormData}function XM(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var X0="Content-Type",ev="Accept",tv="text/plain",nv="application/json",eO=`${nv}, ${tv}, */*`,Cr=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;referrer;integrity;referrerPolicy;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(t,e,i,r){this.url=e,this.method=t.toUpperCase();let o;if(ZM(this.method)||r?(this.body=i!==void 0?i:null,o=r):o=i,o){if(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,this.keepalive=!!o.keepalive,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),o.priority&&(this.priority=o.priority),o.cache&&(this.cache=o.cache),o.credentials&&(this.credentials=o.credentials),typeof o.timeout=="number"){if(o.timeout<1||!Number.isInteger(o.timeout))throw new F(2822,"");this.timeout=o.timeout}o.mode&&(this.mode=o.mode),o.redirect&&(this.redirect=o.redirect),o.integrity&&(this.integrity=o.integrity),o.referrer&&(this.referrer=o.referrer),o.referrerPolicy&&(this.referrerPolicy=o.referrerPolicy),this.transferCache=o.transferCache}if(this.headers??=new Qn,this.context??=new sc,!this.params)this.params=new kn,this.urlWithParams=e;else{let a=this.params.toString();if(a.length===0)this.urlWithParams=e;else{let l=e.indexOf("?"),u=l===-1?"?":l<e.length-1?"&":"";this.urlWithParams=e+u+a}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||J0(this.body)||Q0(this.body)||Z0(this.body)||XM(this.body)?this.body:this.body instanceof kn?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Z0(this.body)?null:Q0(this.body)?this.body.type||null:J0(this.body)?null:typeof this.body=="string"?tv:this.body instanceof kn?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?nv:null}clone(t={}){let e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,o=t.keepalive??this.keepalive,a=t.priority||this.priority,l=t.cache||this.cache,u=t.mode||this.mode,f=t.redirect||this.redirect,g=t.credentials||this.credentials,m=t.referrer||this.referrer,_=t.integrity||this.integrity,y=t.referrerPolicy||this.referrerPolicy,D=t.transferCache??this.transferCache,L=t.timeout??this.timeout,R=t.body!==void 0?t.body:this.body,V=t.withCredentials??this.withCredentials,ee=t.reportProgress??this.reportProgress,Q=t.headers||this.headers,K=t.params||this.params,re=t.context??this.context;return t.setHeaders!==void 0&&(Q=Object.keys(t.setHeaders).reduce((Ie,$e)=>Ie.set($e,t.setHeaders[$e]),Q)),t.setParams&&(K=Object.keys(t.setParams).reduce((Ie,$e)=>Ie.set($e,t.setParams[$e]),K)),new n(e,i,R,{params:K,headers:Q,context:re,reportProgress:ee,responseType:r,withCredentials:V,transferCache:D,keepalive:o,cache:l,priority:a,timeout:L,mode:u,redirect:f,credentials:g,referrer:m,integrity:_,referrerPolicy:y})}},Ri=(function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n})(Ri||{}),br=class{headers;status;statusText;url;ok;type;redirected;responseType;constructor(t,e=200,i="OK"){this.headers=t.headers||new Qn,this.status=t.status!==void 0?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.redirected=t.redirected,this.responseType=t.responseType,this.ok=this.status>=200&&this.status<300}},lc=class n extends br{constructor(t={}){super(t)}type=Ri.ResponseHeader;clone(t={}){return new n({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},Wo=class n extends br{body;constructor(t={}){super(t),this.body=t.body!==void 0?t.body:null}type=Ri.Response;clone(t={}){return new n({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0,redirected:t.redirected??this.redirected,responseType:t.responseType??this.responseType})}},yr=class extends br{name="HttpErrorResponse";message;error;ok=!1;constructor(t){super(t,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},tO=200,nO=204;var iO=new j("");var rO=/^\)\]\}',?\n/;var qp=(()=>{class n{xhrFactory;tracingService=C(Sn,{optional:!0});constructor(e){this.xhrFactory=e}maybePropagateTrace(e){return this.tracingService?.propagate?this.tracingService.propagate(e):e}handle(e){if(e.method==="JSONP")throw new F(-2800,!1);let i=this.xhrFactory;return X(null).pipe(Lt(()=>new zi(o=>{let a=i.build();if(a.open(e.method,e.urlWithParams),e.withCredentials&&(a.withCredentials=!0),e.headers.forEach((R,V)=>a.setRequestHeader(R,V.join(","))),e.headers.has(ev)||a.setRequestHeader(ev,eO),!e.headers.has(X0)){let R=e.detectContentTypeHeader();R!==null&&a.setRequestHeader(X0,R)}if(e.timeout&&(a.timeout=e.timeout),e.responseType){let R=e.responseType.toLowerCase();a.responseType=R!=="json"?R:"text"}let l=e.serializeBody(),u=null,f=()=>{if(u!==null)return u;let R=a.statusText||"OK",V=new Qn(a.getAllResponseHeaders()),ee=a.responseURL||e.url;return u=new lc({headers:V,status:a.status,statusText:R,url:ee}),u},g=this.maybePropagateTrace(()=>{let{headers:R,status:V,statusText:ee,url:Q}=f(),K=null;V!==nO&&(K=typeof a.response>"u"?a.responseText:a.response),V===0&&(V=K?tO:0);let re=V>=200&&V<300;if(e.responseType==="json"&&typeof K=="string"){let Ie=K;K=K.replace(rO,"");try{K=K!==""?JSON.parse(K):null}catch($e){K=Ie,re&&(re=!1,K={error:$e,text:K})}}re?(o.next(new Wo({body:K,headers:R,status:V,statusText:ee,url:Q||void 0})),o.complete()):o.error(new yr({error:K,headers:R,status:V,statusText:ee,url:Q||void 0}))}),m=this.maybePropagateTrace(R=>{let{url:V}=f(),ee=new yr({error:R,status:a.status||0,statusText:a.statusText||"Unknown Error",url:V||void 0});o.error(ee)}),_=m;e.timeout&&(_=this.maybePropagateTrace(R=>{let{url:V}=f(),ee=new yr({error:new DOMException("Request timed out","TimeoutError"),status:a.status||0,statusText:a.statusText||"Request timeout",url:V||void 0});o.error(ee)}));let y=!1,D=this.maybePropagateTrace(R=>{y||(o.next(f()),y=!0);let V={type:Ri.DownloadProgress,loaded:R.loaded};R.lengthComputable&&(V.total=R.total),e.responseType==="text"&&a.responseText&&(V.partialText=a.responseText),o.next(V)}),L=this.maybePropagateTrace(R=>{let V={type:Ri.UploadProgress,loaded:R.loaded};R.lengthComputable&&(V.total=R.total),o.next(V)});return a.addEventListener("load",g),a.addEventListener("error",m),a.addEventListener("timeout",_),a.addEventListener("abort",m),e.reportProgress&&(a.addEventListener("progress",D),l!==null&&a.upload&&a.upload.addEventListener("progress",L)),a.send(l),o.next({type:Ri.Sent}),()=>{a.removeEventListener("error",m),a.removeEventListener("abort",m),a.removeEventListener("load",g),a.removeEventListener("timeout",_),e.reportProgress&&(a.removeEventListener("progress",D),l!==null&&a.upload&&a.upload.removeEventListener("progress",L)),a.readyState!==a.DONE&&a.abort()}})))}static \u0275fac=function(i){return new(i||n)(B(Ai))};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function oO(n,t){return t(n)}function aO(n,t,e){return(i,r)=>Ne(e,()=>t(i,o=>n(o,r)))}var iv=new j("",{factory:()=>[]}),rv=new j(""),ov=new j("",{factory:()=>!0});var Wp=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=k({token:n,factory:function(i){let r=null;return i?r=new(i||n):r=B(qp),r},providedIn:"root"})}return n})();var dc=(()=>{class n{backend;injector;chain=null;pendingTasks=C(go);contributeToStability=C(ov);constructor(e,i){this.backend=e,this.injector=i}handle(e){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(iv),...this.injector.get(rv,[])]));this.chain=i.reduceRight((r,o)=>aO(r,o,this.injector),oO)}if(this.contributeToStability){let i=this.pendingTasks.add();return this.chain(e,r=>this.backend.handle(r)).pipe($r(i))}else return this.chain(e,i=>this.backend.handle(i))}static \u0275fac=function(i){return new(i||n)(B(Wp),B(Ce))};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Yp=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=k({token:n,factory:function(i){let r=null;return i?r=new(i||n):r=B(dc),r},providedIn:"root"})}return n})();function Gp(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,credentials:n.credentials,transferCache:n.transferCache,timeout:n.timeout,keepalive:n.keepalive,priority:n.priority,cache:n.cache,mode:n.mode,redirect:n.redirect,integrity:n.integrity,referrer:n.referrer,referrerPolicy:n.referrerPolicy}}var xr=(()=>{class n{handler;constructor(e){this.handler=e}request(e,i,r={}){let o;if(e instanceof Cr)o=e;else{let u;r.headers instanceof Qn?u=r.headers:u=new Qn(r.headers);let f;r.params&&(r.params instanceof kn?f=r.params:f=new kn({fromObject:r.params})),o=new Cr(e,i,r.body!==void 0?r.body:null,{headers:u,context:r.context,params:f,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache,keepalive:r.keepalive,priority:r.priority,cache:r.cache,mode:r.mode,redirect:r.redirect,credentials:r.credentials,referrer:r.referrer,referrerPolicy:r.referrerPolicy,integrity:r.integrity,timeout:r.timeout})}let a=X(o).pipe(qi(u=>this.handler.handle(u)));if(e instanceof Cr||r.observe==="events")return a;let l=a.pipe(Nt(u=>u instanceof Wo));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return l.pipe(pe(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new F(2806,!1);return u.body}));case"blob":return l.pipe(pe(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new F(2807,!1);return u.body}));case"text":return l.pipe(pe(u=>{if(u.body!==null&&typeof u.body!="string")throw new F(2808,!1);return u.body}));default:return l.pipe(pe(u=>u.body))}case"response":return l;default:throw new F(2809,!1)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:new kn().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,Gp(r,i))}post(e,i,r={}){return this.request("POST",e,Gp(r,i))}put(e,i,r={}){return this.request("PUT",e,Gp(r,i))}static \u0275fac=function(i){return new(i||n)(B(Yp))};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var sO=new j("",{factory:()=>!0}),cO="XSRF-TOKEN",lO=new j("",{factory:()=>cO}),dO="X-XSRF-TOKEN",uO=new j("",{factory:()=>dO}),pO=(()=>{class n{cookieName=C(lO);doc=C(Pe);lastCookieString="";lastToken=null;parseCount=0;getToken(){let e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Ho(e,this.cookieName),this.lastCookieString=e),this.lastToken}static \u0275fac=function(i){return new(i||n)};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),av=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=k({token:n,factory:function(i){let r=null;return i?r=new(i||n):r=B(pO),r},providedIn:"root"})}return n})();function fO(n,t){if(!C(sO)||n.method==="GET"||n.method==="HEAD")return t(n);try{let r=C(Tn).href,{origin:o}=new URL(r),{origin:a}=new URL(n.url,o);if(o!==a)return t(n)}catch{return t(n)}let e=C(av).getToken(),i=C(uO);return e!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,e)})),t(n)}function Kp(...n){let t=[xr,dc,{provide:Yp,useExisting:dc},{provide:Wp,useFactory:()=>C(iO,{optional:!0})??C(qp)},{provide:iv,useValue:fO,multi:!0}];for(let e of n)t.push(...e.\u0275providers);return Un(t)}var cv=(()=>{class n{_doc;constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static \u0275fac=function(i){return new(i||n)(B(Pe))};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Y="primary",oa=Symbol("RouteTitle"),ef=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function Fi(n){return new ef(n)}function Jp(n,t,e){for(let i=0;i<n.length;i++){let r=n[i],o=t[i];if(r[0]===":")e[r.substring(1)]=o;else if(r!==o.path)return!1}return!0}function _v(n,t,e){let i=e.path.split("/"),r=i.indexOf("**");if(r===-1){if(i.length>n.length||e.pathMatch==="full"&&(t.hasChildren()||i.length<n.length))return null;let u={},f=n.slice(0,i.length);return Jp(i,f,u)?{consumed:f,posParams:u}:null}if(r!==i.lastIndexOf("**"))return null;let o=i.slice(0,r),a=i.slice(r+1);if(o.length+a.length>n.length||e.pathMatch==="full"&&t.hasChildren()&&e.path!=="**")return null;let l={};return!Jp(o,n.slice(0,o.length),l)||!Jp(a,n.slice(n.length-a.length),l)?null:{consumed:n,posParams:l}}function hc(n){return new Promise((t,e)=>{n.pipe(hn()).subscribe({next:i=>t(i),error:i=>e(i)})})}function mO(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!pn(n[e],t[e]))return!1;return!0}function pn(n,t){let e=n?tf(n):void 0,i=t?tf(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!Cv(n[r],t[r]))return!1;return!0}function tf(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Cv(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;let e=[...n].sort(),i=[...t].sort();return e.every((r,o)=>i[o]===r)}else return n===t}function hO(n){return n.length>0?n[n.length-1]:null}function Bi(n){return El(n)?n:Kn(n)?_t(Promise.resolve(n)):X(n)}function yv(n){return El(n)?hc(n):Promise.resolve(n)}var vO={exact:xv,subset:Mv},bv={exact:_O,subset:CO,ignored:()=>!0};function lv(n,t,e){return vO[e.paths](n.root,t.root,e.matrixParams)&&bv[e.queryParams](n.queryParams,t.queryParams)&&!(e.fragment==="exact"&&n.fragment!==t.fragment)}function _O(n,t){return pn(n,t)}function xv(n,t,e){if(!Ni(n.segments,t.segments)||!fc(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(let i in t.children)if(!n.children[i]||!xv(n.children[i],t.children[i],e))return!1;return!0}function CO(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>Cv(n[e],t[e]))}function Mv(n,t,e){return Ov(n,t,t.segments,e)}function Ov(n,t,e,i){if(n.segments.length>e.length){let r=n.segments.slice(0,e.length);return!(!Ni(r,e)||t.hasChildren()||!fc(r,e,i))}else if(n.segments.length===e.length){if(!Ni(n.segments,e)||!fc(n.segments,e,i))return!1;for(let r in t.children)if(!n.children[r]||!Mv(n.children[r],t.children[r],i))return!1;return!0}else{let r=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!Ni(n.segments,r)||!fc(n.segments,r,i)||!n.children[Y]?!1:Ov(n.children[Y],t,o,i)}}function fc(n,t,e){return t.every((i,r)=>bv[e](n[r].parameters,i.parameters))}var Kt=class{root;queryParams;fragment;_queryParamMap;constructor(t=new ae([],{}),e={},i=null){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap??=Fi(this.queryParams),this._queryParamMap}toString(){return xO.serialize(this)}},ae=class{segments;children;parent=null;constructor(t,e){this.segments=t,this.children=e,Object.values(e).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return gc(this)}},Zn=class{path;parameters;_parameterMap;constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap??=Fi(this.parameters),this._parameterMap}toString(){return Sv(this)}};function yO(n,t){return Ni(n,t)&&n.every((e,i)=>pn(e.parameters,t[i].parameters))}function Ni(n,t){return n.length!==t.length?!1:n.every((e,i)=>e.path===t[i].path)}function bO(n,t){let e=[];return Object.entries(n.children).forEach(([i,r])=>{i===Y&&(e=e.concat(t(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==Y&&(e=e.concat(t(r,i)))}),e}var aa=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=k({token:n,factory:()=>new Xn,providedIn:"root"})}return n})(),Xn=class{parse(t){let e=new rf(t);return new Kt(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){let e=`/${Yo(t.root,!0)}`,i=EO(t.queryParams),r=typeof t.fragment=="string"?`#${MO(t.fragment)}`:"";return`${e}${i}${r}`}},xO=new Xn;function gc(n){return n.segments.map(t=>Sv(t)).join("/")}function Yo(n,t){if(!n.hasChildren())return gc(n);if(t){let e=n.children[Y]?Yo(n.children[Y],!1):"",i=[];return Object.entries(n.children).forEach(([r,o])=>{r!==Y&&i.push(`${r}:${Yo(o,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}else{let e=bO(n,(i,r)=>r===Y?[Yo(n.children[Y],!1)]:[`${r}:${Yo(i,!1)}`]);return Object.keys(n.children).length===1&&n.children[Y]!=null?`${gc(n)}/${e[0]}`:`${gc(n)}/(${e.join("//")})`}}function Ev(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function uc(n){return Ev(n).replace(/%3B/gi,";")}function MO(n){return encodeURI(n)}function nf(n){return Ev(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function mc(n){return decodeURIComponent(n)}function dv(n){return mc(n.replace(/\+/g,"%20"))}function Sv(n){return`${nf(n.path)}${OO(n.parameters)}`}function OO(n){return Object.entries(n).map(([t,e])=>`;${nf(t)}=${nf(e)}`).join("")}function EO(n){let t=Object.entries(n).map(([e,i])=>Array.isArray(i)?i.map(r=>`${uc(e)}=${uc(r)}`).join("&"):`${uc(e)}=${uc(i)}`).filter(e=>e);return t.length?`?${t.join("&")}`:""}var SO=/^[^\/()?;#]+/;function Qp(n){let t=n.match(SO);return t?t[0]:""}var PO=/^[^\/()?;=#]+/;function wO(n){let t=n.match(PO);return t?t[0]:""}var DO=/^[^=?&#]+/;function IO(n){let t=n.match(DO);return t?t[0]:""}var TO=/^[^&#]+/;function kO(n){let t=n.match(TO);return t?t[0]:""}var rf=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ae([],{}):new ae([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(t=0){if(t>50)throw new F(4010,!1);if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let i={};this.peekStartsWith("/(")&&(this.capture("/"),i=this.parseParens(!0,t));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1,t)),(e.length>0||Object.keys(i).length>0)&&(r[Y]=new ae(e,i)),r}parseSegment(){let t=Qp(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new F(4009,!1);return this.capture(t),new Zn(mc(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let e=wO(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){let r=Qp(this.remaining);r&&(i=r,this.capture(i))}t[mc(e)]=mc(i)}parseQueryParam(t){let e=IO(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){let a=kO(this.remaining);a&&(i=a,this.capture(i))}let r=dv(e),o=dv(i);if(t.hasOwnProperty(r)){let a=t[r];Array.isArray(a)||(a=[a],t[r]=a),a.push(o)}else t[r]=o}parseParens(t,e){let i={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Qp(this.remaining),o=this.remaining[r.length];if(o!=="/"&&o!==")"&&o!==";")throw new F(4010,!1);let a;r.indexOf(":")>-1?(a=r.slice(0,r.indexOf(":")),this.capture(a),this.capture(":")):t&&(a=Y);let l=this.parseChildren(e+1);i[a??Y]=Object.keys(l).length===1&&l[Y]?l[Y]:new ae([],l),this.consumeOptional("//")}return i}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new F(4011,!1)}};function Pv(n){return n.segments.length>0?new ae([],{[Y]:n}):n}function wv(n){let t={};for(let[i,r]of Object.entries(n.children)){let o=wv(r);if(i===Y&&o.segments.length===0&&o.hasChildren())for(let[a,l]of Object.entries(o.children))t[a]=l;else(o.segments.length>0||o.hasChildren())&&(t[i]=o)}let e=new ae(n.segments,t);return AO(e)}function AO(n){if(n.numberOfChildren===1&&n.children[Y]){let t=n.children[Y];return new ae(n.segments.concat(t.segments),t.children)}return n}function ei(n){return n instanceof Kt}function Dv(n,t,e=null,i=null,r=new Xn){let o=Iv(n);return Tv(o,t,e,i,r)}function Iv(n){let t;function e(o){let a={};for(let u of o.children){let f=e(u);a[u.outlet]=f}let l=new ae(o.url,a);return o===n&&(t=l),l}let i=e(n.root),r=Pv(i);return t??r}function Tv(n,t,e,i,r){let o=n;for(;o.parent;)o=o.parent;if(t.length===0)return Zp(o,o,o,e,i,r);let a=RO(t);if(a.toRoot())return Zp(o,o,new ae([],{}),e,i,r);let l=NO(a,o,n),u=l.processChildren?Jo(l.segmentGroup,l.index,a.commands):Av(l.segmentGroup,l.index,a.commands);return Zp(o,l.segmentGroup,u,e,i,r)}function vc(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Xo(n){return typeof n=="object"&&n!=null&&n.outlets}function uv(n,t,e){n||="\u0275";let i=new Kt;return i.queryParams={[n]:t},e.parse(e.serialize(i)).queryParams[n]}function Zp(n,t,e,i,r,o){let a={};for(let[f,g]of Object.entries(i??{}))a[f]=Array.isArray(g)?g.map(m=>uv(f,m,o)):uv(f,g,o);let l;n===t?l=e:l=kv(n,t,e);let u=Pv(wv(l));return new Kt(u,a,r)}function kv(n,t,e){let i={};return Object.entries(n.children).forEach(([r,o])=>{o===t?i[r]=e:i[r]=kv(o,t,e)}),new ae(n.segments,i)}var _c=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&vc(i[0]))throw new F(4003,!1);let r=i.find(Xo);if(r&&r!==hO(i))throw new F(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function RO(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new _c(!0,0,n);let t=0,e=!1,i=n.reduce((r,o,a)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let l={};return Object.entries(o.outlets).forEach(([u,f])=>{l[u]=typeof f=="string"?f.split("/"):f}),[...r,{outlets:l}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:a===0?(o.split("/").forEach((l,u)=>{u==0&&l==="."||(u==0&&l===""?e=!0:l===".."?t++:l!=""&&r.push(l))}),r):[...r,o]},[]);return new _c(e,t,i)}var Or=class{segmentGroup;processChildren;index;constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}};function NO(n,t,e){if(n.isAbsolute)return new Or(t,!0,0);if(!e)return new Or(t,!1,NaN);if(e.parent===null)return new Or(e,!0,0);let i=vc(n.commands[0])?0:1,r=e.segments.length-1+i;return LO(e,r,n.numberOfDoubleDots)}function LO(n,t,e){let i=n,r=t,o=e;for(;o>r;){if(o-=r,i=i.parent,!i)throw new F(4005,!1);r=i.segments.length}return new Or(i,!1,r-o)}function FO(n){return Xo(n[0])?n[0].outlets:{[Y]:n}}function Av(n,t,e){if(n??=new ae([],{}),n.segments.length===0&&n.hasChildren())return Jo(n,t,e);let i=VO(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){let o=new ae(n.segments.slice(0,i.pathIndex),{});return o.children[Y]=new ae(n.segments.slice(i.pathIndex),n.children),Jo(o,0,r)}else return i.match&&r.length===0?new ae(n.segments,{}):i.match&&!n.hasChildren()?of(n,t,e):i.match?Jo(n,0,r):of(n,t,e)}function Jo(n,t,e){if(e.length===0)return new ae(n.segments,{});{let i=FO(e),r={};if(Object.keys(i).some(o=>o!==Y)&&n.children[Y]&&n.numberOfChildren===1&&n.children[Y].segments.length===0){let o=Jo(n.children[Y],t,e);return new ae(n.segments,o.children)}return Object.entries(i).forEach(([o,a])=>{typeof a=="string"&&(a=[a]),a!==null&&(r[o]=Av(n.children[o],t,a))}),Object.entries(n.children).forEach(([o,a])=>{i[o]===void 0&&(r[o]=a)}),new ae(n.segments,r)}}function VO(n,t,e){let i=0,r=t,o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return o;let a=n.segments[r],l=e[i];if(Xo(l))break;let u=`${l}`,f=i<e.length-1?e[i+1]:null;if(r>0&&u===void 0)break;if(u&&f&&typeof f=="object"&&f.outlets===void 0){if(!fv(u,f,a))return o;i+=2}else{if(!fv(u,{},a))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function of(n,t,e){let i=n.segments.slice(0,t),r=0;for(;r<e.length;){let o=e[r];if(Xo(o)){let u=jO(o.outlets);return new ae(i,u)}if(r===0&&vc(e[0])){let u=n.segments[t];i.push(new Zn(u.path,pv(e[0]))),r++;continue}let a=Xo(o)?o.outlets[Y]:`${o}`,l=r<e.length-1?e[r+1]:null;a&&l&&vc(l)?(i.push(new Zn(a,pv(l))),r+=2):(i.push(new Zn(a,{})),r++)}return new ae(i,{})}function jO(n){let t={};return Object.entries(n).forEach(([e,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(t[e]=of(new ae([],{}),0,i))}),t}function pv(n){let t={};return Object.entries(n).forEach(([e,i])=>t[e]=`${i}`),t}function fv(n,t,e){return n==e.path&&pn(t,e.parameters)}var Qo="imperative",Le=(function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n})(Le||{}),ht=class{id;url;constructor(t,e){this.id=t,this.url=e}},Vi=class extends ht{type=Le.NavigationStart;navigationTrigger;restoredState;constructor(t,e,i="imperative",r=null){super(t,e),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},kt=class extends ht{urlAfterRedirects;type=Le.NavigationEnd;constructor(t,e,i){super(t,e),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},We=(function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n})(We||{}),ea=(function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n})(ea||{}),Tt=class extends ht{reason;code;type=Le.NavigationCancel;constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}};function Rv(n){return n instanceof Tt&&(n.code===We.Redirect||n.code===We.SupersededByNewNavigation)}var Rn=class extends ht{reason;code;type=Le.NavigationSkipped;constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r}},ji=class extends ht{error;target;type=Le.NavigationError;constructor(t,e,i,r){super(t,e),this.error=i,this.target=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Sr=class extends ht{urlAfterRedirects;state;type=Le.RoutesRecognized;constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Cc=class extends ht{urlAfterRedirects;state;type=Le.GuardsCheckStart;constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},yc=class extends ht{urlAfterRedirects;state;shouldActivate;type=Le.GuardsCheckEnd;constructor(t,e,i,r,o){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},bc=class extends ht{urlAfterRedirects;state;type=Le.ResolveStart;constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},xc=class extends ht{urlAfterRedirects;state;type=Le.ResolveEnd;constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Mc=class{route;type=Le.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Oc=class{route;type=Le.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Ec=class{snapshot;type=Le.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Sc=class{snapshot;type=Le.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Pc=class{snapshot;type=Le.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},wc=class{snapshot;type=Le.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Pr=class{},wr=class{url;navigationBehaviorOptions;constructor(t,e){this.url=t,this.navigationBehaviorOptions=e}};function BO(n){return!(n instanceof Pr)&&!(n instanceof wr)}var Dc=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return this.route?.snapshot._environmentInjector??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new Tr(this.rootInjector)}},Tr=(()=>{class n{rootInjector;contexts=new Map;constructor(e){this.rootInjector=e}onChildOutletCreated(e,i){let r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){let i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new Dc(this.rootInjector),this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}static \u0275fac=function(i){return new(i||n)(B(Ce))};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ic=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){let e=af(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){let e=af(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){let e=sf(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return sf(t,this._root).map(e=>e.value)}};function af(n,t){if(n===t.value)return t;for(let e of t.children){let i=af(n,e);if(i)return i}return null}function sf(n,t){if(n===t.value)return[t];for(let e of t.children){let i=sf(n,e);if(i.length)return i.unshift(t),i}return[]}var mt=class{value;children;constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}};function Mr(n){let t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}var ta=class extends Ic{snapshot;constructor(t,e){super(t),this.snapshot=e,mf(this,t)}toString(){return this.snapshot.toString()}};function Nv(n,t){let e=UO(n,t),i=new Ve([new Zn("",{})]),r=new Ve({}),o=new Ve({}),a=new Ve({}),l=new Ve(""),u=new Jt(i,r,a,l,o,Y,n,e.root);return u.snapshot=e.root,new ta(new mt(u,[]),e)}function UO(n,t){let e={},i={},r={},a=new Li([],e,r,"",i,Y,n,null,{},t);return new na("",new mt(a,[]))}var Jt=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,e,i,r,o,a,l,u){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=a,this.component=l,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(pe(f=>f[oa]))??X(void 0),this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(pe(t=>Fi(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(pe(t=>Fi(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Tc(n,t,e="emptyOnly"){let i,{routeConfig:r}=n;return t!==null&&(e==="always"||r?.path===""||!t.component&&!t.routeConfig?.loadComponent)?i={params:E(E({},t.params),n.params),data:E(E({},t.data),n.data),resolve:E(E(E(E({},n.data),t.data),r?.data),n._resolvedData)}:i={params:E({},n.params),data:E({},n.data),resolve:E(E({},n.data),n._resolvedData??{})},r&&Fv(r)&&(i.resolve[oa]=r.title),i}var Li=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;_environmentInjector;get title(){return this.data?.[oa]}constructor(t,e,i,r,o,a,l,u,f,g){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=a,this.component=l,this.routeConfig=u,this._resolve=f,this._environmentInjector=g}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Fi(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Fi(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(i=>i.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${e}')`}},na=class extends Ic{url;constructor(t,e){super(e),this.url=t,mf(this,e)}toString(){return Lv(this._root)}};function mf(n,t){t.value._routerState=n,t.children.forEach(e=>mf(n,e))}function Lv(n){let t=n.children.length>0?` { ${n.children.map(Lv).join(", ")} } `:"";return`${n.value}${t}`}function Xp(n){if(n.snapshot){let t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,pn(t.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),pn(t.params,e.params)||n.paramsSubject.next(e.params),mO(t.url,e.url)||n.urlSubject.next(e.url),pn(t.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function cf(n,t){let e=pn(n.params,t.params)&&yO(n.url,t.url),i=!n.parent!=!t.parent;return e&&!i&&(!n.parent||cf(n.parent,t.parent))}function Fv(n){return typeof n.title=="string"||n.title===null}var Vv=new j(""),sa=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Y;activateEvents=new ve;deactivateEvents=new ve;attachEvents=new ve;detachEvents=new ve;routerOutletData=S0();parentContexts=C(Tr);location=C(Pn);changeDetector=C(ft);inputBinder=C(Nc,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(e){if(e.name){let{firstChange:i,previousValue:r}=e.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new F(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new F(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new F(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new F(4013,!1);this._activatedRoute=e;let r=this.location,a=e.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,u=new lf(e,l,r.injector,this.routerOutletData);this.activated=r.createComponent(a,{index:r.length,injector:u,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(i){return new(i||n)};static \u0275dir=ye({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[En]})}return n})(),lf=class{route;childContexts;parent;outletData;constructor(t,e,i,r){this.route=t,this.childContexts=e,this.parent=i,this.outletData=r}get(t,e){return t===Jt?this.route:t===Tr?this.childContexts:t===Vv?this.outletData:this.parent.get(t,e)}},Nc=new j("");var hf=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=G({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(i,r){i&1&&M(0,"router-outlet")},dependencies:[sa],encapsulation:2})}return n})();function vf(n){let t=n.children&&n.children.map(vf),e=t?A(E({},n),{children:t}):E({},n);return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Y&&(e.component=hf),e}function HO(n,t,e){let i=ia(n,t._root,e?e._root:void 0);return new ta(i,t)}function ia(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){let i=e.value;i._futureSnapshot=t.value;let r=$O(n,t,e);return new mt(i,r)}else{if(n.shouldAttach(t.value)){let o=n.retrieve(t.value);if(o!==null){let a=o.route;return a.value._futureSnapshot=t.value,a.children=t.children.map(l=>ia(n,l)),a}}let i=zO(t.value),r=t.children.map(o=>ia(n,o));return new mt(i,r)}}function $O(n,t,e){return t.children.map(i=>{for(let r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return ia(n,i,r);return ia(n,i)})}function zO(n){return new Jt(new Ve(n.url),new Ve(n.params),new Ve(n.queryParams),new Ve(n.fragment),new Ve(n.data),n.outlet,n.component,n)}var Dr=class{redirectTo;navigationBehaviorOptions;constructor(t,e){this.redirectTo=t,this.navigationBehaviorOptions=e}},jv="ngNavigationCancelingError";function kc(n,t){let{redirectTo:e,navigationBehaviorOptions:i}=ei(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=Bv(!1,We.Redirect);return r.url=e,r.navigationBehaviorOptions=i,r}function Bv(n,t){let e=new Error(`NavigationCancelingError: ${n||""}`);return e[jv]=!0,e.cancellationCode=t,e}function GO(n){return Uv(n)&&ei(n.url)}function Uv(n){return!!n&&n[jv]}var df=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,e,i,r,o){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(t){let e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),Xp(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){let r=Mr(e);t.children.forEach(o=>{let a=o.value.outlet;this.deactivateRoutes(o,r[a],i),delete r[a]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,e,i){let r=t.value,o=e?e.value:null;if(r===o)if(r.component){let a=i.getContext(r.outlet);a&&this.deactivateChildRoutes(t,e,a.children)}else this.deactivateChildRoutes(t,e,i);else o&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){let i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=Mr(t);for(let a of Object.values(o))this.deactivateRouteAndItsChildren(a,r);if(i&&i.outlet){let a=i.outlet.detach(),l=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:a,route:t,contexts:l})}}deactivateRouteAndOutlet(t,e){let i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=Mr(t);for(let a of Object.values(o))this.deactivateRouteAndItsChildren(a,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(t,e,i){let r=Mr(e);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new wc(o.value.snapshot))}),t.children.length&&this.forwardEvent(new Sc(t.value.snapshot))}activateRoutes(t,e,i){let r=t.value,o=e?e.value:null;if(Xp(r),r===o)if(r.component){let a=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,a.children)}else this.activateChildRoutes(t,e,i);else if(r.component){let a=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let l=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),a.children.onOutletReAttached(l.contexts),a.attachRef=l.componentRef,a.route=l.route.value,a.outlet&&a.outlet.attach(l.componentRef,l.route.value),Xp(l.route.value),this.activateChildRoutes(t,null,a.children)}else a.attachRef=null,a.route=r,a.outlet&&a.outlet.activateWith(r,a.injector),this.activateChildRoutes(t,null,a.children)}else this.activateChildRoutes(t,null,i)}},Ac=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},Er=class{component;route;constructor(t,e){this.component=t,this.route=e}};function qO(n,t,e){let i=n._root,r=t?t._root:null;return Ko(i,r,e,[i.value])}function WO(n){let t=n.routeConfig?n.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:n,guards:t}}function kr(n,t){let e=Symbol(),i=t.get(n,e);return i===e?typeof n=="function"&&!nd(n)?n:t.get(n):i}function Ko(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=Mr(t);return n.children.forEach(a=>{YO(a,o[a.value.outlet],e,i.concat([a.value]),r),delete o[a.value.outlet]}),Object.entries(o).forEach(([a,l])=>Zo(l,e.getContext(a),r)),r}function YO(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,a=t?t.value:null,l=e?e.getContext(n.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){let u=KO(a,o,o.routeConfig.runGuardsAndResolvers);u?r.canActivateChecks.push(new Ac(i)):(o.data=a.data,o._resolvedData=a._resolvedData),o.component?Ko(n,t,l?l.children:null,i,r):Ko(n,t,e,i,r),u&&l&&l.outlet&&l.outlet.isActivated&&r.canDeactivateChecks.push(new Er(l.outlet.component,a))}else a&&Zo(t,l,r),r.canActivateChecks.push(new Ac(i)),o.component?Ko(n,null,l?l.children:null,i,r):Ko(n,null,e,i,r);return r}function KO(n,t,e){if(typeof e=="function")return Ne(t._environmentInjector,()=>e(n,t));switch(e){case"pathParamsChange":return!Ni(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Ni(n.url,t.url)||!pn(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!cf(n,t)||!pn(n.queryParams,t.queryParams);default:return!cf(n,t)}}function Zo(n,t,e){let i=Mr(n),r=n.value;Object.entries(i).forEach(([o,a])=>{r.component?t?Zo(a,t.children.getContext(o),e):Zo(a,null,e):Zo(a,t,e)}),r.component?t&&t.outlet&&t.outlet.isActivated?e.canDeactivateChecks.push(new Er(t.outlet.component,r)):e.canDeactivateChecks.push(new Er(null,r)):e.canDeactivateChecks.push(new Er(null,r))}function ca(n){return typeof n=="function"}function JO(n){return typeof n=="boolean"}function QO(n){return n&&ca(n.canLoad)}function ZO(n){return n&&ca(n.canActivate)}function XO(n){return n&&ca(n.canActivateChild)}function eE(n){return n&&ca(n.canDeactivate)}function tE(n){return n&&ca(n.canMatch)}function Hv(n){return n instanceof Hf||n?.name==="EmptyError"}var pc=Symbol("INITIAL_VALUE");function Ir(){return Lt(n=>zf(n.map(t=>t.pipe(oi(1),Sl(pc)))).pipe(pe(t=>{for(let e of t)if(e!==!0){if(e===pc)return pc;if(e===!1||nE(e))return e}return!0}),Nt(t=>t!==pc),oi(1)))}function nE(n){return ei(n)||n instanceof Dr}function $v(n){return n.aborted?X(void 0).pipe(oi(1)):new zi(t=>{let e=()=>{t.next(),t.complete()};return n.addEventListener("abort",e),()=>n.removeEventListener("abort",e)})}function zv(n){return zr($v(n))}function iE(n){return mn(t=>{let{targetSnapshot:e,currentSnapshot:i,guards:{canActivateChecks:r,canDeactivateChecks:o}}=t;return o.length===0&&r.length===0?X(A(E({},t),{guardsResult:!0})):rE(o,e,i).pipe(mn(a=>a&&JO(a)?oE(e,r,n):X(a)),pe(a=>A(E({},t),{guardsResult:a})))})}function rE(n,t,e){return _t(n).pipe(mn(i=>dE(i.component,i.route,e,t)),hn(i=>i!==!0,!0))}function oE(n,t,e){return _t(t).pipe(qi(i=>Gf(sE(i.route.parent,e),aE(i.route,e),lE(n,i.path),cE(n,i.route))),hn(i=>i!==!0,!0))}function aE(n,t){return n!==null&&t&&t(new Pc(n)),X(!0)}function sE(n,t){return n!==null&&t&&t(new Ec(n)),X(!0)}function cE(n,t){let e=t.routeConfig?t.routeConfig.canActivate:null;if(!e||e.length===0)return X(!0);let i=e.map(r=>ba(()=>{let o=t._environmentInjector,a=kr(r,o),l=ZO(a)?a.canActivate(t,n):Ne(o,()=>a(t,n));return Bi(l).pipe(hn())}));return X(i).pipe(Ir())}function lE(n,t){let e=t[t.length-1],r=t.slice(0,t.length-1).reverse().map(o=>WO(o)).filter(o=>o!==null).map(o=>ba(()=>{let a=o.guards.map(l=>{let u=o.node._environmentInjector,f=kr(l,u),g=XO(f)?f.canActivateChild(e,n):Ne(u,()=>f(e,n));return Bi(g).pipe(hn())});return X(a).pipe(Ir())}));return X(r).pipe(Ir())}function dE(n,t,e,i){let r=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!r||r.length===0)return X(!0);let o=r.map(a=>{let l=t._environmentInjector,u=kr(a,l),f=eE(u)?u.canDeactivate(n,t,e,i):Ne(l,()=>u(n,t,e,i));return Bi(f).pipe(hn())});return X(o).pipe(Ir())}function uE(n,t,e,i,r){let o=t.canLoad;if(o===void 0||o.length===0)return X(!0);let a=o.map(l=>{let u=kr(l,n),f=QO(u)?u.canLoad(t,e):Ne(n,()=>u(t,e)),g=Bi(f);return r?g.pipe(zv(r)):g});return X(a).pipe(Ir(),Gv(i))}function Gv(n){return Bf(Qt(t=>{if(typeof t!="boolean")throw kc(n,t)}),pe(t=>t===!0))}function pE(n,t,e,i,r){let o=t.canMatch;if(!o||o.length===0)return X(!0);let a=o.map(l=>{let u=kr(l,n),f=tE(u)?u.canMatch(t,e):Ne(n,()=>u(t,e));return Bi(f).pipe(zv(r))});return X(a).pipe(Ir(),Gv(i))}var An=class n extends Error{segmentGroup;constructor(t){super(),this.segmentGroup=t||null,Object.setPrototypeOf(this,n.prototype)}},ra=class n extends Error{urlTree;constructor(t){super(),this.urlTree=t,Object.setPrototypeOf(this,n.prototype)}};function fE(n){throw new F(4e3,!1)}function gE(n){throw Bv(!1,We.GuardRejected)}var uf=class{urlSerializer;urlTree;constructor(t,e){this.urlSerializer=t,this.urlTree=e}async lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return i;if(r.numberOfChildren>1||!r.children[Y])throw fE(`${t.redirectTo}`);r=r.children[Y]}}async applyRedirectCommands(t,e,i,r,o){let a=await mE(e,r,o);if(a instanceof Kt)throw new ra(a);let l=this.applyRedirectCreateUrlTree(a,this.urlSerializer.parse(a),t,i);if(a[0]==="/")throw new ra(l);return l}applyRedirectCreateUrlTree(t,e,i,r){let o=this.createSegmentGroup(t,e.root,i,r);return new Kt(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){let i={};return Object.entries(t).forEach(([r,o])=>{if(typeof o=="string"&&o[0]===":"){let l=o.substring(1);i[r]=e[l]}else i[r]=o}),i}createSegmentGroup(t,e,i,r){let o=this.createSegments(t,e.segments,i,r),a={};return Object.entries(e.children).forEach(([l,u])=>{a[l]=this.createSegmentGroup(t,u,i,r)}),new ae(o,a)}createSegments(t,e,i,r){return e.map(o=>o.path[0]===":"?this.findPosParam(t,o,r):this.findOrReturn(o,i))}findPosParam(t,e,i){let r=i[e.path.substring(1)];if(!r)throw new F(4001,!1);return r}findOrReturn(t,e){let i=0;for(let r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}};function mE(n,t,e){if(typeof n=="string")return Promise.resolve(n);let i=n,{queryParams:r,fragment:o,routeConfig:a,url:l,outlet:u,params:f,data:g,title:m,paramMap:_,queryParamMap:y}=t;return hc(Bi(Ne(e,()=>i({params:f,data:g,queryParams:r,fragment:o,routeConfig:a,url:l,outlet:u,title:m,paramMap:_,queryParamMap:y}))))}function hE(n,t){return n.providers&&!n._injector&&(n._injector=Ao(n.providers,t,`Route: ${n.path}`)),n._injector??t}function Yt(n){return n.outlet||Y}function vE(n,t){let e=n.filter(i=>Yt(i)===t);return e.push(...n.filter(i=>Yt(i)!==t)),e}var pf={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function _E(n,t,e,i,r,o){let a=qv(n,t,e);return a.matched?(i=hE(t,i),pE(i,t,e,r,o).pipe(pe(l=>l===!0?a:E({},pf)))):X(a)}function qv(n,t,e){if(t.path==="")return t.pathMatch==="full"&&(n.hasChildren()||e.length>0)?E({},pf):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let r=(t.matcher||_v)(e,n,t);if(!r)return E({},pf);let o={};Object.entries(r.posParams??{}).forEach(([l,u])=>{o[l]=u.path});let a=r.consumed.length>0?E(E({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:a,positionalParamSegments:r.posParams??{}}}function gv(n,t,e,i){return e.length>0&&bE(n,e,i)?{segmentGroup:new ae(t,yE(i,new ae(e,n.children))),slicedSegments:[]}:e.length===0&&xE(n,e,i)?{segmentGroup:new ae(n.segments,CE(n,e,i,n.children)),slicedSegments:e}:{segmentGroup:new ae(n.segments,n.children),slicedSegments:e}}function CE(n,t,e,i){let r={};for(let o of e)if(Lc(n,t,o)&&!i[Yt(o)]){let a=new ae([],{});r[Yt(o)]=a}return E(E({},i),r)}function yE(n,t){let e={};e[Y]=t;for(let i of n)if(i.path===""&&Yt(i)!==Y){let r=new ae([],{});e[Yt(i)]=r}return e}function bE(n,t,e){return e.some(i=>Lc(n,t,i)&&Yt(i)!==Y)}function xE(n,t,e){return e.some(i=>Lc(n,t,i))}function Lc(n,t,e){return(n.hasChildren()||t.length>0)&&e.pathMatch==="full"?!1:e.path===""}function ME(n,t,e){return t.length===0&&!n.children[e]}var ff=class{};async function OE(n,t,e,i,r,o,a="emptyOnly",l){return new gf(n,t,e,i,r,a,o,l).recognize()}var EE=31,gf=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;abortSignal;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,e,i,r,o,a,l,u){this.injector=t,this.configLoader=e,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=a,this.urlSerializer=l,this.abortSignal=u,this.applyRedirects=new uf(this.urlSerializer,this.urlTree)}noMatchError(t){return new F(4002,`'${t.segmentGroup}'`)}async recognize(){let t=gv(this.urlTree.root,[],[],this.config).segmentGroup,{children:e,rootSnapshot:i}=await this.match(t),r=new mt(i,e),o=new na("",r),a=Dv(i,[],this.urlTree.queryParams,this.urlTree.fragment);return a.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(a),{state:o,tree:a}}async match(t){let e=new Li([],Object.freeze({}),Object.freeze(E({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Y,this.rootComponentType,null,{},this.injector);try{return{children:await this.processSegmentGroup(this.injector,this.config,t,Y,e),rootSnapshot:e}}catch(i){if(i instanceof ra)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof An?this.noMatchError(i):i}}async processSegmentGroup(t,e,i,r,o){if(i.segments.length===0&&i.hasChildren())return this.processChildren(t,e,i,o);let a=await this.processSegment(t,e,i,i.segments,r,!0,o);return a instanceof mt?[a]:[]}async processChildren(t,e,i,r){let o=[];for(let u of Object.keys(i.children))u==="primary"?o.unshift(u):o.push(u);let a=[];for(let u of o){let f=i.children[u],g=vE(e,u),m=await this.processSegmentGroup(t,g,f,u,r);a.push(...m)}let l=Wv(a);return SE(l),l}async processSegment(t,e,i,r,o,a,l){for(let u of e)try{return await this.processSegmentAgainstRoute(u._injector??t,e,u,i,r,o,a,l)}catch(f){if(f instanceof An||Hv(f))continue;throw f}if(ME(i,r,o))return new ff;throw new An(i)}async processSegmentAgainstRoute(t,e,i,r,o,a,l,u){if(Yt(i)!==a&&(a===Y||!Lc(r,o,i)))throw new An(r);if(i.redirectTo===void 0)return this.matchSegmentAgainstRoute(t,r,i,o,a,u);if(this.allowRedirects&&l)return this.expandSegmentAgainstRouteUsingRedirect(t,r,e,i,o,a,u);throw new An(r)}async expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,a,l){let{matched:u,parameters:f,consumedSegments:g,positionalParamSegments:m,remainingSegments:_}=qv(e,r,o);if(!u)throw new An(e);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>EE&&(this.allowRedirects=!1));let y=new Li(o,f,Object.freeze(E({},this.urlTree.queryParams)),this.urlTree.fragment,mv(r),Yt(r),r.component??r._loadedComponent??null,r,hv(r),t),D=Tc(y,l,this.paramsInheritanceStrategy);if(y.params=Object.freeze(D.params),y.data=Object.freeze(D.data),this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let L=await this.applyRedirects.applyRedirectCommands(g,r.redirectTo,m,y,t),R=await this.applyRedirects.lineralizeSegments(r,L);return this.processSegment(t,i,e,R.concat(_),a,!1,l)}async matchSegmentAgainstRoute(t,e,i,r,o,a){if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let l=await hc(_E(e,i,r,t,this.urlSerializer,this.abortSignal));if(i.path==="**"&&(e.children={}),!l?.matched)throw new An(e);t=i._injector??t;let{routes:u}=await this.getChildConfig(t,i,r),f=i._loadedInjector??t,{parameters:g,consumedSegments:m,remainingSegments:_}=l,y=new Li(m,g,Object.freeze(E({},this.urlTree.queryParams)),this.urlTree.fragment,mv(i),Yt(i),i.component??i._loadedComponent??null,i,hv(i),t),D=Tc(y,a,this.paramsInheritanceStrategy);y.params=Object.freeze(D.params),y.data=Object.freeze(D.data);let{segmentGroup:L,slicedSegments:R}=gv(e,m,_,u);if(R.length===0&&L.hasChildren()){let Q=await this.processChildren(f,u,L,y);return new mt(y,Q)}if(u.length===0&&R.length===0)return new mt(y,[]);let V=Yt(i)===o,ee=await this.processSegment(f,u,L,R,V?Y:o,!0,y);return new mt(y,ee instanceof mt?[ee]:[])}async getChildConfig(t,e,i){if(e.children)return{routes:e.children,injector:t};if(e.loadChildren){if(e._loadedRoutes!==void 0){let o=e._loadedNgModuleFactory;return o&&!e._loadedInjector&&(e._loadedInjector=o.create(t).injector),{routes:e._loadedRoutes,injector:e._loadedInjector}}if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);if(await hc(uE(t,e,i,this.urlSerializer,this.abortSignal))){let o=await this.configLoader.loadChildren(t,e);return e._loadedRoutes=o.routes,e._loadedInjector=o.injector,e._loadedNgModuleFactory=o.factory,o}throw gE(e)}return{routes:[],injector:t}}};function SE(n){n.sort((t,e)=>t.value.outlet===Y?-1:e.value.outlet===Y?1:t.value.outlet.localeCompare(e.value.outlet))}function PE(n){let t=n.value.routeConfig;return t&&t.path===""}function Wv(n){let t=[],e=new Set;for(let i of n){if(!PE(i)){t.push(i);continue}let r=t.find(o=>i.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...i.children),e.add(r)):t.push(i)}for(let i of e){let r=Wv(i.children);t.push(new mt(i.value,r))}return t.filter(i=>!e.has(i))}function mv(n){return n.data||{}}function hv(n){return n.resolve||{}}function wE(n,t,e,i,r,o,a){return mn(async l=>{let{state:u,tree:f}=await OE(n,t,e,i,l.extractedUrl,r,o,a);return A(E({},l),{targetSnapshot:u,urlAfterRedirects:f})})}function DE(n){return mn(t=>{let{targetSnapshot:e,guards:{canActivateChecks:i}}=t;if(!i.length)return X(t);let r=new Set(i.map(l=>l.route)),o=new Set;for(let l of r)if(!o.has(l))for(let u of Yv(l))o.add(u);let a=0;return _t(o).pipe(qi(l=>r.has(l)?IE(l,e,n):(l.data=Tc(l,l.parent,n).resolve,X(void 0))),Qt(()=>a++),xa(1),mn(l=>a===o.size?X(t):vt))})}function Yv(n){let t=n.children.map(e=>Yv(e)).flat();return[n,...t]}function IE(n,t,e){let i=n.routeConfig,r=n._resolve;return i?.title!==void 0&&!Fv(i)&&(r[oa]=i.title),ba(()=>(n.data=Tc(n,n.parent,e).resolve,TE(r,n,t).pipe(pe(o=>(n._resolvedData=o,n.data=E(E({},n.data),o),null)))))}function TE(n,t,e){let i=tf(n);if(i.length===0)return X({});let r={};return _t(i).pipe(mn(o=>kE(n[o],t,e).pipe(hn(),Qt(a=>{if(a instanceof Dr)throw kc(new Xn,a);r[o]=a}))),xa(1),pe(()=>r),Gi(o=>Hv(o)?vt:Uf(o)))}function kE(n,t,e){let i=t._environmentInjector,r=kr(n,i),o=r.resolve?r.resolve(t,e):Ne(i,()=>r(t,e));return Bi(o)}function vv(n){return Lt(t=>{let e=n(t);return e?_t(e).pipe(pe(()=>t)):X(t)})}var _f=(()=>{class n{buildTitle(e){let i,r=e.root;for(;r!==void 0;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===Y);return i}getResolvedTitleForRoute(e){return e.data[oa]}static \u0275fac=function(i){return new(i||n)};static \u0275prov=k({token:n,factory:()=>C(Kv),providedIn:"root"})}return n})(),Kv=(()=>{class n extends _f{title;constructor(e){super(),this.title=e}updateTitle(e){let i=this.buildTitle(e);i!==void 0&&this.title.setTitle(i)}static \u0275fac=function(i){return new(i||n)(B(cv))};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ar=new j("",{factory:()=>({})}),la=new j(""),Jv=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=C(vp);async loadComponent(e,i){if(this.componentLoaders.get(i))return this.componentLoaders.get(i);if(i._loadedComponent)return Promise.resolve(i._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(i);let r=(async()=>{try{let o=await yv(Ne(e,()=>i.loadComponent())),a=await Xv(Zv(o));return this.onLoadEndListener&&this.onLoadEndListener(i),i._loadedComponent=a,a}finally{this.componentLoaders.delete(i)}})();return this.componentLoaders.set(i,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Promise.resolve({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let r=(async()=>{try{let o=await Qv(i,this.compiler,e,this.onLoadEndListener);return i._loadedRoutes=o.routes,i._loadedInjector=o.injector,i._loadedNgModuleFactory=o.factory,o}finally{this.childrenLoaders.delete(i)}})();return this.childrenLoaders.set(i,r),r}static \u0275fac=function(i){return new(i||n)};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();async function Qv(n,t,e,i){let r=await yv(Ne(e,()=>n.loadChildren())),o=await Xv(Zv(r)),a;o instanceof js||Array.isArray(o)?a=o:a=await t.compileModuleAsync(o),i&&i(n);let l,u,f=!1,g;return Array.isArray(a)?(u=a,f=!0):(l=a.create(e).injector,g=a,u=l.get(la,[],{optional:!0,self:!0}).flat()),{routes:u.map(vf),injector:l,factory:g}}function AE(n){return n&&typeof n=="object"&&"default"in n}function Zv(n){return AE(n)?n.default:n}async function Xv(n){return n}var Fc=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=k({token:n,factory:()=>C(RE),providedIn:"root"})}return n})(),RE=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}static \u0275fac=function(i){return new(i||n)};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),e_=new j("");var NE=()=>{},t_=new j(""),n_=(()=>{class n{currentNavigation=N(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=N(null);events=new ze;transitionAbortWithErrorSubject=new ze;configLoader=C(Jv);environmentInjector=C(Ce);destroyRef=C(qe);urlSerializer=C(aa);rootContexts=C(Tr);location=C(ki);inputBindingEnabled=C(Nc,{optional:!0})!==null;titleStrategy=C(_f);options=C(Ar,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=C(Fc);createViewTransition=C(e_,{optional:!0});navigationErrorHandler=C(t_,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>X(void 0);rootComponentType=null;destroyed=!1;constructor(){let e=r=>this.events.next(new Mc(r)),i=r=>this.events.next(new Oc(r));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=e,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(e){let i=++this.navigationId;ke(()=>{this.transitions?.next(A(E({},e),{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:i}))})}setupNavigations(e){return this.transitions=new Ve(null),this.transitions.pipe(Nt(i=>i!==null),Lt(i=>{let r=!1,o=new AbortController,a=()=>!r&&this.currentTransition?.id===i.id;return X(i).pipe(Lt(l=>{if(this.navigationId>i.id)return this.cancelNavigationTransition(i,"",We.SupersededByNewNavigation),vt;this.currentTransition=i;let u=this.lastSuccessfulNavigation();this.currentNavigation.set({id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:u?A(E({},u),{previousNavigation:null}):null,abort:()=>o.abort()});let f=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),g=l.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!f&&g!=="reload")return this.events.next(new Rn(l.id,this.urlSerializer.serialize(l.rawUrl),"",ea.IgnoredSameUrlNavigation)),l.resolve(!1),vt;if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return X(l).pipe(Lt(m=>(this.events.next(new Vi(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),m.id!==this.navigationId?vt:Promise.resolve(m))),wE(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy,o.signal),Qt(m=>{i.targetSnapshot=m.targetSnapshot,i.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation.update(y=>(y.finalUrl=m.urlAfterRedirects,y));let _=new Sr(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(_)}));if(f&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:m,extractedUrl:_,source:y,restoredState:D,extras:L}=l,R=new Vi(m,this.urlSerializer.serialize(_),y,D);this.events.next(R);let V=Nv(this.rootComponentType,this.environmentInjector).snapshot;return this.currentTransition=i=A(E({},l),{targetSnapshot:V,urlAfterRedirects:_,extras:A(E({},L),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(ee=>(ee.finalUrl=_,ee)),X(i)}else return this.events.next(new Rn(l.id,this.urlSerializer.serialize(l.extractedUrl),"",ea.IgnoredByUrlHandlingStrategy)),l.resolve(!1),vt}),pe(l=>{let u=new Cc(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);return this.events.next(u),this.currentTransition=i=A(E({},l),{guards:qO(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),i}),iE(l=>this.events.next(l)),Lt(l=>{if(i.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw kc(this.urlSerializer,l.guardsResult);let u=new yc(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);if(this.events.next(u),!a())return vt;if(!l.guardsResult)return this.cancelNavigationTransition(l,"",We.GuardRejected),vt;if(l.guards.canActivateChecks.length===0)return X(l);let f=new bc(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);if(this.events.next(f),!a())return vt;let g=!1;return X(l).pipe(DE(this.paramsInheritanceStrategy),Qt({next:()=>{g=!0;let m=new xc(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(m)},complete:()=>{g||this.cancelNavigationTransition(l,"",We.NoDataFromResolver)}}))}),vv(l=>{let u=g=>{let m=[];if(g.routeConfig?._loadedComponent)g.component=g.routeConfig?._loadedComponent;else if(g.routeConfig?.loadComponent){let _=g._environmentInjector;m.push(this.configLoader.loadComponent(_,g.routeConfig).then(y=>{g.component=y}))}for(let _ of g.children)m.push(...u(_));return m},f=u(l.targetSnapshot.root);return f.length===0?X(l):_t(Promise.all(f).then(()=>l))}),vv(()=>this.afterPreactivation()),Lt(()=>{let{currentSnapshot:l,targetSnapshot:u}=i,f=this.createViewTransition?.(this.environmentInjector,l.root,u.root);return f?_t(f).pipe(pe(()=>i)):X(i)}),oi(1),pe(l=>{let u=HO(e.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);this.currentTransition=i=l=A(E({},l),{targetRouterState:u}),this.currentNavigation.update(f=>(f.targetRouterState=u,f)),this.events.next(new Pr),a()&&(new df(e.routeReuseStrategy,i.targetRouterState,i.currentRouterState,f=>this.events.next(f),this.inputBindingEnabled).activate(this.rootContexts),a()&&(r=!0,this.currentNavigation.update(f=>(f.abort=NE,f)),this.lastSuccessfulNavigation.set(ke(this.currentNavigation)),this.events.next(new kt(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)))}),zr($v(o.signal).pipe(Nt(()=>!r&&!i.targetRouterState),Qt(()=>{this.cancelNavigationTransition(i,o.signal.reason+"",We.Aborted)}))),Qt({complete:()=>{r=!0}}),zr(this.transitionAbortWithErrorSubject.pipe(Qt(l=>{throw l}))),$r(()=>{o.abort(),r||this.cancelNavigationTransition(i,"",We.SupersededByNewNavigation),this.currentTransition?.id===i.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),Gi(l=>{if(r=!0,this.destroyed)return i.resolve(!1),vt;if(Uv(l))this.events.next(new Tt(i.id,this.urlSerializer.serialize(i.extractedUrl),l.message,l.cancellationCode)),GO(l)?this.events.next(new wr(l.url,l.navigationBehaviorOptions)):i.resolve(!1);else{let u=new ji(i.id,this.urlSerializer.serialize(i.extractedUrl),l,i.targetSnapshot??void 0);try{let f=Ne(this.environmentInjector,()=>this.navigationErrorHandler?.(u));if(f instanceof Dr){let{message:g,cancellationCode:m}=kc(this.urlSerializer,f);this.events.next(new Tt(i.id,this.urlSerializer.serialize(i.extractedUrl),g,m)),this.events.next(new wr(f.redirectTo,f.navigationBehaviorOptions))}else throw this.events.next(u),l}catch(f){this.options.resolveNavigationPromiseOnError?i.resolve(!1):i.reject(f)}}return vt}))}))}cancelNavigationTransition(e,i,r){let o=new Tt(e.id,this.urlSerializer.serialize(e.extractedUrl),i,r);this.events.next(o),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=ke(this.currentNavigation),r=i?.targetBrowserUrl??i?.extractedUrl;return e.toString()!==r?.toString()&&!i?.extras.skipLocationChange}static \u0275fac=function(i){return new(i||n)};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function LE(n){return n!==Qo}var i_=new j("");var r_=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=k({token:n,factory:()=>C(FE),providedIn:"root"})}return n})(),Rc=class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}shouldDestroyInjector(t){return!0}},FE=(()=>{class n extends Rc{static \u0275fac=(()=>{let e;return function(r){return(e||(e=sn(n)))(r||n)}})();static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Cf=(()=>{class n{urlSerializer=C(aa);options=C(Ar,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=C(ki);urlHandlingStrategy=C(Fc);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Kt;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:e,initialUrl:i,targetBrowserUrl:r}){let o=e!==void 0?this.urlHandlingStrategy.merge(e,i):i,a=r??o;return a instanceof Kt?this.urlSerializer.serialize(a):a}commitTransition({targetRouterState:e,finalUrl:i,initialUrl:r}){i&&e?(this.currentUrlTree=i,this.rawUrlTree=this.urlHandlingStrategy.merge(i,r),this.routerState=e):this.rawUrlTree=r}routerState=Nv(null,C(Ce));getRouterState(){return this.routerState}_stateMemento=this.createStateMemento();get stateMemento(){return this._stateMemento}updateStateMemento(){this._stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}restoredState(){return this.location.getState()}static \u0275fac=function(i){return new(i||n)};static \u0275prov=k({token:n,factory:()=>C(VE),providedIn:"root"})}return n})(),VE=(()=>{class n extends Cf{currentPageId=0;lastSuccessfulId=-1;get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(i=>{i.type==="popstate"&&setTimeout(()=>{e(i.url,i.state,"popstate")})})}handleRouterEvent(e,i){e instanceof Vi?this.updateStateMemento():e instanceof Rn?this.commitTransition(i):e instanceof Sr?this.urlUpdateStrategy==="eager"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(i),i)):e instanceof Pr?(this.commitTransition(i),this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(i),i)):e instanceof Tt&&!Rv(e)?this.restoreHistory(i):e instanceof ji?this.restoreHistory(i,!0):e instanceof kt&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,{extras:i,id:r}){let{replaceUrl:o,state:a}=i;if(this.location.isCurrentPathEqualTo(e)||o){let l=this.browserPageId,u=E(E({},a),this.generateNgRouterState(r,l));this.location.replaceState(e,"",u)}else{let l=E(E({},a),this.generateNgRouterState(r,this.browserPageId+1));this.location.go(e,"",l)}}restoreHistory(e,i=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,o=this.currentPageId-r;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===e.finalUrl&&o===0&&(this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}resetInternalState({finalUrl:e}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}static \u0275fac=(()=>{let e;return function(r){return(e||(e=sn(n)))(r||n)}})();static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function yf(n,t){n.events.pipe(Nt(e=>e instanceof kt||e instanceof Tt||e instanceof ji||e instanceof Rn),pe(e=>e instanceof kt||e instanceof Rn?0:(e instanceof Tt?e.code===We.Redirect||e.code===We.SupersededByNewNavigation:!1)?2:1),Nt(e=>e!==2),oi(1)).subscribe(()=>{t()})}var o_={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},a_={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ui=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=C(cp);stateManager=C(Cf);options=C(Ar,{optional:!0})||{};pendingTasks=C(On);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=C(n_);urlSerializer=C(aa);location=C(ki);urlHandlingStrategy=C(Fc);injector=C(Ce);_events=new ze;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=C(r_);injectorCleanup=C(i_,{optional:!0});onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=C(la,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!C(Nc,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:e=>{}}),this.subscribeToNavigationEvents()}eventsSubscription=new $i;subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(i=>{try{let r=this.navigationTransitions.currentTransition,o=ke(this.navigationTransitions.currentNavigation);if(r!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof Tt&&i.code!==We.Redirect&&i.code!==We.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof kt)this.navigated=!0,this.injectorCleanup?.(this.routeReuseStrategy,this.routerState,this.config);else if(i instanceof wr){let a=i.navigationBehaviorOptions,l=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),u=E({scroll:r.extras.scroll,browserUrl:r.extras.browserUrl,info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||this.urlUpdateStrategy==="eager"||LE(r.source)},a);this.scheduleNavigation(l,Qo,null,u,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}BO(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortWithErrorSubject.next(r)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Qo,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,i,r)=>{this.navigateToSyncWithBrowser(e,r,i)})}navigateToSyncWithBrowser(e,i,r){let o={replaceUrl:!0},a=r?.navigationId?r:null;if(r){let u=E({},r);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let l=this.parseUrl(e);this.scheduleNavigation(l,i,a,o).catch(u=>{this.disposed||this.injector.get(st)(u)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return ke(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(vf),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription?.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0,this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,i={}){let{relativeTo:r,queryParams:o,fragment:a,queryParamsHandling:l,preserveFragment:u}=i,f=u?this.currentUrlTree.fragment:a,g=null;switch(l??this.options.defaultQueryParamsHandling){case"merge":g=E(E({},this.currentUrlTree.queryParams),o);break;case"preserve":g=this.currentUrlTree.queryParams;break;default:g=o||null}g!==null&&(g=this.removeEmptyProps(g));let m;try{let _=r?r.snapshot:this.routerState.snapshot.root;m=Iv(_)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),m=this.currentUrlTree.root}return Tv(m,e,g,f??null,this.urlSerializer)}navigateByUrl(e,i={skipLocationChange:!1}){let r=ei(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,Qo,null,i)}navigate(e,i={skipLocationChange:!1}){return jE(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.console.warn(ui(4018,!1)),this.urlSerializer.parse("/")}}isActive(e,i){let r;if(i===!0?r=E({},o_):i===!1?r=E({},a_):r=i,ei(e))return lv(this.currentUrlTree,e,r);let o=this.parseUrl(e);return lv(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.entries(e).reduce((i,[r,o])=>(o!=null&&(i[r]=o),i),{})}scheduleNavigation(e,i,r,o,a){if(this.disposed)return Promise.resolve(!1);let l,u,f;a?(l=a.resolve,u=a.reject,f=a.promise):f=new Promise((m,_)=>{l=m,u=_});let g=this.pendingTasks.add();return yf(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(g))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:o,resolve:l,reject:u,promise:f,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),f.catch(Promise.reject.bind(Promise))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function jE(n){for(let t=0;t<n.length;t++)if(n[t]==null)throw new F(4008,!1)}var Vc=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=N(null);get href(){return ke(this.reactiveHref)}set href(e){this.reactiveHref.set(e)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new ze;applicationErrorHandler=C(st);options=C(Ar,{optional:!0});constructor(e,i,r,o,a,l){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=a,this.locationStrategy=l,this.reactiveHref.set(C(new Ks("href"),{optional:!0}));let u=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area"||!!(typeof customElements=="object"&&customElements.get(u)?.observedAttributes?.includes?.("href")),this.isAnchorElement&&(this.setTabIndexIfNotOnNativeEl("0"),this.subscribeToNavigationEventsIfNecessary())}subscribeToNavigationEventsIfNecessary(){this.subscription===void 0&&(this.subscription=this.router.events.subscribe(e=>{e instanceof kt&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(e){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(e){e==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(ei(e)?this.routerLinkInput=e:this.routerLinkInput=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0"))}onClick(e,i,r,o,a){let l=this.urlTree;if(l===null||this.isAnchorElement&&(e!==0||i||r||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(l,u)?.catch(f=>{this.applicationErrorHandler(f)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let e=this.urlTree;this.reactiveHref.set(e!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e))??"":null)}applyAttributeValue(e,i){let r=this.renderer,o=this.el.nativeElement;i!==null?r.setAttribute(o,e,i):r.removeAttribute(o,e)}get urlTree(){return this.routerLinkInput===null?null:ei(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(i){return new(i||n)(W(Ui),W(Jt),Eo("tabindex"),W(Gt),W(Ae),W(dn))};static \u0275dir=ye({type:n,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(i,r){i&1&&O("click",function(a){return r.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&mr("href",r.reactiveHref(),Vu)("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",vr],skipLocationChange:[2,"skipLocationChange","skipLocationChange",vr],replaceUrl:[2,"replaceUrl","replaceUrl",vr],routerLink:"routerLink"},features:[En]})}return n})();var HE=new j("");function bf(n,...t){return Un([{provide:la,multi:!0,useValue:n},[],{provide:Jt,useFactory:$E},{provide:Us,multi:!0,useFactory:GE},t.map(e=>e.\u0275providers)])}function $E(){return C(Ui).routerState.root}function zE(n,t){return{\u0275kind:n,\u0275providers:t}}function GE(){let n=C(Xe);return t=>{let e=n.get(Jn);if(t!==e.components[0])return;let i=n.get(Ui),r=n.get(qE);n.get(WE)===1&&i.initialNavigation(),n.get(YE,null,{optional:!0})?.setUpPreloading(),n.get(HE,null,{optional:!0})?.init(),i.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var qE=new j("",{factory:()=>new ze}),WE=new j("",{factory:()=>1});var YE=new j("");function xf(){return zE(6,[{provide:dn,useClass:Ap}])}var ti=class n{constructor(t){this.http=t}_careers=N(new Map);careers=this._careers.asReadonly();careerIds=["agent","army","citizen","drifter","entertainer","marine","merchant","navy","noble","rogue","scholar","scout","prisoner","spaceborne"];async loadAllCareers(){let t=new Map,e=this.careerIds.map(i=>$f(this.http.get(`assets/data/careers/${i}.json`)).then(r=>{let o=l=>{let u={level:l.level,title:l.title};if(l.bonus){if(typeof l.bonus=="string")u.bonus=l.bonus;else if(typeof l.bonus=="object"){let f=l.bonus.skill||l.bonus.stat,g=l.bonus.value;u.bonusSkill=f,u.bonusValue=g,u.bonus=`${f} ${g}`}}return u},a={id:r.id,name:r.name,description:r.description,qualificationStat:r.qualification.stat,qualificationTarget:r.qualification.target,minAttributes:r.qualification.minAttributes,personalSkills:r.skills.personal,serviceSkills:r.skills.service,advancedEducation:r.skills.advanced,advancedEducationMinEdu:r.advancedEducationMinEdu||8,officerSkills:r.skills.officer,officerRanks:r.officerRanks?r.officerRanks.map(o):void 0,eventTable:r.eventTable,mishapTable:r.mishapTable,assignments:r.assignments.map(l=>({name:l.name,survivalStat:l.survival.stat,survivalTarget:l.survival.target,advancementStat:l.advancement.stat,advancementTarget:l.advancement.target,skillTable:l.skills,ranks:l.ranks.map(o)})),musteringOutCash:r.musteringOut.cash,musteringOutBenefits:r.musteringOut.benefits,medical:r.medical};t.set(a.name,a),t.set(a.id,a)}).catch(r=>console.warn(`Failed to load career ${i}:`,r)));await Promise.all(e),this._careers.set(t)}getCareer(t){return this._careers().get(t)}getAllCareers(){let t=Array.from(this._careers().values()),e=[],i=new Set;for(let r of t)i.has(r.id)||(e.push(r),i.add(r.id));return e}static \u0275fac=function(e){return new(e||n)(B(xr))};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})};var h_=(()=>{class n{_renderer;_elementRef;onChange=e=>{};onTouched=()=>{};constructor(e,i){this._renderer=e,this._elementRef=i}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static \u0275fac=function(i){return new(i||n)(W(Gt),W(Ae))};static \u0275dir=ye({type:n})}return n})(),ga=(()=>{class n extends h_{static \u0275fac=(()=>{let e;return function(r){return(e||(e=sn(n)))(r||n)}})();static \u0275dir=ye({type:n,features:[St]})}return n})(),Fr=new j("");var KE={provide:Fr,useExisting:Ct(()=>fn),multi:!0};function JE(){let n=It()?It().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var QE=new j(""),fn=(()=>{class n extends h_{_compositionMode;_composing=!1;constructor(e,i,r){super(e,i),this._compositionMode=r,this._compositionMode==null&&(this._compositionMode=!JE())}writeValue(e){let i=e??"";this.setProperty("value",i)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static \u0275fac=function(i){return new(i||n)(W(Gt),W(Ae),W(QE,8))};static \u0275dir=ye({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){i&1&&O("input",function(a){return r._handleInput(a.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(a){return r._compositionEnd(a.target.value)})},standalone:!1,features:[In([KE]),St]})}return n})();var v_=new j(""),ZE=new j("");function XE(n){return t=>{if(t.value==null||n==null)return null;let e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}function s_(n){return null}function __(n){return n!=null}function C_(n){return Kn(n)?_t(n):n}function y_(n){let t={};return n.forEach(e=>{t=e!=null?E(E({},t),e):t}),Object.keys(t).length===0?null:t}function b_(n,t){return t.map(e=>e(n))}function eS(n){return!n.validate}function x_(n){return n.map(t=>eS(t)?t:e=>t.validate(e))}function tS(n){if(!n)return null;let t=n.filter(__);return t.length==0?null:function(e){return y_(b_(e,t))}}function M_(n){return n!=null?tS(x_(n)):null}function nS(n){if(!n)return null;let t=n.filter(__);return t.length==0?null:function(e){let i=b_(e,t).map(C_);return qf(i).pipe(pe(y_))}}function O_(n){return n!=null?nS(x_(n)):null}function c_(n,t){return n===null?[t]:Array.isArray(n)?[...n,t]:[n,t]}function iS(n){return n._rawValidators}function rS(n){return n._rawAsyncValidators}function Mf(n){return n?Array.isArray(n)?n:[n]:[]}function Bc(n,t){return Array.isArray(n)?n.includes(t):n===t}function l_(n,t){let e=Mf(t);return Mf(n).forEach(r=>{Bc(e,r)||e.push(r)}),e}function d_(n,t){return Mf(t).filter(e=>!Bc(n,e))}var Uc=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=M_(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=O_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control?.reset(t)}hasError(t,e){return this.control?this.control.hasError(t,e):!1}getError(t,e){return this.control?this.control.getError(t,e):null}},Of=class extends Uc{name;get formDirective(){return null}get path(){return null}},Lr=class extends Uc{_parent=null;name=null;valueAccessor=null},Ef=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}};var ni=(()=>{class n extends Ef{constructor(e){super(e)}static \u0275fac=function(i){return new(i||n)(W(Lr,2))};static \u0275dir=ye({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){i&2&&I("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},standalone:!1,features:[St]})}return n})();var da="VALID",jc="INVALID",Rr="PENDING",ua="DISABLED",Hi=class{},Hc=class extends Hi{value;source;constructor(t,e){super(),this.value=t,this.source=e}},pa=class extends Hi{pristine;source;constructor(t,e){super(),this.pristine=t,this.source=e}},fa=class extends Hi{touched;source;constructor(t,e){super(),this.touched=t,this.source=e}},Nr=class extends Hi{status;source;constructor(t,e){super(),this.status=t,this.source=e}};var Sf=class extends Hi{source;constructor(t){super(),this.source=t}};function oS(n){return($c(n)?n.validators:n)||null}function aS(n){return Array.isArray(n)?M_(n):n||null}function sS(n,t){return($c(t)?t.asyncValidators:n)||null}function cS(n){return Array.isArray(n)?O_(n):n||null}function $c(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}var Pf=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,e){this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return ke(this.statusReactive)}set status(t){ke(()=>this.statusReactive.set(t))}_status=le(()=>this.statusReactive());statusReactive=N(void 0);get valid(){return this.status===da}get invalid(){return this.status===jc}get pending(){return this.status==Rr}get disabled(){return this.status===ua}get enabled(){return this.status!==ua}errors;get pristine(){return ke(this.pristineReactive)}set pristine(t){ke(()=>this.pristineReactive.set(t))}_pristine=le(()=>this.pristineReactive());pristineReactive=N(!0);get dirty(){return!this.pristine}get touched(){return ke(this.touchedReactive)}set touched(t){ke(()=>this.touchedReactive.set(t))}_touched=le(()=>this.touchedReactive());touchedReactive=N(!1);get untouched(){return!this.touched}_events=new ze;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(l_(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(l_(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(d_(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(d_(t,this._rawAsyncValidators))}hasValidator(t){return Bc(this._rawValidators,t)}hasAsyncValidator(t){return Bc(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let e=this.touched===!1;this.touched=!0;let i=t.sourceControl??this;t.onlySelf||this._parent?.markAsTouched(A(E({},t),{sourceControl:i})),e&&t.emitEvent!==!1&&this._events.next(new fa(!0,i))}markAllAsDirty(t={}){this.markAsDirty({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsDirty(t))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(t))}markAsUntouched(t={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=t.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:i})}),t.onlySelf||this._parent?._updateTouched(t,i),e&&t.emitEvent!==!1&&this._events.next(new fa(!1,i))}markAsDirty(t={}){let e=this.pristine===!0;this.pristine=!1;let i=t.sourceControl??this;t.onlySelf||this._parent?.markAsDirty(A(E({},t),{sourceControl:i})),e&&t.emitEvent!==!1&&this._events.next(new pa(!1,i))}markAsPristine(t={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=t.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),t.onlySelf||this._parent?._updatePristine(t,i),e&&t.emitEvent!==!1&&this._events.next(new pa(!0,i))}markAsPending(t={}){this.status=Rr;let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Nr(this.status,e)),this.statusChanges.emit(this.status)),t.onlySelf||this._parent?.markAsPending(A(E({},t),{sourceControl:e}))}disable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=ua,this.errors=null,this._forEachChild(r=>{r.disable(A(E({},t),{onlySelf:!0}))}),this._updateValue();let i=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Hc(this.value,i)),this._events.next(new Nr(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(A(E({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=da,this._forEachChild(i=>{i.enable(A(E({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(A(E({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t,e){t.onlySelf||(this._parent?.updateValueAndValidity(t),t.skipPristineCheck||this._parent?._updatePristine({},e),this._parent?._updateTouched({},e))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===da||this.status===Rr)&&this._runAsyncValidator(i,t.emitEvent)}let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Hc(this.value,e)),this._events.next(new Nr(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),t.onlySelf||this._parent?.updateValueAndValidity(A(E({},t),{sourceControl:e}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ua:da}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,e){if(this.asyncValidator){this.status=Rr,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1,shouldHaveEmitted:t!==!1};let i=C_(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:e,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(t){let e=t;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){let i=e?this.get(e):this;return i?.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,e,i){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||i)&&this._events.next(new Nr(this.status,e)),this._parent&&this._parent._updateControlsErrors(t,e,i)}_initObservables(){this.valueChanges=new ve,this.statusChanges=new ve}_calculateStatus(){return this._allControlsDisabled()?ua:this.errors?jc:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Rr)?Rr:this._anyControlsHaveStatus(jc)?jc:da}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,e){let i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,t.onlySelf||this._parent?._updatePristine(t,e),r&&this._events.next(new pa(this.pristine,e))}_updateTouched(t={},e){this.touched=this._anyControlsTouched(),this._events.next(new fa(this.touched,e)),t.onlySelf||this._parent?._updateTouched(t,e)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){$c(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!!this._parent?.dirty&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=aS(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=cS(this._rawAsyncValidators)}};var wf=new j("",{factory:()=>zc}),zc="always";function lS(n,t){return[...t.path,n]}function dS(n,t,e=zc){pS(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||e==="always")&&t.valueAccessor.setDisabledState?.(n.disabled),fS(n,t),mS(n,t),gS(n,t),uS(n,t)}function u_(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function uS(n,t){if(t.valueAccessor.setDisabledState){let e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}function pS(n,t){let e=iS(n);t.validator!==null?n.setValidators(c_(e,t.validator)):typeof e=="function"&&n.setValidators([e]);let i=rS(n);t.asyncValidator!==null?n.setAsyncValidators(c_(i,t.asyncValidator)):typeof i=="function"&&n.setAsyncValidators([i]);let r=()=>n.updateValueAndValidity();u_(t._rawValidators,r),u_(t._rawAsyncValidators,r)}function fS(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&E_(n,t)})}function gS(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&E_(n,t),n.updateOn!=="submit"&&n.markAsTouched()})}function E_(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function mS(n,t){let e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}function hS(n,t){if(!n.hasOwnProperty("model"))return!1;let e=n.model;return e.isFirstChange()?!0:!Object.is(t,e.currentValue)}function vS(n){return Object.getPrototypeOf(n.constructor)===ga}function _S(n,t){if(!t)return null;Array.isArray(t);let e,i,r;return t.forEach(o=>{o.constructor===fn?e=o:vS(o)?i=o:r=o}),r||i||e||null}function p_(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}function f_(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var CS=class extends Pf{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,e,i){super(oS(e),sS(i,e)),this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),$c(e)&&(e.nonNullable||e.initialValueIsDefault)&&(f_(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),e.overwriteDefaultValue&&(this.defaultValue=this.value),this._pendingChange=!1,e?.emitEvent!==!1&&this._events.next(new Sf(this))}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){p_(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){p_(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){f_(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var yS={provide:Lr,useExisting:Ct(()=>Nn)},g_=Promise.resolve(),Nn=(()=>{class n extends Lr{_changeDetectorRef;callSetDisabledState;control=new CS;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new ve;constructor(e,i,r,o,a,l){super(),this._changeDetectorRef=a,this.callSetDisabledState=l,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=_S(this,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),hS(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective?.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){dS(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){g_.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let i=e.isDisabled.currentValue,r=i!==0&&vr(i);g_.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?lS(e,this._parent):[e]}static \u0275fac=function(i){return new(i||n)(W(Of,9),W(v_,10),W(ZE,10),W(Fr,10),W(ft,8),W(wf,8))};static \u0275dir=ye({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[In([yS]),St,En]})}return n})();var bS={provide:Fr,useExisting:Ct(()=>ma),multi:!0},ma=(()=>{class n extends ga{writeValue(e){let i=e??"";this.setProperty("value",i)}registerOnChange(e){this.onChange=i=>{e(i==""?null:parseFloat(i))}}static \u0275fac=(()=>{let e;return function(r){return(e||(e=sn(n)))(r||n)}})();static \u0275dir=ye({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,r){i&1&&O("input",function(a){return r.onChange(a.target.value)})("blur",function(){return r.onTouched()})},standalone:!1,features:[In([bS]),St]})}return n})(),xS={provide:Fr,useExisting:Ct(()=>ha),multi:!0};var MS=(()=>{class n{_accessors=[];add(e,i){this._accessors.push([e,i])}remove(e){for(let i=this._accessors.length-1;i>=0;--i)if(this._accessors[i][1]===e){this._accessors.splice(i,1);return}}select(e){this._accessors.forEach(i=>{this._isSameGroup(i,e)&&i[1]!==e&&i[1].fireUncheck(e.value)})}_isSameGroup(e,i){return e[0].control?e[0]._parent===i._control._parent&&e[1].name===i.name:!1}static \u0275fac=function(i){return new(i||n)};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ha=(()=>{class n extends ga{_registry;_injector;_state;_control;_fn;setDisabledStateFired=!1;onChange=()=>{};name;formControlName;value;callSetDisabledState=C(wf,{optional:!0})??zc;constructor(e,i,r,o){super(e,i),this._registry=r,this._injector=o}ngOnInit(){this._control=this._injector.get(Lr),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(e){this._state=e===this.value,this.setProperty("checked",this._state)}registerOnChange(e){this._fn=e,this.onChange=()=>{e(this.value),this._registry.select(this)}}setDisabledState(e){(this.setDisabledStateFired||e||this.callSetDisabledState==="whenDisabledForLegacyCode")&&this.setProperty("disabled",e),this.setDisabledStateFired=!0}fireUncheck(e){this.writeValue(e)}_checkName(){this.name&&this.formControlName&&(this.name,this.formControlName),!this.name&&this.formControlName&&(this.name=this.formControlName)}static \u0275fac=function(i){return new(i||n)(W(Gt),W(Ae),W(MS),W(Xe))};static \u0275dir=ye({type:n,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(i,r){i&1&&O("change",function(){return r.onChange()})("blur",function(){return r.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},standalone:!1,features:[In([xS]),St]})}return n})();var OS={provide:Fr,useExisting:Ct(()=>Gc),multi:!0};function S_(n,t){return n==null?`${t}`:(t&&typeof t=="object"&&(t="Object"),`${n}: ${t}`.slice(0,50))}function ES(n){return n.split(":")[0]}var Gc=(()=>{class n extends ga{value;_optionMap=new Map;_idCounter=0;set compareWith(e){this._compareWith=e}_compareWith=Object.is;appRefInjector=C(Jn).injector;destroyRef=C(qe);cdr=C(ft);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefInjector.destroyed||(this._queuedWrite=!0,wo({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(e){this.cdr.markForCheck(),this.value=e;let i=this._getOptionId(e),r=S_(i,e);this.setProperty("value",r)}registerOnChange(e){this.onChange=i=>{this.value=this._getOptionValue(i),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),e))return i;return null}_getOptionValue(e){let i=ES(e);return this._optionMap.has(i)?this._optionMap.get(i):e}static \u0275fac=(()=>{let e;return function(r){return(e||(e=sn(n)))(r||n)}})();static \u0275dir=ye({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,r){i&1&&O("change",function(a){return r.onChange(a.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[In([OS]),St]})}return n})(),P_=(()=>{class n{_element;_renderer;_select;id;constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(e){this._select!=null&&(this._select._optionMap.set(this.id,e),this._setElementValue(S_(this.id,e)),this._select._writeValueAfterRender())}set value(e){this._setElementValue(e),this._select?._writeValueAfterRender()}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select?._optionMap.delete(this.id),this._select?._writeValueAfterRender()}static \u0275fac=function(i){return new(i||n)(W(Ae),W(Gt),W(Gc,9))};static \u0275dir=ye({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})(),SS={provide:Fr,useExisting:Ct(()=>w_),multi:!0};function m_(n,t){return n==null?`${t}`:(typeof t=="string"&&(t=`'${t}'`),t&&typeof t=="object"&&(t="Object"),`${n}: ${t}`.slice(0,50))}function PS(n){return n.split(":")[0]}var w_=(()=>{class n extends ga{value;_optionMap=new Map;_idCounter=0;set compareWith(e){this._compareWith=e}_compareWith=Object.is;writeValue(e){this.value=e;let i;if(Array.isArray(e)){let r=e.map(o=>this._getOptionId(o));i=(o,a)=>{o._setSelected(r.indexOf(a.toString())>-1)}}else i=(r,o)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(e){this.onChange=i=>{let r=[],o=i.selectedOptions;if(o!==void 0){let a=o;for(let l=0;l<a.length;l++){let u=a[l],f=this._getOptionValue(u.value);r.push(f)}}else{let a=i.options;for(let l=0;l<a.length;l++){let u=a[l];if(u.selected){let f=this._getOptionValue(u.value);r.push(f)}}}this.value=r,e(r)}}_registerOption(e){let i=(this._idCounter++).toString();return this._optionMap.set(i,e),i}_getOptionId(e){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,e))return i;return null}_getOptionValue(e){let i=PS(e);return this._optionMap.has(i)?this._optionMap.get(i)._value:e}static \u0275fac=(()=>{let e;return function(r){return(e||(e=sn(n)))(r||n)}})();static \u0275dir=ye({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,r){i&1&&O("change",function(a){return r.onChange(a.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[In([SS]),St]})}return n})(),D_=(()=>{class n{_element;_renderer;_select;id;_value;constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){this._select!=null&&(this._value=e,this._setElementValue(m_(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(m_(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(i){return new(i||n)(W(Ae),W(Gt),W(w_,9))};static \u0275dir=ye({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})();function wS(n){return typeof n=="number"?n:parseFloat(n)}var DS=(()=>{class n{_validator=s_;_onChange;_enabled;ngOnChanges(e){if(this.inputName in e){let i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):s_,this._onChange?.()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return e!=null}static \u0275fac=function(i){return new(i||n)};static \u0275dir=ye({type:n,features:[En]})}return n})();var IS={provide:v_,useExisting:Ct(()=>Df),multi:!0},Df=(()=>{class n extends DS{min;inputName="min";normalizeInput=e=>wS(e);createValidator=e=>XE(e);static \u0275fac=(()=>{let e;return function(r){return(e||(e=sn(n)))(r||n)}})();static \u0275dir=ye({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(i,r){i&2&&mr("min",r._enabled?r.min:null)},inputs:{min:"min"},standalone:!1,features:[In([IS]),St]})}return n})();var TS=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=cn({type:n});static \u0275inj=Ft({})}return n})();var rt=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:wf,useValue:e.callSetDisabledState??zc}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=cn({type:n});static \u0275inj=Ft({imports:[TS]})}return n})();var If={id:"",name:"",nickname:"",playerName:"",description:"",portraitUrl:"",species:"Human",nationality:"",originType:"",gender:"Male",age:18,notes:"",creationDate:new Date,isFinished:!1,homeworld:void 0,metadata:{version:"1.0.0",creationDate:new Date,lastModified:new Date,notes:"",isFinished:!1},bio:{name:"",species:"Human",gender:"Male",age:18,nationality:"",originType:""},characteristics:{str:{name:"STR",value:0,modifier:0},dex:{name:"DEX",value:0,modifier:0},end:{name:"END",value:0,modifier:0},int:{name:"INT",value:0,modifier:0},edu:{name:"EDU",value:0,modifier:0},soc:{name:"SOC",value:0,modifier:0}},genes:[],skills:[],backgroundSkillsSelected:!1,education:{university:null,academy:null},careerHistory:[],finances:{cash:0,pension:0,debt:0,medicalDebt:0,shipShares:0,cashRollsSpent:0},equipment:[],equippedItems:[],weapons:[],armor:[],cybernetics:[],npcs:[],connectionsUsed:0,traits:[],injuries:[],augments:[],history:[],psionicPotential:!1,forcedCareer:"",hasLeftHome:!1,isSoftPath:!1,ejectedCareers:[],japaneseRankBonus:!1,hasNeuralJack:!1,hasDrafted:!1,inheritanceBonuses:[]};var Vr=class n{PREFIX="traveller-architect-";constructor(){}save(t,e){try{if(typeof localStorage>"u"||!localStorage.setItem)return;localStorage.setItem(this.PREFIX+t,JSON.stringify(e))}catch(i){console.error("Error saving to localStorage",i)}}load(t){try{if(typeof localStorage>"u"||!localStorage.getItem)return null;let e=localStorage.getItem(this.PREFIX+t);return e?JSON.parse(e):null}catch(e){return console.error("Error loading from localStorage",e),null}}remove(t){typeof localStorage>"u"||!localStorage.removeItem||localStorage.removeItem(this.PREFIX+t)}clearAll(){typeof localStorage>"u"||!localStorage.removeItem||Object.keys(localStorage).forEach(t=>{t.startsWith(this.PREFIX)&&localStorage.removeItem(t)})}static \u0275fac=function(e){return new(e||n)};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})};var Wc=class n{constructor(){}processSkillAward(t,e,i,r=!1){let o=[...t],a=e.replace(" (any)","").trim(),l=o.findIndex(D=>D.name===a),u=l!==-1?o[l]:null;if(r&&i===0&&u)return{skills:o,message:`Basic Training: ${a} already known.`,choiceRequired:!1};let f=0,g="";if(i===void 0)u?(f=u.level+1,g=`**Skill Increased**: ${a} ${u.level} \u2192 ${f}`):(f=1,g=`**Skill Added**: ${a} 1`);else if(u)if(i>u.level)f=i,g=`**Skill Improved**: ${a} ${u.level} \u2192 ${f}`;else return{skills:o,message:`${a} already at level ${u.level}.`,choiceRequired:!1};else f=i,g=`**Skill Added**: ${a} ${f}`;f>4&&(f=4,g+=" (Capped at 4)");let m=["Art","Drive","Electronics","Engineer","Flyer","Gun Combat","Gunner","Heavy Weapons","Language","Melee","Pilot","Profession","Science","Seafarer","Animals","Athletics","Tactics"].includes(a),_={Engineer:["Life Support","M-Drive","Power","Stutterwarp"],Flyer:["Airship","Ornithopter","Rotor","Vectored Thrust","Wing"],Science:["Archaeology","Astronomy","Biology","Chemistry","Cosmology","Cybernetics","Economics","Genetics","History","Linguistics","Philosophy","Physics","Planetology","Psionicology","Psychology","Robotics","Sophontology","Xenology"]},y=m&&f>=1&&(!u||u.level===0);return y||(u?o[l]=A(E({},u),{level:f}):o.push({name:a,level:f})),{skills:o,message:g,choiceRequired:y}}calculateSkillCap(t,e){return t+e}isOverCap(t,e,i){return t.reduce((o,a)=>o+a.level,0)>this.calculateSkillCap(e,i)}static \u0275fac=function(e){return new(e||n)};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})};var de=class n{constructor(t,e){this.storage=t;this.skillService=e;let i=this.storage.load("autosave");i&&this.characterSignal.set(i)}characterSignal=N(JSON.parse(JSON.stringify(If)));character=this.characterSignal.asReadonly();currentCareer=N(null);patch(t,e){this.characterSignal.update(i=>{let r=E(E({},i),t);return e&&(r.history=[...r.history||[],e]),this.storage.save("autosave",r),r})}pension=le(()=>{let t=this.character(),e={};t.careerHistory.forEach(a=>{e[a.careerName]=(e[a.careerName]||0)+1});let i=0,r=["scout","rogue","drifter","spaceborne","prisoner"];Object.keys(e).forEach(a=>{if(r.includes(a.toLowerCase()))return;let l=e[a];if(l>=5){let u=0;l===5?u=1e4:l===6?u=12e3:l===7?u=14e3:l>=8&&(u=16e3+(l-8)*2e3),i+=u}});let o=t.finances.shipShares||0;return o>0&&(i+=o*1e3),i});totalRolls=le(()=>{let t=this.character().finances.benefitRollsAllocated||{};return Object.values(t).reduce((e,i)=>e+i,0)});updateCharacter(t){this.patch(t)}updateCharacteristics(t){let e=[],i=this.character().characteristics;Object.keys(t).forEach(r=>{let o=r;if(t[o].value!==i[o].value){let a=t[o].value-i[o].value,l=a>0?"+":"";e.push(`**Stat Change**: ${o.toUpperCase()} ${i[o].value} \u2192 ${t[o].value} (${l}${a})`)}}),this.patch({characteristics:t},e.length>0?e.join(", "):void 0)}modifyStat(t,e,i=!1){let r=this.character(),o=t.toLowerCase();if(!r.characteristics[o]){console.warn(`Stat ${t} not found on character.`);return}let a=r.characteristics[o],u=Math.min(i?99:15,Math.max(1,a.value+e)),f=A(E({},r.characteristics),{[o]:A(E({},a),{value:u})}),g=e>=0?"+":"";this.patch({characteristics:f},`**Stat Adjusted**: ${t.toUpperCase()} ${a.value} \u2192 ${u} (${g}${e})`)}addSkill(t,e=1,i=!1){let r=!1;return this.characterSignal.update(o=>{let{skills:a,message:l,choiceRequired:u}=this.skillService.processSkillAward(o.skills,t,e===1?void 0:e,i);r=u;let f=[...o.history||[],l],g=A(E({},o),{skills:a,history:f});return this.skillService.isOverCap(g.skills,g.characteristics.int.value,g.characteristics.edu.value)&&g.history.push(`**WARNING**: Character has exceeded the global skill cap of ${this.skillService.calculateSkillCap(g.characteristics.int.value,g.characteristics.edu.value)} levels.`),this.storage.save("autosave",g),g}),r}getSkillLevel(t){let e=this.character().skills.find(i=>i.name===t);return e?e.level:-3}ensureSkillLevel(t,e){this.characterSignal.update(i=>{let{skills:r,message:o}=this.skillService.processSkillAward(i.skills,t,e),a=[...i.history||[],o],l=A(E({},i),{skills:r,history:a});return this.storage.save("autosave",l),l})}reset(){this.characterSignal.set(JSON.parse(JSON.stringify(If))),this.storage.remove("autosave")}addNpc(t){this.patch({npcs:[...this.character().npcs,t]},`**NPC Gained**: ${t.name} (${t.type}) - ${t.origin}`)}convertNpc(t,e){this.characterSignal.update(i=>{let r=[...i.npcs],o=r.findIndex(u=>u.id===t);if(o===-1)return i;let a=A(E({},r[o]),{type:e});r[o]=a;let l=A(E({},i),{npcs:r,history:[...i.history||[],`**NPC Changed**: ${a.name} is now a ${e}`]});return this.storage.save("autosave",l),l})}convertNpcType(t,e){this.characterSignal.update(i=>{let r=[...i.npcs],o=r.findIndex(u=>u.type===t);if(o===-1)return i;let a=A(E({},r[o]),{type:e});r[o]=a;let l=A(E({},i),{npcs:r,history:[...i.history||[],`**NPC Betrayal**: ${a.name} converted from ${t} to ${e}`]});return this.storage.save("autosave",l),l})}removeNpc(t){let e=this.character().npcs.find(i=>i.id===t);this.patch({npcs:this.character().npcs.filter(i=>i.id!==t)},e?`**NPC Removed**: ${e.name} (${e.type})`:void 0)}updateDm(t,e){let i={};t==="qualification"&&(i.nextQualificationDm=(this.character().nextQualificationDm||0)+e),t==="survival"&&(i.nextSurvivalDm=(this.character().nextSurvivalDm||0)+e),t==="advancement"&&(i.nextAdvancementDm=(this.character().nextAdvancementDm||0)+e),t==="benefit"&&(i.nextBenefitDm=(this.character().nextBenefitDm||0)+e),this.patch(i,`**DM Bonus**: ${e>=0?"+":""}${e} to next ${t} roll`)}updateParoleThreshold(t){let e=this.character().paroleThresholdDelta||0;this.patch({paroleThresholdDelta:e+t},`**Parole Record**: Threshold adjusted by ${t>0?"+":""}${t} (favour ${t<0?"improved":"worsened"})`)}setPsionicPotential(t){this.patch({psionicPotential:t},t?"**Psionic Potential Detected**: Character is now eligible for Psion career.":"Psionic potential removed.")}setEducationStatus(t,e=!0){this.characterSignal.update(i=>{let r=A(E({},i),{education:A(E({},i.education),{fail:!t,graduated:e})});return this.storage.save("autosave",r),r})}updateFinances(t){this.characterSignal.update(e=>{let i=A(E({},e),{finances:E(E({},e.finances),t)});return this.storage.save("autosave",i),i})}setNextCareer(t){this.patch({forcedCareer:t},`**Next Career Forced**: ${t}`)}promote(t){let e=[...this.character().careerHistory],i=-1;if(t){for(let r=e.length-1;r>=0;r--)if(e[r].careerName===t){i=r;break}}else i=e.length-1;if(i!==-1){let r=e[i];r.rank<6&&(e[i]=A(E({},r),{rank:r.rank+1}),this.patch({careerHistory:e},`**Promotion**: Promoted to rank ${r.rank+1} in ${r.careerName}.`))}}clearForcedCareer(){this.characterSignal.update(t=>{let e=A(E({},t),{forcedCareer:""});return this.storage.save("autosave",e),e})}ejectCareer(t){let e=[...this.character().ejectedCareers||[]];e.includes(t)||e.push(t),this.patch({ejectedCareers:e},`**EJECTED**: Character was ejected from the ${t} career.`)}clearEjectedCareers(){this.patch({ejectedCareers:[]})}clearCareerCashHistory(t){this.characterSignal.update(e=>{let i=e.careerHistory.map(o=>o.careerName===t?A(E({},o),{loseCashBenefits:!0}):o),r=A(E({},e),{careerHistory:i});return this.storage.save("autosave",r),r})}setGambler(t){this.characterSignal.update(e=>{let i=A(E({},e),{finances:A(E({},e.finances),{isGambler:t})});return this.storage.save("autosave",i),i})}log(t){this.patch({},t)}addInjury(t,e,i=0,r=0){let o={id:Math.random().toString(36).substr(2,9),name:t,stat:e||"STR",reduction:i,cost:r,treated:!1};this.patch({injuries:[...this.character().injuries||[],o]})}addBenefitRoll(t,e=1){let i=E({},this.character().finances.benefitRollsAllocated||{});i[t]=(i[t]||0)+e,this.patch({finances:A(E({},this.character().finances),{benefitRollsAllocated:i})})}spendBenefitRoll(t,e=1,i=!1){let r=E({},this.character().finances);i&&(r.cashRollsSpent=(r.cashRollsSpent||0)+e),t&&r.benefitRollsAllocated&&r.benefitRollsAllocated[t]?(r.benefitRollsAllocated=E({},r.benefitRollsAllocated),r.benefitRollsAllocated[t]-=e,r.benefitRollsAllocated[t]<0&&(r.benefitRollsAllocated[t]=0)):r.benefitRollsSpent=(r.benefitRollsSpent||0)+e,this.patch({finances:r})}finalizeCharacter(){let t=this.character(),e=this.pension(),i=[];i.push(`**Character Finalized**: Total Pension & Dividends: Lv ${e.toLocaleString()} per year.`),e>0&&i.push(`- Annual Income: Lv ${e.toLocaleString()} / year`),this.patch({finances:A(E({},t.finances),{pension:e}),isFinished:!0},i.join(`
`))}setNeuralJackInstalled(t){this.patch({hasNeuralJack:t},t?"**Neural Jack Installed**: Interface active.":"Neural Jack removed.")}addItem(t){this.patch({equipment:[...this.character().equipment||[],t]},`**Item Gained**: ${t}`)}addTrait(t){this.patch({traits:[...this.character().traits||[],t]},`**Trait Gained**: ${t}`)}static \u0275fac=function(e){return new(e||n)(B(Vr),B(Wc))};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})};var jr=[{index:1,key:"identity",label:"IDENTITY",actionLabel:"PROCEED > SPECIES",hasActionBar:!0},{index:2,key:"species",label:"SPECIES",actionLabel:"PROCEED > BIOMETRICS",hasActionBar:!0},{index:3,key:"attributes",label:"BIOMETRICS",actionLabel:"PROCEED > ORIGIN",hasActionBar:!0},{index:4,key:"origin",label:"ORIGIN",actionLabel:"PROCEED > EDUCATION",hasActionBar:!0},{index:5,key:"education",label:"EDUCATION",actionLabel:"PROCEED > CAREER",hasActionBar:!0},{index:6,key:"career",label:"CAREER",actionLabel:"PROCEED > NETWORK",hasActionBar:!0},{index:7,key:"npc",label:"NETWORK",actionLabel:"PROCEED > PACKAGE",hasActionBar:!0},{index:8,key:"skillPackage",label:"PACKAGE",actionLabel:"FINALIZE_CHARACTER",hasActionBar:!0},{index:9,key:"sheet",label:"FINALIZE",actionLabel:"",hasActionBar:!1}],De=class n{constructor(t){this.storage=t;let e=this.storage.load("wizard-current-step");e&&e>=1&&e<=jr.length&&this.currentStepIndex.set(e),Ot(()=>{let i=this.currentStepIndex();this.storage.save("wizard-current-step",i)})}currentStepIndex=N(1);totalSteps=jr.length;currentStep=le(()=>jr.find(t=>t.index===this.currentStepIndex())??jr[0]);showActionBar=le(()=>this.currentStep().hasActionBar);actionLabel=le(()=>this.currentStep().actionLabel);progressPercent=le(()=>Math.round((this.currentStepIndex()-1)/(this.totalSteps-1)*100));validators=new Map;finishActions=new Map;_validationTick=N(0);canProceedSignal=le(()=>{this._validationTick();let t=this.validators.get(this.currentStepIndex());return t?t():!0});notifyValidation(){this._validationTick.update(t=>t+1)}registerValidator(t,e){this.validators.set(t,e)}registerFinishAction(t,e){this.finishActions.set(t,e)}unregisterStep(t){this.validators.delete(t),this.finishActions.delete(t)}canProceed(){let t=this.validators.get(this.currentStepIndex());return t?t():!0}executeFinish(){let t=this.finishActions.get(this.currentStepIndex());t&&t()}advance(){let t=this.currentStepIndex()+1;t<=this.totalSteps&&(this.currentStepIndex.set(t),this.scrollToTop())}goTo(t){t>=1&&t<=this.totalSteps&&(this.currentStepIndex.set(t),this.scrollToTop())}resetToStart(){this.validators.clear(),this.finishActions.clear(),this.currentStepIndex.set(1),this.scrollToTop()}scrollToTop(){window.scrollTo(0,0);let t=document.querySelector(".wizard-content");t&&(t.scrollTop=0)}static \u0275fac=function(e){return new(e||n)(B(Vr))};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})};function AS(n,t){if(n&1&&(s(0,"div",15)(1,"span",16),d(2),c()()),n&2){let e=h(2);p(2),w("[ ",e.superLabel," ]")}}function RS(n,t){if(n&1&&(s(0,"div",17)(1,"span",18),d(2),c()()),n&2){let e=h(2);p(2),w("[ ",e.topLabel," ]")}}function NS(n,t){if(n&1&&(s(0,"div",12),b(1,AS,3,1,"div",13)(2,RS,3,1,"div",14),c()),n&2){let e=h();p(),v("ngIf",e.superLabel),p(),v("ngIf",e.topLabel)}}function LS(n,t){n&1&&(s(0,"div",19),M(1,"div",20)(2,"div",21)(3,"div",21),c())}var Fe=class n{stepSymbol="SEC";stepNumber="01";superLabel="";topLabel="";title="ESTABLISHMENT_PROTOCOL";subtitle="ACCESSING_LEGAL_DATABASE... [ OK ]";decorationVisible=!0;static \u0275fac=function(e){return new(e||n)};static \u0275cmp=G({type:n,selectors:[["app-step-header"]],inputs:{stepSymbol:"stepSymbol",stepNumber:"stepNumber",superLabel:"superLabel",topLabel:"topLabel",title:"title",subtitle:"subtitle",decorationVisible:"decorationVisible"},decls:18,vars:6,consts:[[1,"step-header-container","fade-in"],["class","label-stack",4,"ngIf"],[1,"hud-box-header"],[1,"header-main"],[1,"index"],[1,"title-wrap"],[1,"title"],[1,"title-bracket"],["class","decoration",4,"ngIf"],[1,"subtitle-bar"],[1,"subtitle"],[1,"scanning-dots"],[1,"label-stack"],["class","super-label",4,"ngIf"],["class","top-label",4,"ngIf"],[1,"super-label"],[1,"hud-label-tiny"],[1,"top-label"],[1,"hud-label-tiny","secondary"],[1,"decoration"],[1,"line"],[1,"bit"]],template:function(e,i){e&1&&(s(0,"header",0),b(1,NS,3,2,"div",1),s(2,"div",2)(3,"div",3)(4,"span",4),d(5),c(),s(6,"div",5)(7,"h2",6),d(8),c(),M(9,"div",7),c()(),b(10,LS,4,0,"div",8),c(),s(11,"div",9)(12,"p",10),d(13),c(),s(14,"div",11),M(15,"span")(16,"span")(17,"span"),c()()()),e&2&&(p(),v("ngIf",i.superLabel||i.topLabel),p(4),te("",i.stepSymbol,"_",i.stepNumber),p(3),x(i.title),p(2),v("ngIf",i.decorationVisible),p(3),w("> ",i.subtitle))},dependencies:[Z,ne],styles:[".step-header-container[_ngcontent-%COMP%]{margin-bottom:1rem;position:relative;width:100%}.step-header-container[_ngcontent-%COMP%]   .label-stack[_ngcontent-%COMP%]{margin-bottom:.8rem;display:flex;flex-direction:row;justify-content:space-between;align-items:center;gap:1rem}.step-header-container[_ngcontent-%COMP%]   .label-stack[_ngcontent-%COMP%]   .hud-label-tiny[_ngcontent-%COMP%]{font-family:var(--font-mono);font-size:.65rem;color:var(--neon-cyan);letter-spacing:2px;text-transform:uppercase;opacity:.8;background:#00f3ff0d;padding:2px 6px;border-left:2px solid var(--neon-cyan);display:inline-block}.step-header-container[_ngcontent-%COMP%]   .label-stack[_ngcontent-%COMP%]   .hud-label-tiny.secondary[_ngcontent-%COMP%]{opacity:.5;font-size:.6rem;padding-left:12px;border-left-width:1px;border-left-color:#00f3ff4d}.step-header-container[_ngcontent-%COMP%]   .hud-box-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-end;padding-bottom:.5rem;border-bottom:1px solid rgba(0,243,255,.2)}.step-header-container[_ngcontent-%COMP%]   .hud-box-header[_ngcontent-%COMP%]   .header-main[_ngcontent-%COMP%]{display:flex;align-items:flex-end;gap:1.5rem}.step-header-container[_ngcontent-%COMP%]   .hud-box-header[_ngcontent-%COMP%]   .header-main[_ngcontent-%COMP%]   .index[_ngcontent-%COMP%]{font-family:var(--font-mono);font-size:.8rem;color:var(--neon-cyan);letter-spacing:2px;opacity:.8;border:1px solid rgba(0,243,255,.3);padding:.2rem .6rem;background:#00f3ff0d}.step-header-container[_ngcontent-%COMP%]   .hud-box-header[_ngcontent-%COMP%]   .header-main[_ngcontent-%COMP%]   .title-wrap[_ngcontent-%COMP%]{position:relative}.step-header-container[_ngcontent-%COMP%]   .hud-box-header[_ngcontent-%COMP%]   .header-main[_ngcontent-%COMP%]   .title-wrap[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin:0;font-family:var(--font-header);font-size:1.8rem;color:#fff;letter-spacing:4px;text-transform:uppercase;line-height:1;text-shadow:0 0 20px rgba(0,243,255,.1)}.step-header-container[_ngcontent-%COMP%]   .hud-box-header[_ngcontent-%COMP%]   .header-main[_ngcontent-%COMP%]   .title-wrap[_ngcontent-%COMP%]   .title-bracket[_ngcontent-%COMP%]{position:absolute;bottom:-8px;left:0;width:30px;height:4px;background:var(--neon-cyan);box-shadow:0 0 10px var(--neon-cyan-glow)}.step-header-container[_ngcontent-%COMP%]   .hud-box-header[_ngcontent-%COMP%]   .decoration[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.4rem;margin-bottom:.2rem}.step-header-container[_ngcontent-%COMP%]   .hud-box-header[_ngcontent-%COMP%]   .decoration[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{width:100px;height:1px;background:linear-gradient(90deg,transparent,rgba(0,243,255,.3))}.step-header-container[_ngcontent-%COMP%]   .hud-box-header[_ngcontent-%COMP%]   .decoration[_ngcontent-%COMP%]   .bit[_ngcontent-%COMP%]{width:4px;height:4px;background:var(--neon-cyan);opacity:.5}.step-header-container[_ngcontent-%COMP%]   .subtitle-bar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-top:.8rem;padding-left:.5rem}.step-header-container[_ngcontent-%COMP%]   .subtitle-bar[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{margin:0;font-family:var(--font-mono);font-size:.75rem;color:var(--text-dim);letter-spacing:2px;text-transform:uppercase;opacity:.7}.step-header-container[_ngcontent-%COMP%]   .subtitle-bar[_ngcontent-%COMP%]   .scanning-dots[_ngcontent-%COMP%]{display:flex;gap:.4rem}.step-header-container[_ngcontent-%COMP%]   .subtitle-bar[_ngcontent-%COMP%]   .scanning-dots[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:3px;height:3px;background:var(--neon-cyan);border-radius:50%;animation:_ngcontent-%COMP%_blink 1.5s infinite}.step-header-container[_ngcontent-%COMP%]   .subtitle-bar[_ngcontent-%COMP%]   .scanning-dots[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2){animation-delay:.2s}.step-header-container[_ngcontent-%COMP%]   .subtitle-bar[_ngcontent-%COMP%]   .scanning-dots[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(3){animation-delay:.4s}@keyframes _ngcontent-%COMP%_blink{0%,to{opacity:.2;transform:scale(.8)}50%{opacity:1;transform:scale(1.2)}}@media(max-width:768px){.step-header-container[_ngcontent-%COMP%]   .hud-box-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:1rem}.step-header-container[_ngcontent-%COMP%]   .hud-box-header[_ngcontent-%COMP%]   .header-main[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:.8rem}.step-header-container[_ngcontent-%COMP%]   .hud-box-header[_ngcontent-%COMP%]   .header-main[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:1.4rem!important}.step-header-container[_ngcontent-%COMP%]   .hud-box-header[_ngcontent-%COMP%]   .decoration[_ngcontent-%COMP%]{display:none}}"]})};function FS(n,t){if(n&1&&M(0,"img",41),n&2){let e=h();v("src",e.portraitUrl,pr)}}function VS(n,t){n&1&&(s(0,"div",42)(1,"span",49),d(2,"NO_DATA"),c()())}function jS(n,t){if(n&1){let e=T();s(0,"button",50),O("click",function(){S(e);let r=h();return P(r.removeImage())}),s(1,"span"),d(2,"PURGE_VISUAL_DATA"),c()()}}var Yc=class n{characterService=C(de);wizardFlow=C(De);cdr=C(ft);ngOnInit(){this.wizardFlow.registerValidator(1,()=>this.isValid()),this.wizardFlow.registerFinishAction(1,()=>this.finish())}ngOnDestroy(){this.wizardFlow.unregisterStep(1)}charName="";playerName="";nickname="";age=18;description="";gender="";portraitUrl="";constructor(){let t=this.characterService.character();this.charName=t.name,this.playerName=t.playerName||"",this.nickname=t.nickname||"",this.age=t.age||18,this.description=t.description||"",this.gender=t.gender||"Male",this.portraitUrl=t.portraitUrl||""}generateRandomName(){let t=["Kaelen","Jaxon","Dax","Soren","Zane","Riker","Cyrus","Malick","Vance","Kael","Torin","Gideon","Cassian","Dorian","Silas","Xavier","Lucian","Balthazar","Corvus","Fenris","Valen","Ronan","Kasper","Ivor","Theron","Alaric","Elias","Stellan","Vesper","Arlo","Callum","Felix","Hugo","Jasper","Milo","Oscar","Quinn","Roscoe","Saffron","Theodore","Atticus","Beckett","Caleb","Dante","Ezra","Finn","Gage","Holden","Isaac","Jude"],e=["Lyra","Kira","Nyx","Vora","Elora","Sela","Kaelie","Zara","Mira","Nova","Astra","Luna","Selene","Isolde","Freya","Hestia","Eris","Callista","Thalia","Iris","Juniper","Saffron","Willow","Hazel","Rowan","Artemis","Athena","Diana","Vesta","Juno","Beatrix","Cleo","Daphne","Esme","Flora","Gaia","Hebe","Ione","Kora","Leda","Maya","Nora","Olive","Phoebe","Rhea","Sage","Tessa","Una","Vera","Willa"],i=["Sterling","Krax","Holloway","Thorne","Ryder","Nox","Frost","Echo","Blade","Vance","Blackwood","Ironfoot","Stormborn","Nightshade","Silverlight","Ashford","Davenport","Kingsley","Pendragon","Riverside","Shadowstep","Thundercut","Whitethorn","Windwalker","Wolfheart","Crest","Drake","Falcon","Griffin","Hawk"],r=[];this.gender==="Male"?r=t:this.gender==="Female"?r=e:r=[...t,...e];let o=r[Math.floor(Math.random()*r.length)],a=i[Math.floor(Math.random()*i.length)];this.charName=`${o} ${a}`,this.save()}onFileSelected(t){let e=t.target.files?.[0];if(e){if(e.size>2*1024*1024){alert("Image too large. Please select a file under 2MB.");return}let i=new FileReader;i.onload=r=>{this.portraitUrl=r.target.result,this.save(),this.cdr.detectChanges()},i.readAsDataURL(e)}}removeImage(){this.portraitUrl="",this.save()}isValid(){return this.charName.trim().length>0&&this.gender.trim().length>0&&this.age>=18}save(){this.characterService.updateCharacter({name:this.charName,playerName:this.playerName,gender:this.gender,nickname:this.nickname,age:this.age,description:this.description,portraitUrl:this.portraitUrl}),this.wizardFlow.notifyValidation()}finish(){this.isValid()&&(this.save(),this.wizardFlow.advance())}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=G({type:n,selectors:[["app-identity"]],decls:87,vars:10,consts:[[1,"identity-container","fade-in"],["stepSymbol","SEC","stepNumber","01","superLabel","ACCESS_LOG_V2.1","topLabel","IDENTITY_PROFILE","title","IDENTITY_ESTABLISHMENT","subtitle","ACCESSING_LEGAL_DATABASE... [ OK ]"],[1,"identity-grid"],[1,"hud-module","form-section"],[1,"corner-detail","tl"],[1,"corner-detail","tr"],[1,"corner-detail","bl"],[1,"corner-detail","br"],[1,"hud-box-header","mini"],[1,"index"],[1,"hud-content"],[1,"input-group"],["for","char-name"],[1,"required"],[1,"input-with-button"],["id","char-name","type","text","placeholder","ENTER_NAME_HERE","title","Subject legal name",3,"ngModelChange","ngModel"],["title","Generate Random Designation",1,"btn-cyber-outline","mini",3,"click"],[1,"input-row"],["for","nickname"],["id","nickname","type","text","placeholder","OPTIONAL_ID","title","Subject nickname or codename",3,"ngModelChange","ngModel"],["for","player-name"],["id","player-name","type","text","placeholder","PLAYER_DESIGNATION","title","Assigning operator name",3,"ngModelChange","ngModel"],[1,"input-row","split"],[1,"input-group","compact"],["for","initial-age"],[1,"age-input-wrapper"],["id","initial-age","type","number","min","18","title","Standard recruitment age is 18+",3,"ngModelChange","ngModel"],[1,"unit"],[1,"gender-options"],[1,"gender-tab"],["type","radio","name","gender","value","Male",3,"ngModelChange","ngModel"],["type","radio","name","gender","value","Female",3,"ngModelChange","ngModel"],["type","radio","name","gender","value","Non-Binary",3,"ngModelChange","ngModel"],[1,"input-group","description-box"],["for","description"],["id","description","placeholder","Record distinguishing features, height, optic color, dermal modifications...","title","Physical description details",3,"ngModelChange","ngModel"],[1,"hud-module","portrait-section"],[1,"hud-content","scanner-viewport"],[1,"portrait-box-container"],[1,"scanner-line"],[1,"portrait-box"],["alt","Subject Portrait",3,"src"],[1,"placeholder-glitch"],[1,"portrait-controls"],[1,"upload-area"],["for","portrait-upload",1,"btn-cyber-outline","small-text"],[1,"text"],["id","portrait-upload","type","file","accept","image/*",1,"hidden-input",3,"change"],[1,"btn-cyber-outline","danger-text"],["data-text","NO_DATA",1,"glitch"],[1,"btn-cyber-outline","danger-text",3,"click"]],template:function(e,i){e&1&&(s(0,"div",0),M(1,"app-step-header",1),s(2,"div",2)(3,"div",3),M(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7),s(8,"div",8)(9,"span",9),d(10,"ID_01"),c(),s(11,"h3"),d(12,"BIOMETRIC_DATA_INPUT"),c()(),s(13,"div",10)(14,"div",11)(15,"label",12),d(16,"LEGAL_CHARACTER_NAME "),s(17,"span",13),d(18,"*"),c()(),s(19,"div",14)(20,"input",15),Oe("ngModelChange",function(o){return we(i.charName,o)||(i.charName=o),o}),O("ngModelChange",function(){return i.save()}),c(),s(21,"button",16),O("click",function(){return i.generateRandomName()}),d(22," AUTO_GEN "),c()()(),s(23,"div",17)(24,"div",11)(25,"label",18),d(26,"TACTICAL_CODENAME"),c(),s(27,"input",19),Oe("ngModelChange",function(o){return we(i.nickname,o)||(i.nickname=o),o}),O("ngModelChange",function(){return i.save()}),c()(),s(28,"div",11)(29,"label",20),d(30,"PLAYER_SIGNATURE"),c(),s(31,"input",21),Oe("ngModelChange",function(o){return we(i.playerName,o)||(i.playerName=o),o}),O("ngModelChange",function(){return i.save()}),c()()(),s(32,"div",22)(33,"div",23)(34,"label",24),d(35,"BIOLOGICAL_AGE "),s(36,"span",13),d(37,"*"),c()(),s(38,"div",25)(39,"input",26),Oe("ngModelChange",function(o){return we(i.age,o)||(i.age=o),o}),O("ngModelChange",function(){return i.save()}),c(),s(40,"span",27),d(41,"S_YEARS"),c()()(),s(42,"div",11)(43,"label"),d(44,"PHENOTYPE_GENDER "),s(45,"span",13),d(46,"*"),c()(),s(47,"div",28)(48,"label",29)(49,"input",30),Oe("ngModelChange",function(o){return we(i.gender,o)||(i.gender=o),o}),O("ngModelChange",function(){return i.save()}),c(),s(50,"span"),d(51,"MALE"),c()(),s(52,"label",29)(53,"input",31),Oe("ngModelChange",function(o){return we(i.gender,o)||(i.gender=o),o}),O("ngModelChange",function(){return i.save()}),c(),s(54,"span"),d(55,"FEMALE"),c()(),s(56,"label",29)(57,"input",32),Oe("ngModelChange",function(o){return we(i.gender,o)||(i.gender=o),o}),O("ngModelChange",function(){return i.save()}),c(),s(58,"span"),d(59,"N-B"),c()()()()(),s(60,"div",33)(61,"label",34),d(62,"PHYSICAL_BIO_METRICS"),c(),s(63,"textarea",35),Oe("ngModelChange",function(o){return we(i.description,o)||(i.description=o),o}),O("ngModelChange",function(){return i.save()}),c()()()(),s(64,"div",36),M(65,"div",4)(66,"div",5)(67,"div",6)(68,"div",7),s(69,"div",8)(70,"span",9),d(71,"ID_02"),c(),s(72,"h3"),d(73,"VISUAL_RECON_SCANNER"),c()(),s(74,"div",37)(75,"div",38),M(76,"div",39),s(77,"div",40),ge(78,FS,1,1,"img",41)(79,VS,3,0,"div",42),c()(),s(80,"div",43)(81,"div",44)(82,"label",45)(83,"span",46),d(84,"UPLOAD_LOCAL_FILE"),c()(),s(85,"input",47),O("change",function(o){return i.onFileSelected(o)}),c()(),ge(86,jS,3,0,"button",48),c()()()()()),e&2&&(p(20),Me("ngModel",i.charName),p(7),Me("ngModel",i.nickname),p(4),Me("ngModel",i.playerName),p(8),Me("ngModel",i.age),p(10),Me("ngModel",i.gender),p(4),Me("ngModel",i.gender),p(4),Me("ngModel",i.gender),p(6),Me("ngModel",i.description),p(15),me(i.portraitUrl?78:79),p(8),me(i.portraitUrl?86:-1))},dependencies:[rt,fn,ma,ha,ni,Df,Nn,Fe],styles:['@charset "UTF-8";.identity-container[_ngcontent-%COMP%]{padding:1rem 1.5rem;max-width:1200px;margin:0 auto;min-height:660px;overflow-y:auto;overflow-x:hidden;scrollbar-gutter:stable;scrollbar-width:thin;scrollbar-color:var(--neon-cyan) transparent;box-sizing:border-box;position:relative;display:flex;flex-direction:column;gap:1rem}.identity-container[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.identity-container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.identity-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--neon-cyan);border-radius:4px;border:2px solid transparent;background-clip:padding-box}.identity-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#00f3ffcc;background-clip:padding-box}@media(max-width:768px){.identity-container[_ngcontent-%COMP%]::-webkit-scrollbar{width:10px}.identity-container[_ngcontent-%COMP%]{scrollbar-width:auto}}.identity-container[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:linear-gradient(rgba(0,243,255,.04) 1px,transparent 1px),linear-gradient(90deg,rgba(0,243,255,.03) 1px,transparent 1px);background-size:100% 6px,40px 100%;pointer-events:none;z-index:0}.identity-container[_ngcontent-%COMP%]:after{content:"";position:absolute;left:0;right:0;top:-40px;height:40px;background:linear-gradient(180deg,transparent,rgba(0,243,255,.04) 50%,transparent);pointer-events:none;z-index:0;animation:_ngcontent-%COMP%_id-sweep 8s linear infinite}@keyframes _ngcontent-%COMP%_id-sweep{0%{top:-40px}to{top:calc(100% - 40px)}}.step-header[_ngcontent-%COMP%]{margin-bottom:0;flex-shrink:0}.step-header[_ngcontent-%COMP%]   .hud-box-header[_ngcontent-%COMP%]{border-left:3px solid var(--neon-cyan);padding-left:1rem;background:linear-gradient(90deg,rgba(0,243,255,.1) 0%,transparent 100%);margin-bottom:.5rem}.step-header[_ngcontent-%COMP%]   .hud-box-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-family:var(--font-header);font-size:1.5rem;letter-spacing:4px;color:#fff;margin:0;text-shadow:0 0 10px rgba(0,243,255,.3)}.step-header[_ngcontent-%COMP%]   .hud-box-header[_ngcontent-%COMP%]   .index[_ngcontent-%COMP%]{font-family:var(--font-mono);font-size:.7rem;color:var(--neon-cyan);opacity:.7}.step-header[_ngcontent-%COMP%]   .cyber-subtitle[_ngcontent-%COMP%]{font-family:var(--font-mono);color:var(--neon-cyan);opacity:.6;font-size:.75rem;letter-spacing:1px}.identity-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 280px;gap:1.2rem;align-items:stretch;flex:1;min-height:0}@media(max-width:1000px){.identity-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.hud-module[_ngcontent-%COMP%]{background:#050a12f7;border:1px solid rgba(0,243,255,.2);border-top:2px solid var(--neon-cyan);position:relative;box-shadow:0 0 30px #00000080,0 0 20px #00f3ff0a inset;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);z-index:1;display:flex;flex-direction:column;overflow:hidden}.hud-module[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:0;background:linear-gradient(rgba(0,243,255,.025) 1px,transparent 1px);background-size:100% 4px;pointer-events:none;opacity:.6}.hud-module[_ngcontent-%COMP%]   .hud-box-header.mini[_ngcontent-%COMP%]{padding:.5rem 1rem;background:#00f3ff0a;border-bottom:1px solid rgba(0,243,255,.15);display:flex;align-items:center;gap:.6rem;overflow:hidden}.hud-module[_ngcontent-%COMP%]   .hud-box-header.mini[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:.75rem;font-family:var(--font-accent);letter-spacing:2px;color:#fff;margin:0;text-shadow:0 0 10px rgba(0,243,255,.3);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;flex:1;min-width:0}.hud-module[_ngcontent-%COMP%]   .hud-box-header.mini[_ngcontent-%COMP%]   .index[_ngcontent-%COMP%]{font-size:.6rem;opacity:.5;font-family:var(--font-mono);color:var(--neon-cyan)}.hud-module[_ngcontent-%COMP%]   .hud-content[_ngcontent-%COMP%]{padding:1.2rem 1.4rem;position:relative;z-index:1;flex:1;min-height:0}.hud-module.form-section[_ngcontent-%COMP%]   .hud-content[_ngcontent-%COMP%], .hud-module.portrait-section[_ngcontent-%COMP%]   .hud-content[_ngcontent-%COMP%]{display:flex;flex-direction:column}.input-group[_ngcontent-%COMP%]{margin-bottom:1rem;width:100%}.input-group[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{display:block;font-family:var(--font-mono);font-size:.65rem;color:#00f3ffa6;margin-bottom:.6rem;letter-spacing:1.5px;text-transform:uppercase;padding-left:.6rem;border-left:2px solid rgba(0,243,255,.3);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.input-group[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .input-group[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%], .input-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;background:#0000008c;border:1px solid rgba(0,243,255,.18);border-left:2px solid rgba(0,243,255,.35);padding:.55rem .8rem;color:#fff;font-family:var(--font-body);font-size:.85rem;transition:all .25s ease;border-radius:0;box-sizing:border-box;height:38px;clip-path:polygon(0 0,calc(100% - 6px) 0,100% 6px,100% 100%,6px 100%,0 calc(100% - 6px))}.input-group[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]:focus, .input-group[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]:focus, .input-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--neon-cyan);border-left-color:var(--cyber-yellow);background:#00f3ff12;box-shadow:0 0 12px #00f3ff26}.input-group[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]::placeholder, .input-group[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]::placeholder, .input-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{color:#ffffff1f;font-family:var(--font-mono);font-size:.7rem}.input-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{height:76px;resize:none}.input-group.description-box[_ngcontent-%COMP%]{margin-bottom:0;flex:1;min-height:0;display:flex;flex-direction:column}.input-group.description-box[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{flex:1;height:auto;min-height:60px}.input-row[_ngcontent-%COMP%]{display:flex;gap:1.2rem;width:100%;margin-bottom:1rem;align-items:flex-start}.input-row[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{margin-bottom:0;flex:1;min-width:0}.input-row[_ngcontent-%COMP%]   .input-group.compact[_ngcontent-%COMP%]{flex:0 0 auto;width:140px}.input-row.split[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]:last-child{flex:1}.btn-cyber-outline[_ngcontent-%COMP%]{background:transparent;border:1px solid rgba(0,243,255,.25);color:#00f3ff8c;padding:0 .9rem;height:38px;font-family:var(--font-mono);font-weight:600;font-size:.6rem;text-transform:uppercase;letter-spacing:1.5px;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;justify-content:center;gap:.4rem;white-space:nowrap}.btn-cyber-outline[_ngcontent-%COMP%]:hover{border-color:#00f3ff99;color:var(--neon-cyan);background:#00f3ff12}.btn-cyber-outline.mini[_ngcontent-%COMP%]{height:38px;padding:0 .8rem;font-size:.58rem}.btn-cyber-outline.small-text[_ngcontent-%COMP%]{font-size:.6rem}.btn-cyber-outline.danger-text[_ngcontent-%COMP%]{border-color:#ff003c4d;color:#ff003c8c}.btn-cyber-outline.danger-text[_ngcontent-%COMP%]:hover{border-color:var(--power-red);color:var(--power-red);background:#ff003c12}.input-with-button[_ngcontent-%COMP%]{display:flex;gap:.8rem;align-items:stretch;width:100%}.input-with-button[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;min-width:0}.input-with-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:0 0 auto}.gender-options[_ngcontent-%COMP%]{display:flex;width:100%;height:38px;background:#00000059;border:1px solid rgba(0,243,255,.12);border-left:2px solid rgba(0,243,255,.25)}.gender-options[_ngcontent-%COMP%]   .gender-tab[_ngcontent-%COMP%]{flex:1;position:relative;cursor:pointer;border-left:none!important;padding-left:0!important;margin-bottom:0!important}.gender-options[_ngcontent-%COMP%]   .gender-tab[_ngcontent-%COMP%] + .gender-tab[_ngcontent-%COMP%]:before{content:"";position:absolute;left:0;top:25%;height:50%;width:1px;background:#00f3ff1a}.gender-options[_ngcontent-%COMP%]   .gender-tab[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;opacity:0;width:0;height:0}.gender-options[_ngcontent-%COMP%]   .gender-tab[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:100%;color:#ffffff38;font-family:var(--font-mono);font-size:.6rem;text-transform:uppercase;letter-spacing:2.5px;-webkit-user-select:none;user-select:none;transition:color .18s ease,background .18s ease;padding-bottom:2px;border-bottom:2px solid transparent}.gender-options[_ngcontent-%COMP%]   .gender-tab[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + span[_ngcontent-%COMP%]{color:var(--neon-cyan);background:#00f3ff0f;border-bottom-color:var(--neon-cyan);text-shadow:0 0 8px rgba(0,243,255,.35)}.gender-options[_ngcontent-%COMP%]   .gender-tab[_ngcontent-%COMP%]:hover   input[_ngcontent-%COMP%]:not(:checked) + span[_ngcontent-%COMP%]{color:#ffffff73;background:#ffffff05}.age-input-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.6rem;width:100%}.age-input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;text-align:center;font-family:var(--font-mono)!important;font-weight:700;font-size:.95rem!important}.age-input-wrapper[_ngcontent-%COMP%]   .unit[_ngcontent-%COMP%]{font-family:var(--font-mono);font-size:.6rem;color:var(--text-dim);letter-spacing:1px;white-space:nowrap}.scanner-viewport[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:.8rem;height:100%}.portrait-box-container[_ngcontent-%COMP%]{position:relative;width:100%;flex:1;min-height:80px;max-height:320px;padding:8px;background:#00f3ff05;border:1px solid rgba(0,243,255,.1)}.portrait-box[_ngcontent-%COMP%]{width:100%;height:100%;background:#000c;display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative;border:1px solid rgba(0,243,255,.2)}.portrait-box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.scanner-line[_ngcontent-%COMP%]{position:absolute;top:10px;left:10px;right:10px;height:1px;background:var(--neon-cyan);box-shadow:0 0 8px var(--neon-cyan);z-index:10;animation:_ngcontent-%COMP%_scannerMove 5s infinite ease-in-out;opacity:.6;pointer-events:none}@keyframes _ngcontent-%COMP%_scannerMove{0%{top:10px}50%{top:calc(100% - 11px)}to{top:10px}}.placeholder-glitch[_ngcontent-%COMP%]{font-family:var(--font-accent);color:#00f3ff33;font-size:1rem;letter-spacing:4px}.placeholder-glitch[_ngcontent-%COMP%]   .glitch[_ngcontent-%COMP%]{position:relative;animation:_ngcontent-%COMP%_glitchPulse 2s infinite}@keyframes _ngcontent-%COMP%_glitchPulse{0%,to{opacity:.2;transform:scale(1)}50%{opacity:.4;transform:scale(1.05)}}.portrait-controls[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;gap:.6rem}.portrait-controls[_ngcontent-%COMP%]   .upload-area[_ngcontent-%COMP%]{width:100%}.portrait-controls[_ngcontent-%COMP%]   .btn-cyber-outline[_ngcontent-%COMP%]{width:100%;box-sizing:border-box}.hidden-input[_ngcontent-%COMP%]{display:none!important}#portrait-upload[_ngcontent-%COMP%]{display:none}.navigation-actions[_ngcontent-%COMP%]{margin-top:4rem;display:flex;justify-content:center;padding-bottom:4rem}.btn-cyber-action[_ngcontent-%COMP%]{background:transparent;border:2px solid var(--vivid-orange);color:var(--vivid-orange);padding:1.5rem 4rem;font-family:var(--font-header);position:relative;cursor:pointer;display:flex;flex-direction:column;align-items:center;gap:.3rem;transition:all .3s ease;clip-path:polygon(20px 0,100% 0,calc(100% - 20px) 100%,0 100%);text-shadow:0 0 10px var(--vivid-orange-glow)}.btn-cyber-action[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child{font-size:1.2rem;font-weight:700;letter-spacing:3px;text-transform:uppercase}.btn-cyber-action[_ngcontent-%COMP%]   .sub-text[_ngcontent-%COMP%]{font-family:var(--font-mono);font-size:.65rem;opacity:.6;letter-spacing:1px}.btn-cyber-action[_ngcontent-%COMP%]:hover:not(:disabled){background:#ff8c001a;box-shadow:0 0 40px var(--vivid-orange-glow),inset 0 0 20px var(--vivid-orange-glow);transform:scale(1.02)}.btn-cyber-action[_ngcontent-%COMP%]:active:not(:disabled){transform:scale(.98)}.btn-cyber-action[_ngcontent-%COMP%]:disabled{border-color:#ffffff0d;color:#ffffff0d;text-shadow:none;cursor:not-allowed}.corner-detail[_ngcontent-%COMP%]{position:absolute;width:12px;height:12px;border:1.5px solid var(--neon-cyan);opacity:.2;pointer-events:none;z-index:10}.corner-detail.tl[_ngcontent-%COMP%]{top:-1px;left:-1px;border-right:0;border-bottom:0}.corner-detail.tr[_ngcontent-%COMP%]{top:-1px;right:-1px;border-left:0;border-bottom:0}.corner-detail.bl[_ngcontent-%COMP%]{bottom:-1px;left:-1px;border-right:0;border-top:0}.corner-detail.br[_ngcontent-%COMP%]{bottom:-1px;right:-1px;border-left:0;border-top:0}.fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .6s cubic-bezier(.4,0,.2,1) forwards}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}']})};var Ye=class n{lastRoll=N(null);constructor(){}roll(t=2,e=6){let i=[],r=0;for(let a=0;a<t;a++){let l=Math.floor(Math.random()*e)+1;i.push(l),r+=l}let o={total:r,rolls:i};return this.lastRoll.set(o),o}rollD66(){let t=this.roll(1).total,e=this.roll(1).total;return t*10+e}getModifier(t){return t===0?-3:t>=1&&t<=2?-2:t>=3&&t<=5?-1:t>=6&&t<=8?0:t>=9&&t<=11?1:t>=12&&t<=14?2:t>=15?3:0}roll3d6KeepHighest2(){let t=Math.floor(Math.random()*6)+1,e=Math.floor(Math.random()*6)+1,i=Math.floor(Math.random()*6)+1,r=[t,e,i].sort((l,u)=>u-l),o=r[0],a=r[1];return{dice:[o,a],sum:o+a}}static \u0275fac=function(e){return new(e||n)};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})};function BS(n,t){if(n&1&&(s(0,"span",16),d(1),c()),n&2){let e=t.$implicit;p(),x(e)}}function US(n,t){if(n&1&&(s(0,"li"),d(1),c()),n&2){let e=t.$implicit;p(),x(e)}}function HS(n,t){if(n&1&&(s(0,"div",22)(1,"span",23),d(2,"// ADVANTAGES"),c(),s(3,"ul"),b(4,US,2,1,"li",24),c()()),n&2){let e=h(2).$implicit;p(4),v("ngForOf",e.bonuses)}}function $S(n,t){if(n&1&&(s(0,"li"),d(1),c()),n&2){let e=t.$implicit;p(),x(e)}}function zS(n,t){if(n&1&&(s(0,"div",25)(1,"span",23),d(2,"// PENALTIES"),c(),s(3,"ul"),b(4,$S,2,1,"li",24),c()()),n&2){let e=h(2).$implicit;p(4),v("ngForOf",e.penalties)}}function GS(n,t){if(n&1&&(s(0,"div",17)(1,"p",18),d(2),c(),s(3,"div",19),b(4,HS,5,1,"div",20)(5,zS,5,1,"div",21),c()()),n&2){let e=h().$implicit;p(2),x(e.description),p(2),v("ngIf",e.bonuses.length),p(),v("ngIf",e.penalties.length)}}function qS(n,t){if(n&1){let e=T();s(0,"div",6),O("click",function(){let r=S(e).$implicit,o=h();return P(o.select(r))}),s(1,"div",7)(2,"span",8),d(3),c(),M(4,"span",9),s(5,"span",10),d(6),c(),s(7,"div",11),b(8,BS,2,1,"span",12),c(),s(9,"span",13),d(10),c(),s(11,"span",14),d(12,"\u203A"),c()(),b(13,GS,6,3,"div",15),c()}if(n&2){let e=t.$implicit,i=t.index,r=h();I("sp-sel",r.selectedId===e.id),p(3),x(i+1<10?"0"+(i+1):i+1),p(),I("on",r.selectedId===e.id),p(2),x(e.name),p(2),v("ngForOf",e.traits),p(),I("st-sel",r.selectedId===e.id),p(),w(" ",r.selectedId===e.id?"SELECTED":"AVAILABLE"," "),p(),I("open",r.selectedId===e.id),p(2),v("ngIf",r.selectedId===e.id)}}var Kc=class n{characterService=C(de);diceService=C(Ye);wizardFlow=C(De);ngOnInit(){this.wizardFlow.registerValidator(2,()=>this.selectedId!==null),this.wizardFlow.registerFinishAction(2,()=>this.finish())}ngOnDestroy(){this.wizardFlow.unregisterStep(2)}speciesOptions=[{id:"human-standard",name:"Human (Standard)",description:"The baseline human archetype, most common in Core Worlds and stable colonies.",bonuses:["No characteristic penalties"],penalties:["No specialized environmental bonuses"],traits:["Standard Biology"]},{id:"human-spacer",name:"Human (Spacer)",description:"Humans born and raised in low-gravity stations or zero-G habitats.",bonuses:["Dexterity +1","Vacc Suit skill level 0 guaranteed"],penalties:["Strength -1","Endurance -1"],traits:["Zero-G Adaptation","Zhargon Language +1"],restrictions:{originTypes:["Spacer"],environments:["Space","Low-G"]}},{id:"human-heavy",name:"Human (Heavy-Worlder)",description:"Genetically modified (King Ultra) or naturally adapted to high-gravity environments.",bonuses:["Strength +1D6","Endurance +1D6"],penalties:["Dexterity -2","Requires respirator in standard/thin atmospheres"],traits:["King Ultra DNAM","Enhanced Muscle Density"],restrictions:{originTypes:["Frontier"],environments:["Heavy"],nationalities:["United States","Australia","Manchuria","Texas","Inca Republic","Trilon Corp"]}},{id:"human-cold",name:"Human (Cold-Adapted)",description:"Adapted to arctic or sub-zero frontier worlds.",bonuses:["Survival (Cold) +2"],penalties:["Vulnerability to high heat"],traits:["Cold Adaptation DNAM"],restrictions:{originTypes:["Frontier"],environments:["Cold"]}},{id:"human-dry",name:"Human (Dry-Worlder)",description:"Adapted to desert or water-scarce environments.",bonuses:["Water Retention efficiency"],penalties:["Lower humidity tolerance"],traits:["Dry World DNAM"],restrictions:{originTypes:["Frontier"],environments:["Dry"]}}];selectedId=null;constructor(){let t=this.characterService.character();t.species&&(this.selectedId=t.species==="Human"?"human-standard":this.speciesOptions.find(e=>e.name===t.species)?.id||null)}select(t){this.selectedId=t.id,this.save()}save(){let t=this.speciesOptions.find(e=>e.id===this.selectedId);if(t){this.characterService.updateCharacter({species:t.name,isSoftPath:["human-heavy","human-cold","human-dry"].includes(this.selectedId||"")});let e=this.characterService.character(),i=E({},e.characteristics);["str","dex","end","int","edu","soc"].forEach(r=>{let o=r;i[o].geneticMod=0}),this.selectedId==="human-spacer"?(i.dex.geneticMod=1,i.str.geneticMod=-1,i.end.geneticMod=-1):this.selectedId==="human-heavy"&&(i.str.geneticMod=Math.floor(Math.random()*6)+1,i.end.geneticMod=Math.floor(Math.random()*6)+1,i.dex.geneticMod=-2),this.characterService.updateCharacteristics(i)}}finish(){this.selectedId&&(this.save(),this.wizardFlow.advance())}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=G({type:n,selectors:[["app-species"]],decls:15,vars:1,consts:[[1,"species-container"],["stepSymbol","SEC","stepNumber","02","superLabel","GENETIC_ARCHIVE_2300AD","topLabel","BIOLOGICAL_DATA","title","BIOLOGICAL_ARCHETYPE","subtitle","SELECT_SPECIES_OR_GENETIC_VARIANT"],[1,"species-roster"],[1,"sp-thead"],[1,"th-r"],["class","sp-row",3,"sp-sel","click",4,"ngFor","ngForOf"],[1,"sp-row",3,"click"],[1,"sp-strip"],[1,"sp-id"],[1,"sp-led"],[1,"sp-name"],[1,"sp-tags"],["class","sp-tag",4,"ngFor","ngForOf"],[1,"sp-status"],[1,"sp-chev"],["class","sp-expand",4,"ngIf"],[1,"sp-tag"],[1,"sp-expand"],[1,"sp-desc"],[1,"sp-traits-grid"],["class","sp-trait-col bonus",4,"ngIf"],["class","sp-trait-col penalty",4,"ngIf"],[1,"sp-trait-col","bonus"],[1,"stc-label"],[4,"ngFor","ngForOf"],[1,"sp-trait-col","penalty"]],template:function(e,i){e&1&&(s(0,"div",0),M(1,"app-step-header",1),s(2,"div",2)(3,"div",3)(4,"span"),d(5,"_#_"),c(),M(6,"span"),s(7,"span"),d(8,"SPECIES_DESIGNATION"),c(),s(9,"span"),d(10,"PHENOTYPE_TAGS"),c(),s(11,"span",4),d(12,"STATUS"),c(),M(13,"span"),c(),b(14,qS,14,13,"div",5),c()()),e&2&&(p(14),v("ngForOf",i.speciesOptions))},dependencies:[Z,_e,ne,Fe],styles:['@charset "UTF-8";.species-container[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .5s ease-out;padding:1.5rem;max-width:1200px;margin:0 auto;box-sizing:border-box}.species-grid[_ngcontent-%COMP%], .species-card[_ngcontent-%COMP%], .card-header[_ngcontent-%COMP%], .selection-box[_ngcontent-%COMP%], .description[_ngcontent-%COMP%], .traits-section[_ngcontent-%COMP%], .trait-group[_ngcontent-%COMP%], .tags[_ngcontent-%COMP%], .tag[_ngcontent-%COMP%]{display:none}.species-roster[_ngcontent-%COMP%]{width:100%;margin:1.5rem 0;border:1px solid rgba(0,243,255,.12);background:#00000073;position:relative;overflow:hidden}.species-roster[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:linear-gradient(rgba(0,243,255,.015) 1px,transparent 1px),linear-gradient(90deg,rgba(0,243,255,.015) 1px,transparent 1px);background-size:40px 7px;pointer-events:none}.sp-thead[_ngcontent-%COMP%]{display:grid;grid-template-columns:38px 12px 1fr 1fr 110px 20px;padding:.3rem 1rem .3rem .8rem;background:#00f3ff0a;border-bottom:1px solid rgba(0,243,255,.15);font-family:var(--font-mono);font-size:.42rem;letter-spacing:3px;color:var(--neon-cyan);opacity:.5;text-transform:uppercase;position:relative;z-index:1}.sp-thead[_ngcontent-%COMP%]   .th-r[_ngcontent-%COMP%]{text-align:right;padding-right:.5rem}.sp-row[_ngcontent-%COMP%]{position:relative;z-index:1;border-bottom:1px solid rgba(0,243,255,.07);cursor:pointer;transition:background .2s}.sp-row[_ngcontent-%COMP%]:before{content:"";position:absolute;left:0;top:0;bottom:0;width:2px;background:var(--neon-cyan);opacity:0;transition:opacity .2s}.sp-row[_ngcontent-%COMP%]:hover{background:#00f3ff08}.sp-row[_ngcontent-%COMP%]:hover:before{opacity:.45}.sp-row[_ngcontent-%COMP%]:hover   .sp-name[_ngcontent-%COMP%]{color:#fff}.sp-row.sp-sel[_ngcontent-%COMP%]{background:linear-gradient(90deg,rgba(255,238,0,.05),transparent 60%)}.sp-row.sp-sel[_ngcontent-%COMP%]:before{background:var(--cyber-yellow);opacity:1}.sp-strip[_ngcontent-%COMP%]{display:grid;grid-template-columns:38px 12px 1fr 1fr 110px 20px;align-items:center;padding:.6rem 1rem .6rem .8rem;min-height:44px}.sp-id[_ngcontent-%COMP%]{font-family:var(--font-mono);font-size:.65rem;color:#00f3ff52;letter-spacing:1px}.sp-led[_ngcontent-%COMP%]{width:7px;height:7px;border-radius:50%;background:#ffffff1a;border:1px solid rgba(255,255,255,.15);transition:all .3s;flex-shrink:0}.sp-led.on[_ngcontent-%COMP%]{background:var(--cyber-yellow);border-color:var(--cyber-yellow);box-shadow:0 0 6px var(--cyber-yellow),0 0 14px #fe06}.sp-name[_ngcontent-%COMP%]{font-family:var(--font-header);font-size:.9rem;color:#ffffffb8;letter-spacing:2px;text-transform:uppercase;padding-left:.8rem;transition:color .2s}.sp-sel[_ngcontent-%COMP%]   .sp-name[_ngcontent-%COMP%]{color:#fff}.sp-tags[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.3rem;padding:0 .5rem}.sp-tag[_ngcontent-%COMP%]{font-family:var(--font-mono);font-size:.48rem;padding:2px 7px;background:#ffee000f;border:1px solid rgba(255,238,0,.22);color:var(--cyber-yellow);letter-spacing:1px;text-transform:uppercase}.sp-status[_ngcontent-%COMP%]{font-family:var(--font-mono);font-size:.48rem;letter-spacing:2px;color:#00f3ff61;text-align:right;padding-right:.5rem;text-transform:uppercase}.sp-status.st-sel[_ngcontent-%COMP%]{color:var(--cyber-yellow)}.sp-chev[_ngcontent-%COMP%]{font-size:.75rem;color:#00f3ff47;transition:all .25s;opacity:.4}.sp-chev.open[_ngcontent-%COMP%]{transform:rotate(90deg);color:var(--cyber-yellow);opacity:1}.sp-expand[_ngcontent-%COMP%]{border-top:1px solid rgba(255,238,0,.1);background:linear-gradient(90deg,#ffee0005,#00f3ff05);padding:.8rem 1rem 1.2rem 3.4rem;animation:_ngcontent-%COMP%_sp-expand-in .2s ease-out}.sp-expand[_ngcontent-%COMP%]   .sp-desc[_ngcontent-%COMP%]{font-family:var(--font-mono);font-size:.72rem;color:var(--text-dim);line-height:1.55;margin:0 0 1rem}.sp-traits-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:1.2rem}.sp-trait-col[_ngcontent-%COMP%]   .stc-label[_ngcontent-%COMP%]{display:block;font-family:var(--font-mono);font-size:.5rem;letter-spacing:2px;margin-bottom:.5rem;text-transform:uppercase}.sp-trait-col[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;padding:0;list-style:none}.sp-trait-col[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-family:var(--font-mono);font-size:.7rem;margin-bottom:.35rem;padding-left:.75rem;position:relative;line-height:1.3}.sp-trait-col[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{content:"\\203a";position:absolute;left:0;color:inherit}.sp-trait-col.bonus[_ngcontent-%COMP%]   .stc-label[_ngcontent-%COMP%]{color:var(--neon-cyan)}.sp-trait-col.bonus[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{color:#00f3ffbf}.sp-trait-col.penalty[_ngcontent-%COMP%]   .stc-label[_ngcontent-%COMP%]{color:var(--power-red)}.sp-trait-col.penalty[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{color:#ff1e1ebf}@keyframes _ngcontent-%COMP%_sp-expand-in{0%{opacity:0;transform:translateY(-4px)}to{opacity:1;transform:translateY(0)}}.species-card[_ngcontent-%COMP%]{background:#00ffff08;border:1px solid rgba(0,255,255,.2);padding:1.5rem;cursor:pointer;transition:all .3s cubic-bezier(.4,0,.2,1);position:relative;overflow:hidden;clip-path:polygon(0 0,100% 0,100% 90%,90% 100%,0 100%)}.species-card[_ngcontent-%COMP%]:hover{background:#00ffff14;border-color:var(--neon-cyan);transform:translateY(-5px);box-shadow:0 5px 15px #00ffff1a}.species-card.selected[_ngcontent-%COMP%]{background:#00ffff1f;border-color:var(--neon-cyan);box-shadow:0 0 20px #0ff3}.species-card.selected[_ngcontent-%COMP%]   .selection-box[_ngcontent-%COMP%]{background:var(--neon-cyan);box-shadow:0 0 10px var(--neon-cyan)}.card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem}.card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-family:var(--font-accent);color:var(--neon-cyan);font-size:1.1rem;letter-spacing:1px}.selection-box[_ngcontent-%COMP%]{width:12px;height:12px;border:1px solid var(--neon-cyan);transition:all .3s ease}.description[_ngcontent-%COMP%]{font-size:.9rem;color:var(--text-main);opacity:.8;line-height:1.4;margin-bottom:1.5rem;height:3rem}.traits-section[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:1rem;margin-bottom:1.5rem}.trait-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-size:.7rem;font-family:var(--font-accent);margin-bottom:.5rem;opacity:.7}.trait-group[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;padding:0;list-style:none}.trait-group[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:.75rem;margin-bottom:.3rem;position:relative;padding-left:.8rem}.trait-group[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{content:">";position:absolute;left:0;color:inherit;font-size:.7rem}.trait-group.bonus[_ngcontent-%COMP%]{color:var(--neon-cyan)}.trait-group.penalty[_ngcontent-%COMP%]{color:var(--power-red);opacity:.9}.tags[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem}.tag[_ngcontent-%COMP%]{background:#ffee001a;border:1px solid rgba(255,238,0,.3);color:var(--cyber-yellow);font-size:.65rem;padding:.2rem .6rem;font-family:var(--font-accent);text-transform:uppercase}.navigation-actions[_ngcontent-%COMP%]{margin-top:3rem;display:flex;justify-content:center;padding-bottom:2rem}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}']})};var Ke=class n{request=N(null);debugMode=N(!1);roll(t,e=2,i=0,r=0,o="",a,l=[],u,f={}){return new Promise(g=>{this.request.set(E({reason:t,diceCount:e,dm:i,target:r,statName:o,getResultDescription:a,modifiers:l,debugTableData:u,resolve:g},f))})}complete(t){let e=this.request();e&&(e.debugTableData&&(console.group(`[Dice Roll Debug] ${e.reason}`),console.log("Result:",t),console.log("Table Data:",e.debugTableData),e.getResultDescription&&console.log("Result Description:",e.getResultDescription(t)),console.groupEnd()),e.resolve(t),this.request.set(null))}static \u0275fac=function(e){return new(e||n)};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})};function WS(n,t){n&1&&M(0,"div",64)}function YS(n,t){if(n&1&&(s(0,"span",70),d(1),c(),s(2,"span",71),d(3),c()),n&2){let e=h().$implicit,i=h();I("zero",i.getScore(e)===0),p(),w(" ",i.getScore(e)||"\u2014"," "),p(),I("pos",i.getModifier(e)>0)("neg",i.getModifier(e)<0)("visible",i.getScore(e)>0),p(),te(" ",i.getModifier(e)>=0?"+":"","",i.getModifier(e)," ")}}function KS(n,t){if(n&1){let e=T();s(0,"input",72),O("ngModelChange",function(r){S(e);let o=h().$implicit,a=h();return P(a.updateScore(o,r))})("blur",function(){S(e);let r=h().$implicit,o=h();return P(o.stopEditing(r))})("keyup.enter",function(){S(e);let r=h().$implicit,o=h();return P(o.stopEditing(r))})("click",function(r){return S(e),P(r.stopPropagation())}),c()}if(n&2){let e=h().$implicit,i=h();v("ngModel",i.getScore(e))}}function JS(n,t){if(n&1){let e=T();s(0,"div",73),O("click",function(r){S(e);let o=h().$implicit,a=h();return P(a.startEditing(o,r))}),nt(),s(1,"svg",74),M(2,"path",75)(3,"path",76),c()()}}function QS(n,t){if(n&1){let e=T();s(0,"div",58),O("click",function(){let r=S(e).$implicit,o=h();return P(o.selectCard(r))}),M(1,"div",59)(2,"div",60)(3,"div",61)(4,"div",62),s(5,"div",63),ge(6,WS,1,0,"div",64),s(7,"div",65)(8,"span",66),d(9),c(),s(10,"span",67),d(11),c(),ge(12,YS,4,11),ge(13,KS,1,1,"input",68),c()(),ge(14,JS,4,0,"div",69),c()}if(n&2){let e=t.$implicit,i=t.$index,r=h();I("selected",r.selectedStat===e)("rolling",r.rollingState[e])("glitch",r.glitchState[e])("complete",r.isComplete),p(6),me(r.rollingState[e]?6:-1),p(3),w("[ 0",i+1," ]"),p(2),x(e),p(),me(r.editingState[e]?-1:12),p(),me(r.editingState[e]?13:-1),p(),me(!r.editingState[e]&&r.isComplete?14:-1)}}function ZS(n,t){n&1&&M(0,"div",64)}function XS(n,t){if(n&1&&(s(0,"span",70),d(1),c(),s(2,"span",71),d(3),c()),n&2){let e=h().$implicit,i=h();I("zero",i.getScore(e)===0),p(),w(" ",i.getScore(e)||"\u2014"," "),p(),I("pos",i.getModifier(e)>0)("neg",i.getModifier(e)<0)("visible",i.getScore(e)>0),p(),te(" ",i.getModifier(e)>=0?"+":"","",i.getModifier(e)," ")}}function eP(n,t){if(n&1){let e=T();s(0,"input",72),O("ngModelChange",function(r){S(e);let o=h().$implicit,a=h();return P(a.updateScore(o,r))})("blur",function(){S(e);let r=h().$implicit,o=h();return P(o.stopEditing(r))})("keyup.enter",function(){S(e);let r=h().$implicit,o=h();return P(o.stopEditing(r))})("click",function(r){return S(e),P(r.stopPropagation())}),c()}if(n&2){let e=h().$implicit,i=h();v("ngModel",i.getScore(e))}}function tP(n,t){if(n&1){let e=T();s(0,"div",73),O("click",function(r){S(e);let o=h().$implicit,a=h();return P(a.startEditing(o,r))}),nt(),s(1,"svg",74),M(2,"path",75)(3,"path",76),c()()}}function nP(n,t){if(n&1){let e=T();s(0,"div",58),O("click",function(){let r=S(e).$implicit,o=h();return P(o.selectCard(r))}),M(1,"div",59)(2,"div",60)(3,"div",61)(4,"div",62),s(5,"div",63),ge(6,ZS,1,0,"div",64),s(7,"div",65)(8,"span",66),d(9),c(),s(10,"span",67),d(11),c(),ge(12,XS,4,11),ge(13,eP,1,1,"input",68),c()(),ge(14,tP,4,0,"div",69),c()}if(n&2){let e=t.$implicit,i=t.$index,r=h();I("selected",r.selectedStat===e)("rolling",r.rollingState[e])("glitch",r.glitchState[e])("complete",r.isComplete),p(6),me(r.rollingState[e]?6:-1),p(3),w("[ 0",i+4," ]"),p(2),x(e),p(),me(r.editingState[e]?-1:12),p(),me(r.editingState[e]?13:-1),p(),me(!r.editingState[e]&&r.isComplete?14:-1)}}function iP(n,t){n&1&&(s(0,"p",80),d(1,"> STANDBY: AWAITING_BIOMETRIC_SEQUENCE_TRIGGER"),c())}function rP(n,t){if(n&1){let e=T();s(0,"button",77),O("click",function(){S(e);let r=h();return P(r.rollSequence())}),s(1,"span",78),d(2,"\u2B21"),c(),s(3,"span",79),d(4),c()(),ge(5,iP,2,0,"p",80)}if(n&2){let e=h();v("disabled",e.isRolling),p(4),x(e.isRolling?"SEQUENCING...":"INITIALIZE_BIOMETRIC_ROLL"),p(),me(e.isRolling?-1:5)}}function oP(n,t){n&1&&(s(0,"div",81),M(1,"span",82),s(2,"span",83),d(3,"STATUS: SEQUENCE_COMPLETE // SWAP_ENABLED"),c()(),s(4,"p",80),d(5,"SELECT_TWO_HEXES_TO_SWAP_ALLOCATION"),c())}var Jc=class n{diceService=C(Ye);diceDisplay=C(Ke);characterService=C(de);cdr=C(ft);ngZone=C(Be);wizardFlow=C(De);el=C(Ae);characteristicsList=["STR","DEX","END","INT","EDU","SOC"];scores={};diceValues={};rollingState={};editingState={};glitchState={};selectedStat=null;isRolling=!1;isCompleteSignal=N(!1);get isComplete(){return this.isCompleteSignal()}set isComplete(t){this.isCompleteSignal.set(t)}constructor(){this.initializeState()}ngOnInit(){this.wizardFlow.registerValidator(3,()=>this.isComplete),this.wizardFlow.registerFinishAction(3,()=>this.finish())}ngOnDestroy(){this.wizardFlow.unregisterStep(3)}initializeState(){this.characteristicsList.forEach(e=>{this.scores[e]=0,this.diceValues[e]=[1,1],this.rollingState[e]=!1,this.editingState[e]=!1,this.glitchState[e]=!1});let t=this.characterService.character();t.characteristics.str.value>0&&(this.characteristicsList.forEach(e=>{let i=t.characteristics[e.toLowerCase()].value;this.scores[e]=i,this.diceValues[e]=[Math.floor(i/2),Math.ceil(i/2)]}),this.isComplete=!0)}rollSequence(){this.isRolling||(this.isRolling=!0,this.isComplete=!1,this.selectedStat=null,this.characteristicsList.forEach(t=>this.rollingState[t]=!0),import("./chunk-BULKTHJV.js").then(({from:t,concatMap:e,of:i,delay:r,tap:o,finalize:a})=>{t(this.characteristicsList).pipe(e(l=>i(l).pipe(r(800))),o(l=>{let u=this.diceDisplay.debugMode(),f,g;if(u)f=6,g=6;else{let m=this.diceService.roll3d6KeepHighest2();f=m.dice[0],g=m.dice[1]}this.diceValues[l]=[f,g],this.scores[l]=f+g,this.rollingState[l]=!1,this.glitchState[l]=!0,setTimeout(()=>{this.glitchState[l]=!1,this.cdr.detectChanges()},300),this.cdr.detectChanges()}),a(()=>{this.ngZone.run(()=>{this.isRolling=!1,this.isComplete=!0,this.save(),this.wizardFlow.notifyValidation()})})).subscribe()}))}finish(){this.isComplete&&this.wizardFlow.advance()}selectCard(t){!this.isComplete||this.isRolling||(this.selectedStat===t?this.selectedStat=null:this.selectedStat?(this.swapScores(this.selectedStat,t),this.selectedStat=null):this.selectedStat=t)}swapScores(t,e){let i=this.scores[t];this.scores[t]=this.scores[e],this.scores[e]=i;let r=this.diceValues[t];this.diceValues[t]=this.diceValues[e],this.diceValues[e]=r,this.save()}startEditing(t,e){e.stopPropagation(),this.editingState[t]=!0,this.cdr.detectChanges(),setTimeout(()=>{let i=this.el.nativeElement.querySelector("input.hex-edit-input");i&&(i.focus(),i.select())},30)}stopEditing(t){this.editingState[t]=!1,this.scores[t]<1&&(this.scores[t]=1),this.scores[t]>15&&(this.scores[t]=15);let e=this.scores[t]/2;this.diceValues[t]=[Math.floor(e),Math.ceil(e)],this.save()}updateScore(t,e){this.scores[t]=Number(e)}getScore(t){return this.scores[t]}getDieValue(t,e){return this.diceValues[t]?this.diceValues[t][e-1]:1}getModifier(t){return this.diceService.getModifier(this.scores[t])}getStatPercentage(t){let e=this.scores[t];return e?Math.min(e/15*100,100):0}save(){let t=E({},this.characterService.character().characteristics);this.characteristicsList.forEach(e=>{let i=this.scores[e],r=e.toLowerCase(),o=t[r]||{};t[r]=A(E({},o),{name:e,value:i,modifier:this.diceService.getModifier(i)})}),this.characterService.updateCharacteristics(t)}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=G({type:n,selectors:[["app-attributes"]],decls:81,vars:2,consts:[[1,"attributes-layout"],["stepSymbol","SEC","stepNumber","03","superLabel","CHARACTER_BIOMETRICS_V2.0","topLabel","ATTRIBUTE_READOUT","title","BIOMETRIC_SEQUENCING","subtitle","INITIALIZING_CHARACTER_DATA_OUTPUT... [ STANDBY ]"],[1,"hex-arena"],["aria-hidden","true",1,"hex-bg-pattern"],[1,"hex-grid"],["viewBox","0 0 648 292","xmlns","http://www.w3.org/2000/svg","aria-hidden","true",1,"circuit-svg"],["id","cglow","x","-80%","y","-80%","width","260%","height","260%"],["stdDeviation","5","result","b"],["in","b"],["in","SourceGraphic"],["id","cled","x","-80%","y","-80%","width","260%","height","260%"],["stdDeviation","3","result","b"],["stroke","rgba(0,140,220,0.15)","stroke-width","10","fill","none","filter","url(#cglow)"],["x1","74","y1","64","x2","274","y2","64"],["x1","274","y1","64","x2","474","y2","64"],["x1","174","y1","228","x2","374","y2","228"],["x1","374","y1","228","x2","574","y2","228"],["x1","74","y1","64","x2","174","y2","228"],["x1","274","y1","64","x2","174","y2","228"],["x1","274","y1","64","x2","374","y2","228"],["x1","474","y1","64","x2","374","y2","228"],["x1","474","y1","64","x2","574","y2","228"],["stroke","rgba(0,210,255,0.45)","stroke-width","1.5","fill","none",1,"circuit-main"],["stroke","rgba(0,240,255,0.7)","stroke-width","1.5","fill","none",1,"circuit-flow"],["stroke","rgba(0,190,255,0.3)","stroke-width","1","fill","none"],["x1","157","y1","56","x2","157","y2","64"],["x1","157","y1","64","x2","148","y2","64"],["x1","191","y1","64","x2","191","y2","72"],["x1","191","y1","64","x2","200","y2","64"],["x1","357","y1","56","x2","357","y2","64"],["x1","357","y1","64","x2","348","y2","64"],["x1","391","y1","64","x2","391","y2","72"],["x1","391","y1","64","x2","400","y2","64"],["x1","257","y1","220","x2","257","y2","228"],["x1","257","y1","228","x2","248","y2","228"],["x1","291","y1","228","x2","291","y2","236"],["x1","291","y1","228","x2","300","y2","228"],["x1","457","y1","220","x2","457","y2","228"],["x1","457","y1","228","x2","448","y2","228"],["x1","491","y1","228","x2","491","y2","236"],["x1","491","y1","228","x2","500","y2","228"],["fill","rgba(215,185,0,0.9)","filter","url(#cled)",1,"circuit-leds"],["x","165","y","60","width","4","height","8","rx","1"],["x","172","y","60","width","4","height","8","rx","1"],["x","179","y","60","width","4","height","8","rx","1"],["x","365","y","60","width","4","height","8","rx","1"],["x","372","y","60","width","4","height","8","rx","1"],["x","379","y","60","width","4","height","8","rx","1"],["x","265","y","224","width","4","height","8","rx","1"],["x","272","y","224","width","4","height","8","rx","1"],["x","279","y","224","width","4","height","8","rx","1"],["x","465","y","224","width","4","height","8","rx","1"],["x","472","y","224","width","4","height","8","rx","1"],["x","479","y","224","width","4","height","8","rx","1"],[1,"hex-row","row-1"],[1,"hex-wrap",3,"selected","rolling","glitch","complete"],[1,"hex-row","row-2"],[1,"biometric-control"],[1,"hex-wrap",3,"click"],[1,"hex-ring","r1"],[1,"hex-ring","r2"],[1,"hex-ring","r3"],[1,"hex-ring","r4"],[1,"hex-cell"],[1,"hex-scan-beam"],[1,"hex-content"],[1,"hex-index"],[1,"hex-name"],["type","number","autoFocus","",1,"hex-edit-input",3,"ngModel"],["title","Edit",1,"hex-edit-btn"],[1,"hex-value"],[1,"hex-mod"],["type","number","autoFocus","",1,"hex-edit-input",3,"ngModelChange","blur","keyup.enter","click","ngModel"],["title","Edit",1,"hex-edit-btn",3,"click"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2.5","stroke-linecap","round","stroke-linejoin","round"],["d","M12 20h9"],["d","M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"],[1,"btn-sequence",3,"click","disabled"],[1,"btn-hex-icon"],[1,"btn-text"],[1,"ctrl-hint"],[1,"ctrl-status"],[1,"status-dot"],[1,"status-text"]],template:function(e,i){e&1&&(s(0,"div",0),M(1,"app-step-header",1),s(2,"div",2),M(3,"div",3),s(4,"div",4),nt(),s(5,"svg",5)(6,"defs")(7,"filter",6),M(8,"feGaussianBlur",7),s(9,"feMerge"),M(10,"feMergeNode",8)(11,"feMergeNode",9),c()(),s(12,"filter",10),M(13,"feGaussianBlur",11),s(14,"feMerge"),M(15,"feMergeNode",8)(16,"feMergeNode",9),c()()(),s(17,"g",12),M(18,"line",13)(19,"line",14)(20,"line",15)(21,"line",16)(22,"line",17)(23,"line",18)(24,"line",19)(25,"line",20)(26,"line",21),c(),s(27,"g",22),M(28,"line",13)(29,"line",14)(30,"line",15)(31,"line",16)(32,"line",17)(33,"line",18)(34,"line",19)(35,"line",20)(36,"line",21),c(),s(37,"g",23),M(38,"line",13)(39,"line",14)(40,"line",15)(41,"line",16),c(),s(42,"g",24),M(43,"line",25)(44,"line",26)(45,"line",27)(46,"line",28)(47,"line",29)(48,"line",30)(49,"line",31)(50,"line",32)(51,"line",33)(52,"line",34)(53,"line",35)(54,"line",36)(55,"line",37)(56,"line",38)(57,"line",39)(58,"line",40),c(),s(59,"g",41),M(60,"rect",42)(61,"rect",43)(62,"rect",44)(63,"rect",45)(64,"rect",46)(65,"rect",47)(66,"rect",48)(67,"rect",49)(68,"rect",50)(69,"rect",51)(70,"rect",52)(71,"rect",53),c()(),at(),s(72,"div",54),wn(73,QS,15,14,"div",55,$s),c(),s(75,"div",56),wn(76,nP,15,14,"div",55,$s),c()()(),s(78,"div",57),ge(79,rP,6,3),ge(80,oP,6,0),c()()),e&2&&(p(73),Dn(i.characteristicsList.slice(0,3)),p(3),Dn(i.characteristicsList.slice(3,6)),p(3),me(i.isComplete?-1:79),p(),me(i.isComplete?80:-1))},dependencies:[Z,rt,fn,ma,ni,Nn,Fe],styles:[`.attributes-layout[_ngcontent-%COMP%]{width:100%;max-width:1100px;margin:0 auto;padding:1.2rem 1rem .8rem;box-sizing:border-box;display:flex;flex-direction:column;gap:.8rem}.hex-arena[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;align-items:center;padding:.8rem 1rem 2rem}.hex-bg-pattern[_ngcontent-%COMP%]{position:absolute;inset:0;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='58'%3E%3Cpath d='M25 2 L75 2 L100 29 L75 56 L25 56 L0 29 Z' fill='none' stroke='rgba(0,243,255,0.04)' stroke-width='1'/%3E%3C/svg%3E");background-size:100px 58px;pointer-events:none;z-index:0}.hex-grid[_ngcontent-%COMP%]{position:relative;z-index:1;display:flex;flex-direction:column;align-items:flex-start;width:648px}.circuit-svg[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:648px;height:292px;z-index:0;pointer-events:none;overflow:visible}.circuit-svg[_ngcontent-%COMP%]   .circuit-flow[_ngcontent-%COMP%]{stroke-dasharray:10 180;stroke-dashoffset:190;animation:_ngcontent-%COMP%_circuit-flow 3.5s linear infinite}.circuit-svg[_ngcontent-%COMP%]   .circuit-leds[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_led-pulse 2s ease-in-out infinite}@keyframes _ngcontent-%COMP%_circuit-flow{to{stroke-dashoffset:0}}@keyframes _ngcontent-%COMP%_led-pulse{0%,to{opacity:.9}50%{opacity:.4}}.hex-row[_ngcontent-%COMP%]{display:flex;gap:52px;position:relative;z-index:2}.hex-row.row-2[_ngcontent-%COMP%]{margin-left:100px;margin-top:42px}.hex-wrap[_ngcontent-%COMP%]{position:relative;width:148px;height:128px;cursor:default;overflow:visible;transition:filter .35s ease,transform .35s ease;filter:drop-shadow(0 0 8px rgba(0,100,200,.5)) drop-shadow(0 0 24px rgba(0,60,160,.2))}.hex-wrap[_ngcontent-%COMP%]   .hex-ring[_ngcontent-%COMP%]{position:absolute;clip-path:polygon(25% 0%,75% 0%,100% 50%,75% 100%,25% 100%,0% 50%);transition:background .35s ease}.hex-wrap[_ngcontent-%COMP%]   .hex-ring.r1[_ngcontent-%COMP%]{inset:0;background:linear-gradient(150deg,#0096dca6,#005aaf73 45%,#00328c4d)}.hex-wrap[_ngcontent-%COMP%]   .hex-ring.r2[_ngcontent-%COMP%]{inset:5px;background:#030e1e}.hex-wrap[_ngcontent-%COMP%]   .hex-ring.r3[_ngcontent-%COMP%]{inset:10px;background:linear-gradient(145deg,#00c8ffbf,#008ce68c 40%,#005ac866)}.hex-wrap[_ngcontent-%COMP%]   .hex-ring.r4[_ngcontent-%COMP%]{inset:15px;background:#020b18}.hex-wrap[_ngcontent-%COMP%]   .hex-cell[_ngcontent-%COMP%]{position:absolute;inset:20px;clip-path:polygon(25% 0%,75% 0%,100% 50%,75% 100%,25% 100%,0% 50%);background:radial-gradient(circle at 50% 35%,#002341e0,#000c19f7 55%,#00030a);overflow:visible;z-index:1;display:flex;align-items:center;justify-content:center}.hex-wrap.complete[_ngcontent-%COMP%]{cursor:pointer}.hex-wrap.complete[_ngcontent-%COMP%]:hover{filter:drop-shadow(0 0 14px rgba(0,200,255,.65)) drop-shadow(0 0 40px rgba(0,130,220,.3));transform:translateY(-6px) scale(1.04)}.hex-wrap.complete[_ngcontent-%COMP%]:hover   .hex-ring.r1[_ngcontent-%COMP%]{background:linear-gradient(150deg,#00beffbf,#0082e68c)}.hex-wrap.complete[_ngcontent-%COMP%]:hover   .hex-ring.r3[_ngcontent-%COMP%]{background:linear-gradient(145deg,#00e6ffd9,#00b4ffa6)}.hex-wrap.selected[_ngcontent-%COMP%]{filter:drop-shadow(0 0 18px rgba(255,220,0,.65)) drop-shadow(0 0 45px rgba(200,160,0,.25));transform:translateY(-6px) scale(1.05)}.hex-wrap.selected[_ngcontent-%COMP%]   .hex-ring.r1[_ngcontent-%COMP%]{background:linear-gradient(150deg,#dcb400b3,#b4820073)}.hex-wrap.selected[_ngcontent-%COMP%]   .hex-ring.r3[_ngcontent-%COMP%]{background:linear-gradient(145deg,#ffd200d9,#dcaa00a6)}.hex-wrap.selected[_ngcontent-%COMP%]   .hex-name[_ngcontent-%COMP%]{color:var(--cyber-yellow);text-shadow:0 0 8px rgba(255,220,0,.45)}.hex-wrap.selected[_ngcontent-%COMP%]   .hex-value[_ngcontent-%COMP%]{color:var(--cyber-yellow);text-shadow:0 0 22px rgba(255,220,0,.55)}.hex-wrap.rolling[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_hex-pulse .6s infinite alternate}.hex-wrap.rolling[_ngcontent-%COMP%]   .hex-ring.r3[_ngcontent-%COMP%]{background:linear-gradient(145deg,#00f0ffe6,#00c8ffbf)}.hex-wrap.glitch[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_hex-glitch .3s steps(1) both}.hex-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;width:100%;height:100%;padding:0 26px;box-sizing:border-box;pointer-events:none;gap:0}.hex-index[_ngcontent-%COMP%]{font-family:var(--font-mono);font-size:.44rem;color:#00dcff59;letter-spacing:2px;text-transform:uppercase;line-height:1;margin-bottom:1px}.hex-name[_ngcontent-%COMP%]{font-family:var(--font-accent);font-size:.78rem;font-weight:700;color:#c8e6ffbf;letter-spacing:5px;text-transform:uppercase;line-height:1.15;transition:color .3s,text-shadow .3s}.hex-value[_ngcontent-%COMP%]{font-family:var(--font-accent);font-size:2.4rem;font-weight:900;line-height:.95;color:var(--neon-cyan);text-shadow:0 0 16px rgba(0,243,255,.45),0 0 32px rgba(0,200,255,.15);transition:color .3s,text-shadow .3s;margin-top:2px}.hex-value.zero[_ngcontent-%COMP%]{color:#ffffff26;text-shadow:none}.hex-mod[_ngcontent-%COMP%]{font-family:var(--font-mono);font-size:.82rem;font-weight:700;letter-spacing:1.5px;color:#ffffff2e;opacity:0;transition:opacity .3s,color .3s;line-height:1;margin-top:1px}.hex-mod.visible[_ngcontent-%COMP%]{opacity:1}.hex-mod.pos[_ngcontent-%COMP%]{color:var(--neon-cyan);text-shadow:0 0 6px rgba(0,243,255,.45)}.hex-mod.neg[_ngcontent-%COMP%]{color:var(--power-red);text-shadow:0 0 6px rgba(255,40,40,.45)}.hex-scan-beam[_ngcontent-%COMP%]{position:absolute;left:12%;right:12%;height:2px;background:linear-gradient(90deg,transparent 0%,rgba(0,243,255,.75) 50%,transparent 100%);box-shadow:0 0 10px #00f3ff8c;animation:_ngcontent-%COMP%_hex-scan 1.2s linear infinite;pointer-events:none;z-index:5}.hex-edit-btn[_ngcontent-%COMP%]{position:absolute;bottom:-12px;left:50%;transform:translate(-50%);width:36px;height:22px;cursor:pointer;z-index:20;filter:drop-shadow(0 2px 5px rgba(0,80,160,.5));transition:filter .22s ease,transform .22s ease}.hex-edit-btn[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;clip-path:polygon(25% 0%,75% 0%,100% 50%,75% 100%,25% 100%,0% 50%);background:#003c78f2}.hex-edit-btn[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:2px;clip-path:polygon(25% 0%,75% 0%,100% 50%,75% 100%,25% 100%,0% 50%);background:linear-gradient(150deg,#0082d2f2,#0050aff2)}.hex-edit-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{position:absolute;inset:0;margin:auto;width:11px;height:11px;stroke:#00e6ffe6;z-index:1;display:block}.hex-edit-btn[_ngcontent-%COMP%]:hover{filter:drop-shadow(0 0 8px rgba(255,215,0,.8)) drop-shadow(0 0 18px rgba(220,170,0,.35));transform:translate(-50%) translateY(-2px) scale(1.15)}.hex-edit-btn[_ngcontent-%COMP%]:hover:before{background:#825a00f2}.hex-edit-btn[_ngcontent-%COMP%]:hover:after{background:linear-gradient(150deg,#ffdc32fa,#d7a000)}.hex-edit-btn[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{stroke:#fff}.hex-edit-input[_ngcontent-%COMP%]{width:62px;background:#000000e0;border:1.5px solid var(--neon-cyan);color:var(--cyber-yellow);font-size:1.9rem;font-family:var(--font-accent);text-align:center;outline:none;box-shadow:0 0 10px #00f3ff33;pointer-events:auto}.hex-edit-input[_ngcontent-%COMP%]:focus{border-color:var(--cyber-yellow)}.hex-edit-input[_ngcontent-%COMP%]::-webkit-inner-spin-button, .hex-edit-input[_ngcontent-%COMP%]::-webkit-outer-spin-button{appearance:none}.biometric-control[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:.7rem;padding:1rem 1.5rem;background:#00000059;border:1px solid rgba(0,243,255,.1);border-top:2px solid rgba(0,243,255,.3);position:relative;z-index:1}.biometric-control[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:linear-gradient(rgba(0,243,255,.015) 1px,transparent 1px);background-size:100% 5px;pointer-events:none}.btn-sequence[_ngcontent-%COMP%]{background:transparent;border:1.5px solid rgba(0,243,255,.5);color:var(--neon-cyan);padding:.65rem 2.5rem;font-family:var(--font-header);font-size:.8rem;font-weight:700;letter-spacing:3px;text-transform:uppercase;cursor:pointer;clip-path:polygon(12px 0,100% 0,calc(100% - 12px) 100%,0 100%);transition:all .3s ease;display:flex;align-items:center;gap:.7rem;position:relative;z-index:1}.btn-sequence[_ngcontent-%COMP%]   .btn-hex-icon[_ngcontent-%COMP%]{font-size:1.1rem;opacity:.6}.btn-sequence[_ngcontent-%COMP%]:hover:not(:disabled){background:#00f3ff14;border-color:var(--neon-cyan);box-shadow:0 0 22px #00f3ff40}.btn-sequence[_ngcontent-%COMP%]:disabled{opacity:.35;cursor:not-allowed}.ctrl-status[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.7rem;z-index:1}.status-dot[_ngcontent-%COMP%]{width:7px;height:7px;border-radius:50%;background:var(--neon-cyan);box-shadow:0 0 8px var(--neon-cyan-glow);animation:_ngcontent-%COMP%_dot-blink 1.2s ease-in-out infinite;flex-shrink:0}.status-text[_ngcontent-%COMP%]{font-family:var(--font-mono);font-size:.65rem;color:var(--neon-cyan);letter-spacing:1.5px;text-transform:uppercase;background:#00f3ff0d;padding:.35rem 1rem;border-left:3px solid var(--cyber-yellow)}.ctrl-hint[_ngcontent-%COMP%]{font-family:var(--font-mono);font-size:.58rem;color:#ffffff47;letter-spacing:1.5px;text-transform:uppercase;margin:0;z-index:1}@keyframes _ngcontent-%COMP%_hex-scan{0%{top:15%;opacity:0}8%{opacity:1}92%{opacity:1}to{top:85%;opacity:0}}@keyframes _ngcontent-%COMP%_hex-pulse{0%{filter:drop-shadow(0 0 8px rgba(0,200,255,.55))}to{filter:drop-shadow(0 0 22px rgba(0,243,255,.95))}}@keyframes _ngcontent-%COMP%_hex-glitch{0%{transform:translate(0)}20%{transform:translate(-3px,-2px)}40%{transform:translate(3px,2px)}60%{transform:translate(-2px,3px)}80%{transform:translate(2px,-3px)}to{transform:translate(0)}}@keyframes _ngcontent-%COMP%_dot-blink{0%,to{opacity:1;transform:scale(1)}50%{opacity:.35;transform:scale(.65)}}`]})};var At=[{code:"FR",name:"France",tier:1,description:"The dominant superpower of Earth and the stars. Center of culture, technology, and diplomacy.",languages:["French"],adjectives:["French"],effects:[{type:"SKILL_MOD",target:"Diplomat",value:1,note:"French Cultural Diplomacy"}]},{code:"TR",name:"Trilon Corp",tier:1,description:"A massive trans-stellar corporation with influence rivaling major nations. Treated as Tier 1 technology.",languages:["English","German","Zhargon"],adjectives:["Trilon"]},{code:"US",name:"United States",tier:2,description:"Recovering superpower, aggressive explorer of the American Arm.",languages:["English","Spanish"],adjectives:["American"],effects:[{type:"SKILL_MOD",target:"Recon",value:0,note:"Frontier Experience"}]},{code:"UK",name:"United Kingdom",tier:2,description:"Strong space power allied with France, focusing on quality over quantity.",languages:["English"],adjectives:["British"],effects:[{type:"SKILL_MOD",target:"Gun Combat (Slug)",value:1}]},{code:"DE",name:"Germany",tier:2,description:"Bavarian-led reunified nation, technologically advanced.",languages:["German"],adjectives:["German"],effects:[{type:"SKILL_MOD",target:"Engineer (any)",value:1}]},{code:"MN",name:"Manchuria",tier:2,description:"Industrial giant and ruler of the Manchurian Arm.",languages:["Mandarin"],adjectives:["Manchurian"],effects:[{type:"SKILL_MOD",target:"Science (any)",value:1}]},{code:"LF",name:"Life Foundation",tier:2,description:"Scientific organization dedicated to understanding alien life. Treated as Tier 2 technology.",languages:["English","French"],adjectives:["Foundation"]},{code:"AR",name:"Argentina",tier:3,description:"Militantly independent, rival to French influence.",languages:["Spanish"],adjectives:["Argentine"],effects:[{type:"SKILL_MOD",target:"Pilot (any)",value:1}]},{code:"AU",name:"Australia",tier:3,description:"Key ally of Britain and America in the Pacific.",languages:["English"],adjectives:["Australian"],effects:[{type:"SKILL_MOD",target:"Survival",value:0}]},{code:"AZ",name:"Azania",tier:3,description:"Leading African nation, stable and prosperous.",languages:["Afrikaans","Zulu","English"],adjectives:["Azanian"],effects:[{type:"SKILL_MOD",target:"Persuade",value:1}]},{code:"BR",name:"Brazil",tier:3,description:"Major South American power, expanding into space.",languages:["Portuguese"],adjectives:["Brazilian"],effects:[{type:"SKILL_MOD",target:"Athletics (any)",value:1}]},{code:"CA",name:"Canada",tier:3,description:"Prosperous North American nation with active space colonies.",languages:["English","French"],adjectives:["Canadian"]},{code:"IR",name:"Inca Republic",tier:3,description:"Union of Andean states.",languages:["Spanish","Quechua"],adjectives:["Incan"],effects:[{type:"SKILL_MOD",target:"Melee (Blade)",value:0}]},{code:"JP",name:"Japan",tier:3,description:"Economic powerhouse with significant orbital presence.",languages:["Japanese"],adjectives:["Japanese"],effects:[{type:"CUSTOM",customId:"JAPAN_BONUS",note:"Choice of EDU+1 or Commission"}]},{code:"MX",name:"Mexico",tier:3,description:"North American power with growing orbital industry.",languages:["Spanish"],adjectives:["Mexican"],effects:[{type:"SKILL_MOD",target:"Drive (any)",value:1}]},{code:"RU",name:"Russia",tier:3,description:"Successor state to the Soviet Union, technologically capable but politically unstable.",languages:["Russian"],adjectives:["Russian"],effects:[{type:"SKILL_MOD",target:"Heavy Weapons (any)",value:1}]},{code:"TX",name:"Texas",tier:3,description:"Independent republic, fiercely proud and autonomous.",languages:["English","Spanish"],adjectives:["Texan"],effects:[{type:"SKILL_MOD",target:"Gun Combat (Slug)",value:1}]},{code:"UA",name:"Ukraine",tier:3,description:"Independent Eastern European nation with space ambitions.",languages:["Ukrainian"],adjectives:["Ukrainian"],effects:[{type:"SKILL_MOD",target:"Streetwise",value:1}]},{code:"AB",name:"Arabia",tier:4,description:"Confederation of Arab states.",languages:["Arabic"],adjectives:["Arabian"]},{code:"ID",name:"Indonesia",tier:4,description:"Archipelagic nation.",languages:["Indonesian"],adjectives:["Indonesian"]},{code:"NG",name:"Nigeria",tier:4,description:"West African power.",languages:["English","Hausa","Yoruba"],adjectives:["Nigerian"]},{code:"UR",name:"UAR",tier:4,description:"United Arab Republic.",languages:["Arabic"],adjectives:["Arab"]},{code:"IN",name:"Independent",tier:6,description:"Unaffiliated or from a minor nation without a space program.",languages:["English"],adjectives:["Independent"]}];var T_=[{name:"Earth",uwp:"A867A69-F",gravity:1,gravityCode:"Normal",survivalDm:0,path:"Soft",nation:"Earth",tier:"Core",system:"Sol",techLevel:15},{name:"Tirane",uwp:"A867975-F",gravity:1,gravityCode:"Normal",survivalDm:0,path:"Soft",nation:"France",tier:"Core",system:"Alpha Centauri",techLevel:15},{name:"Aurore",uwp:"A483664-B",gravity:.47,gravityCode:"Low",survivalDm:-2,path:"Hard",nation:"France",tier:"Frontier",system:"Eta Bootis",techLevel:11,environment:["Frontier"]},{name:"Beta Canum",uwp:"A886885-C",gravity:.94,gravityCode:"Normal",survivalDm:-1,path:"Hard",nation:"France",tier:"Frontier",system:"Beta Canum Venaticorum",techLevel:12,environment:["Frontier"]},{name:"Europe Neuve",uwp:"A",gravity:1.05,gravityCode:"Normal",survivalDm:-2,path:"Soft",nation:"France",tier:"Frontier",system:"DM+4 123",techLevel:10,environment:["Frontier"]},{name:"Nous Voil\xE0",uwp:"A",gravity:1.05,gravityCode:"Normal",survivalDm:0,path:"Hard",nation:"France",tier:"Frontier",system:"DM+4 123",techLevel:9,environment:["Frontier"]},{name:"Serurier",uwp:"A",gravity:.21,gravityCode:"Low",survivalDm:0,path:"Hard",nation:"France",tier:"Frontier",system:"DM+4 123",techLevel:8,environment:["Frontier","Low-G"]},{name:"Ville de Glace",uwp:"A",gravity:.76,gravityCode:"Low",survivalDm:0,path:"Hard",nation:"France",tier:"Frontier",system:"DM+4 123",techLevel:9,environment:["Frontier","Cold"]},{name:"Ellis",uwp:"A755755-C",gravity:.92,gravityCode:"Normal",survivalDm:-1,path:"Soft",nation:"United States",tier:"Frontier",system:"Ellis",techLevel:12,environment:["Dry","Frontier"]},{name:"King (New Columbia)",uwp:"A540544-C",gravity:3.08,gravityCode:"Extreme",survivalDm:-3,path:"Soft",nation:"United States",tier:"Frontier",system:"King",techLevel:12,environment:["Heavy","Frontier"],effects:[{type:"CUSTOM",customId:"DNAM_KING_ULTRA",note:"King Ultra Genetic Package"}]},{name:"Hermes",uwp:"A",gravity:.73,gravityCode:"Low",survivalDm:-2,path:"Soft",nation:"United States",tier:"Frontier",system:"Hermes",techLevel:11,environment:["Cold","Frontier"]},{name:"Estaci\xF3n Escobar",uwp:"A",gravity:.97,gravityCode:"Normal",survivalDm:0,path:"Soft",nation:"Argentina",tier:"Frontier",system:"Omicron 2 Eridani",techLevel:10},{name:"Montana",uwp:"A",gravity:.99,gravityCode:"Normal",survivalDm:-1,path:"Soft",nation:"Argentina",tier:"Frontier",system:"Omicron 2 Eridani",techLevel:9},{name:"Botany Bay",uwp:"A",gravity:.87,gravityCode:"Normal",survivalDm:-1,path:"Soft",nation:"Australia",tier:"Frontier",system:"Delta Pavonis",techLevel:11,environment:["Frontier"]},{name:"Huntsland",uwp:"A",gravity:3.08,gravityCode:"Extreme",survivalDm:-3,path:"Soft",nation:"Australia",tier:"Frontier",system:"Delta Pavonis",techLevel:10,environment:["Heavy","Frontier"],effects:[{type:"CUSTOM",customId:"DNAM_KING_ULTRA",note:"King Ultra Genetic Package"}]},{name:"Kingsland",uwp:"A",gravity:1.07,gravityCode:"Normal",survivalDm:-1,path:"Soft",nation:"Australia",tier:"Frontier",system:"Delta Pavonis",techLevel:11,environment:["Frontier"]},{name:"Naragema",uwp:"A",gravity:1.02,gravityCode:"Normal",survivalDm:0,path:"Soft",nation:"Azania",tier:"Frontier",system:"Epsilon Indi",techLevel:10,environment:["Frontier"]},{name:"Lubumbashi",uwp:"A",gravity:1.02,gravityCode:"Normal",survivalDm:-1,path:"Soft",nation:"Azania",tier:"Frontier",system:"Epsilon Indi",techLevel:11,environment:["Frontier"]},{name:"Okavango",uwp:"A",gravity:.94,gravityCode:"Normal",survivalDm:-1,path:"Soft",nation:"Azania",tier:"Frontier",system:"Epsilon Indi",techLevel:10,environment:["Dry","Frontier"]},{name:"Eshari Station",uwp:"A",gravity:.69,gravityCode:"Low",survivalDm:0,path:"Hard",nation:"Brazil",tier:"Frontier",system:"Xi Ursae Majoris",techLevel:12},{name:"Paulo",uwp:"A",gravity:.99,gravityCode:"Normal",survivalDm:-1,path:"Hard",nation:"Brazil",tier:"Frontier",system:"Xi Ursae Majoris",techLevel:11},{name:"Alicia",uwp:"A765755-C",gravity:1.05,gravityCode:"Normal",survivalDm:-1,path:"Hard",nation:"United Kingdom",tier:"Frontier",system:"Chi Draconis",techLevel:12},{name:"New Africa",uwp:"A",gravity:.94,gravityCode:"Normal",survivalDm:-1,path:"Hard",nation:"United Kingdom",tier:"Frontier",system:"Chi Draconis",techLevel:10},{name:"Eriksson",uwp:"A",gravity:.93,gravityCode:"Normal",survivalDm:-1,path:"Hard",nation:"Canada",tier:"Frontier",system:"DM+4 123",techLevel:10},{name:"Kanata",uwp:"A",gravity:.87,gravityCode:"Normal",survivalDm:-1,path:"Hard",nation:"Canada",tier:"Frontier",system:"DM+4 123",techLevel:10},{name:"Adlerhorst",uwp:"A",gravity:1.05,gravityCode:"Normal",survivalDm:0,path:"Soft",nation:"Germany",tier:"Frontier",system:"Delta Pavonis",techLevel:11},{name:"Geroellblock",uwp:"A",gravity:.25,gravityCode:"Low",survivalDm:0,path:"Hard",nation:"Germany",tier:"Frontier",system:"Delta Pavonis",techLevel:12},{name:"Hunsr\xFCck",uwp:"A",gravity:.47,gravityCode:"Low",survivalDm:0,path:"Hard",nation:"Germany",tier:"Frontier",system:"Delta Pavonis",techLevel:10},{name:"Freihafen",uwp:"A",gravity:.94,gravityCode:"Normal",survivalDm:-1,path:"Hard",nation:"Germany",tier:"Frontier",system:"Delta Pavonis",techLevel:13},{name:"Pachamama",uwp:"A",gravity:.44,gravityCode:"Low",survivalDm:-1,path:"Hard",nation:"Inca Republic",tier:"Frontier",system:"DM+4 123",techLevel:10},{name:"Sechura",uwp:"A",gravity:1.25,gravityCode:"High",survivalDm:-1,path:"Hard",nation:"Inca Republic",tier:"Frontier",system:"DM+4 123",techLevel:9},{name:"Daikoku",uwp:"A",gravity:.66,gravityCode:"Low",survivalDm:-1,path:"Soft",nation:"Japan",tier:"Frontier",system:"Daikoku",techLevel:11},{name:"Shungen",uwp:"A",gravity:.76,gravityCode:"Low",survivalDm:0,path:"Hard",nation:"Japan",tier:"Frontier",system:"Daikoku",techLevel:10},{name:"Tosashimizu",uwp:"A",gravity:1.02,gravityCode:"Normal",survivalDm:-1,path:"Soft",nation:"Japan",tier:"Frontier",system:"Daikoku",techLevel:12},{name:"Chengdu",uwp:"A",gravity:.93,gravityCode:"Normal",survivalDm:-1,path:"Hard",nation:"Manchuria",tier:"Frontier",system:"Han Shan",techLevel:10,environment:["Frontier"]},{name:"Cold Mountain",uwp:"A",gravity:.83,gravityCode:"Normal",survivalDm:-3,path:"Hard",nation:"Manchuria",tier:"Frontier",system:"Han Shan",techLevel:9,environment:["Cold","Frontier"]},{name:"Dukou",uwp:"A",gravity:1.57,gravityCode:"High",survivalDm:-2,path:"Hard",nation:"Manchuria",tier:"Frontier",system:"Han Shan",techLevel:8,environment:["Cold","Heavy","Frontier"]},{name:"Fuyuan",uwp:"A",gravity:.71,gravityCode:"Low",survivalDm:0,path:"Hard",nation:"Manchuria",tier:"Frontier",system:"Han Shan",techLevel:10,environment:["Frontier"]},{name:"Han",uwp:"A",gravity:.92,gravityCode:"Normal",survivalDm:-1,path:"Hard",nation:"Manchuria",tier:"Frontier",system:"Han Shan",techLevel:11,environment:["Frontier"]},{name:"Kwantung",uwp:"A",gravity:.93,gravityCode:"Normal",survivalDm:0,path:"Hard",nation:"Manchuria",tier:"Frontier",system:"Han Shan",techLevel:12,environment:["Frontier"]},{name:"Azteca",uwp:"A",gravity:.93,gravityCode:"Normal",survivalDm:-1,path:"Hard",nation:"Mexico",tier:"Frontier",system:"DM+4 123",techLevel:10},{name:"Alamo",uwp:"A",gravity:.44,gravityCode:"Low",survivalDm:0,path:"Hard",nation:"Texas",tier:"Frontier",system:"Delta Pavonis",techLevel:11},{name:"New Austin",uwp:"A",gravity:1.25,gravityCode:"High",survivalDm:-2,path:"Hard",nation:"Texas",tier:"Frontier",system:"Delta Pavonis",techLevel:10},{name:"Teliha",uwp:"A",gravity:.33,gravityCode:"Low",survivalDm:0,path:"Hard",nation:"Ukraine",tier:"Frontier",system:"DM+4 123",techLevel:9},{name:"Tanstaafl",uwp:"A",gravity:.47,gravityCode:"Low",survivalDm:-2,path:"Hard",nation:"Independent",tier:"Frontier",system:"DM+4 123",techLevel:11},{name:"Elysia",uwp:"A",gravity:1.02,gravityCode:"Normal",survivalDm:0,path:"Soft",nation:"Independent",tier:"Frontier",system:"DM+4 123",techLevel:12},{name:"Kie-Yuma",uwp:"A",gravity:1.21,gravityCode:"High",survivalDm:-1,path:"Hard",nation:"Trilon Corp",tier:"Frontier",system:"DM+4 123",techLevel:13},{name:"Cousteau",uwp:"A",gravity:1.25,gravityCode:"High",survivalDm:-1,path:"Soft",nation:"Life Foundation",tier:"Frontier",system:"DM+4 123",techLevel:12}];var Rt=class n{request=N(null);promptForNpc(t){return new Promise(e=>{this.request.set({npc:E({id:crypto.randomUUID(),name:"",type:"contact",origin:"Event",notes:""},t),resolve:e})})}complete(t){let e=this.request();e&&(e.resolve(t),this.request.set(null))}cancel(){this.request.set(null)}static \u0275fac=function(e){return new(e||n)};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})};var gn={injuryTable:[{roll:1,name:"Nearly Killed",statLossFormula:"1D6 from one physical stat + 2 from each of the other two physical stats",description:"Nearly Killed: Reduce one physical char by 1d6, others by 2.",gameEvent:{id:"injury_1",type:"MISHAP",trigger:"LIFE_EVENT",ui:{title:"Nearly Killed",description:"You are nearly killed. You suffer permanent damage to your physical characteristics.",options:[{label:"Accept Fate",effects:[{type:"CUSTOM",customId:"INJURY_PROCESS",payload:{severity:1}}]}]}},effects:[{type:"CUSTOM",customId:"INJURY_PROCESS",payload:{severity:1}}]},{roll:2,name:"Severely Injured",statLossFormula:"1D6 from one physical stat (player choice)",description:"Severely Injured: Reduce one physical char by 1d6.",gameEvent:{id:"injury_2",type:"MISHAP",trigger:"LIFE_EVENT",ui:{title:"Severely Injured",description:"You are severely injured.",options:[{label:"Accept Fate",effects:[{type:"CUSTOM",customId:"INJURY_PROCESS",payload:{severity:2}}]}]}},effects:[{type:"CUSTOM",customId:"INJURY_PROCESS",payload:{severity:2}}]},{roll:3,name:"Missing Eye or Limb",statLossFormula:"STR or DEX -2 (permanent)",description:"Missing Eye or Limb: Reduce STR or DEX by 2.",gameEvent:{id:"injury_3",type:"MISHAP",trigger:"LIFE_EVENT",ui:{title:"Missing Eye or Limb",description:"You lose an eye or a limb.",options:[{label:"Reduce STR by 2",revealText:"Strength permanently reduced by 2. Represents loss of an arm or similar strength-affecting wound.",effects:[{type:"STAT_MOD",target:"STR",value:-2},{type:"CUSTOM",customId:"INJURY_PROCESS",payload:{severity:3,field:"STR"}}]},{label:"Reduce DEX by 2",revealText:"Dexterity permanently reduced by 2. Represents loss of a hand, eye, or fine motor function.",effects:[{type:"STAT_MOD",target:"DEX",value:-2},{type:"CUSTOM",customId:"INJURY_PROCESS",payload:{severity:3,field:"DEX"}}]}]}},effects:[{type:"CUSTOM",customId:"INJURY_PROCESS",payload:{severity:3}}]},{roll:4,name:"Scarred",statLossFormula:"Any one physical stat -2",description:"Scarred: Reduce any physical char by 2.",gameEvent:{id:"injury_4",type:"MISHAP",trigger:"LIFE_EVENT",ui:{title:"Scarred",description:"You suffer a scarring injury.",options:[{label:"Reduce STR by 2",revealText:"Strength permanently reduced by 2. Muscle or skeletal damage from the scarring trauma.",effects:[{type:"STAT_MOD",target:"STR",value:-2}]},{label:"Reduce DEX by 2",revealText:"Dexterity permanently reduced by 2. Nerve damage or loss of fine motor control.",effects:[{type:"STAT_MOD",target:"DEX",value:-2}]},{label:"Reduce END by 2",revealText:"Endurance permanently reduced by 2. Internal scarring or organ damage reduces your stamina.",effects:[{type:"STAT_MOD",target:"END",value:-2}]}]}},effects:[{type:"CUSTOM",customId:"INJURY_PROCESS",payload:{severity:4}}]},{roll:5,name:"Injured",statLossFormula:"Any one physical stat -1",description:"Injured: Reduce any physical char by 1.",gameEvent:{id:"injury_5",type:"MISHAP",trigger:"LIFE_EVENT",ui:{title:"Injured",description:"You are injured.",options:[{label:"Reduce STR by 1",revealText:"Strength permanently reduced by 1.",effects:[{type:"STAT_MOD",target:"STR",value:-1}]},{label:"Reduce DEX by 1",revealText:"Dexterity permanently reduced by 1.",effects:[{type:"STAT_MOD",target:"DEX",value:-1}]},{label:"Reduce END by 1",revealText:"Endurance permanently reduced by 1.",effects:[{type:"STAT_MOD",target:"END",value:-1}]}]}},effects:[{type:"CUSTOM",customId:"INJURY_PROCESS",payload:{severity:5}}]},{roll:6,name:"Lightly Injured",statLossFormula:"None",description:"Lightly Injured: No permanent effect.",gameEvent:{id:"injury_6",type:"INFO",trigger:"LIFE_EVENT",ui:{title:"Lightly Injured",description:"You sustain minor scrapes and bruises. No permanent damage is done.",options:[{label:"Full Recovery",effects:[{type:"LOG_ENTRY",note:"Lightly Injured. Full recovery."}]}]}},effects:[{type:"LOG_ENTRY",note:"Lightly Injured. Full recovery."}]}],lifeEventTable:[{roll:2,name:"Sickness/Injury",description:"Sickness or Injury: You are struck by a sudden illness or accident.",gameEvent:{id:"life_2",type:"MISHAP",trigger:"LIFE_EVENT",ui:{title:"Sickness or Injury",description:"You are struck by a sudden illness or accident.",options:[{label:"Check Severity",effects:[{type:"TRIGGER_EVENT",value:"injury_roll"}]}]}},effects:[{type:"ROLL_TABLE",dice:"1d6",table:[],note:"Rolling Injury Table..."}]},{roll:3,name:"Birth/Death",description:"Birth or Death: Someone close to you dies, or a new life enters your circle.",gameEvent:{id:"life_3",type:"CHOICE",trigger:"LIFE_EVENT",ui:{title:"Birth or Death",description:"A significant personal event touches your inner circle. What happened?",options:[{label:"A loved one has passed away",revealText:"Someone close to you has died. You grieve the loss and carry it with you.",effects:[{type:"LOG_ENTRY",note:"Life Event: A close relation has died. You carry the grief with you."}]},{label:"A child or relative is born",revealText:"A new life has entered your world. You gain an Ally \u2014 someone you will protect.",effects:[{type:"ADD_NPC",value:{type:"Ally",name:"Family Member",notes:"Born during your service"}},{type:"LOG_ENTRY",note:"Life Event: A child or relative was born. Gained an Ally."}]}]}},effects:[{type:"LOG_ENTRY",note:"Life Event: Birth or Death involves a close relation."}]},{roll:4,name:"Ending of Relationship",description:"Ending of Relationship: A romantic relationship ends badly.",gameEvent:{id:"life_4",type:"INFO",trigger:"LIFE_EVENT",ui:{title:"Ending of Relationship",description:"A romantic relationship ends badly, leaving you with a new adversary.",options:[{label:"Accept Fallout",effects:[{type:"ROLL_TABLE",dice:"1d2",table:[{roll:1,description:"Gained a Rival",effects:[{type:"ADD_NPC",value:{type:"Rival",name:"Ex-Partner"}}]},{roll:2,description:"Gained an Enemy",effects:[{type:"ADD_NPC",value:{type:"Enemy",name:"Ex-Partner"}}]}]}]}]}},effects:[{type:"LOG_ENTRY",note:"Life Event: Relationship ended badly."},{type:"ROLL_TABLE",dice:"1d2",table:[{roll:1,description:"Gained a Rival",effects:[{type:"ADD_NPC",value:{type:"Rival",name:"Ex-Partner"}}]},{roll:2,description:"Gained an Enemy",effects:[{type:"ADD_NPC",value:{type:"Enemy",name:"Ex-Partner"}}]}]}]},{roll:5,name:"Improved Relationship",description:"Improved Relationship: A relationship deepens (Marriage, close bond).",gameEvent:{id:"life_5",type:"REWARD",trigger:"LIFE_EVENT",ui:{title:"Improved Relationship",description:"A relationship deepens, providing you with a reliable ally.",options:[{label:"Deepen Bond",effects:[{type:"ADD_NPC",value:{type:"Ally",name:"Partner/Friend"}}]}]}},effects:[{type:"LOG_ENTRY",note:"Life Event: Relationship improved."},{type:"ADD_NPC",value:{type:"Ally",name:"Partner/Friend"}}]},{roll:6,name:"New Relationship",description:"New Relationship: You become involved in a new romantic relationship.",gameEvent:{id:"life_6",type:"REWARD",trigger:"LIFE_EVENT",ui:{title:"New Relationship",description:"You have become involved in a new romantic relationship. Despite the uncertainties of your life, this person has become important to you.",options:[{label:"Embrace the Relationship",revealText:"Your partner becomes an Ally \u2014 someone who supports you in difficult times.",effects:[{type:"ADD_NPC",value:{type:"Ally",name:"New Partner",notes:"Romantic partner met during service"}},{type:"LOG_ENTRY",note:"Life Event: New romantic relationship. Gained an Ally."}]}]}},effects:[{type:"LOG_ENTRY",note:"Life Event: New romantic relationship."},{type:"ADD_NPC",value:{type:"Ally",name:"New Partner"}}]},{roll:7,name:"New Contact",description:"New Contact: You gain a new contact outside of your career.",gameEvent:{id:"life_7",type:"REWARD",trigger:"LIFE_EVENT",ui:{title:"New Contact",description:"You have met someone interesting outside of your career \u2014 a person with their own network, skills, and connections who may prove useful in the future.",options:[{label:"Note the Contact",revealText:"This person becomes a Contact in your network.",effects:[{type:"ADD_NPC",value:{type:"Contact",name:"New Contact",notes:"Met outside of career"}},{type:"LOG_ENTRY",note:"Life Event: Gained a new Contact outside of career."}]}]}},effects:[{type:"LOG_ENTRY",note:"Life Event: Gained a new contact."},{type:"ADD_NPC",value:{type:"Contact",name:"New Contact"}}]},{roll:8,name:"Betrayal",description:"Betrayal: You have been betrayed by a friend or colleague.",gameEvent:{id:"life_8",type:"MISHAP",trigger:"LIFE_EVENT",ui:{title:"Betrayal",description:"Someone you trusted has turned against you \u2014 selling your secrets, abandoning you at a critical moment, or actively working to undermine you.",options:[{label:"Confront the Betrayal",revealText:"An existing Contact or Ally becomes a Rival. If you have no one to betray you, a new Enemy appears.",effects:[{type:"CUSTOM",customId:"BETRAYAL_LOGIC",payload:{}}]}]}},effects:[{type:"LOG_ENTRY",note:"Life Event: Betrayed by a contact/ally."},{type:"CUSTOM",customId:"BETRAYAL_LOGIC",payload:{}}]},{roll:9,name:"Travel",description:"Travel: You move to another world.",effects:[{type:"LOG_ENTRY",note:"Life Event: Moved to a new world. (+2 to next Qualification)."},{type:"RESOURCE_MOD",target:"next_qualification_dm",value:2,duration:"term"}]},{roll:10,name:"Good Fortune",description:"Good Fortune: Something good happens to you.",effects:[{type:"LOG_ENTRY",note:"Life Event: Good Fortune. (+2 to one Benefit Roll)."},{type:"RESOURCE_MOD",target:"next_benefit_dm",value:2}]},{roll:11,name:"Crime",description:"Crime: You are the victim of a crime or accused of one.",effects:[{type:"LOG_ENTRY",note:"Life Event: Involved in a crime."},{type:"ROLL_TABLE",dice:"1d2",table:[{roll:1,description:"Lose 1 Benefit Roll",effects:[{type:"RESOURCE_MOD",target:"benefit_rolls",value:-1}]},{roll:2,description:"Forced into Prisoner Career (Next Term)",effects:[{type:"FORCE_CAREER",value:"Prisoner"}]}]}]},{roll:12,name:"Unusual Event",description:"Unusual Event: Something strange happens.",effects:[{type:"ROLL_TABLE",dice:"1d6",table:[]}]}],educationEventTable:[{roll:2,desc:"Psionic Contact. Potential for Psion career unlocked.",effectId:"PSIONIC_CONTACT"},{roll:3,desc:"Tragedy. Graduation failed. Education terminated.",effectId:"TRAGEDY"},{roll:4,desc:"Prank Gone Wrong. Success: Rival. Fail: Enemy. Fail Cr\xEDtica (2): Expelled.",effectId:"PRANK"},{roll:5,desc:"Partying. Gain Carouse (Level 1).",stat:"Carouse",value:1},{roll:6,desc:"Friends. Gain 1D3 Allies.",effectId:"FRIENDS"},{roll:7,desc:"Life Event.",isLifeEvent:!0},{roll:8,desc:"Political Movement. Success: 1 Ally, 1 Enemy. Fail: No effect.",effectId:"POLITICS"},{roll:9,desc:"Hobby. Gain any skill at Level 0 (except Jack-of-all-Trades).",effectId:"HOBBY"},{roll:10,desc:"Interests from Tutor. Roll Skill 9+ for +1 Level and Rival.",effectId:"TUTOR"},{roll:11,desc:"War/Draft. Participation required unless SOC 9+.",effectId:"WAR"},{roll:12,desc:"Recognition. SOC +1.",stat:"SOC",value:1}],musteringOutBenefits:{"INT +1":[{type:"STAT_MOD",target:"INT",value:1}],"EDU +1":[{type:"STAT_MOD",target:"EDU",value:1}],"SOC +1":[{type:"STAT_MOD",target:"SOC",value:1}],"DEX +1":[{type:"STAT_MOD",target:"DEX",value:1}],"STR +1":[{type:"STAT_MOD",target:"STR",value:1}],"END +1":[{type:"STAT_MOD",target:"END",value:1}],"Ship Share":[{type:"RESOURCE_MOD",target:"shipShares",value:1}],"Two Ship Shares":[{type:"RESOURCE_MOD",target:"shipShares",value:2}],"TAS Membership":[{type:"RESOURCE_MOD",target:"shipShares",value:1},{type:"LOG_ENTRY",note:"TAS Membership converted to +1 Ship Share (2300AD Rule)."}],Weapon:[{type:"CUSTOM",customId:"AWARD_WEAPON"}],Armour:[{type:"CUSTOM",customId:"AWARD_ARMOR"}],Vehicle:[{type:"CUSTOM",customId:"AWARD_VEHICLE"}],Contact:[{type:"CUSTOM",customId:"AWARD_NPC",payload:{type:"Contact"}}],Ally:[{type:"CUSTOM",customId:"AWARD_NPC",payload:{type:"Ally"}}],Rival:[{type:"CUSTOM",customId:"AWARD_NPC",payload:{type:"Rival"}}],"Combat Implant":[{type:"ADD_ITEM",value:"Combat Implant (TL 12)"}],"Scientific Equipment":[{type:"ADD_ITEM",value:"Scientific Equipment (TL 10+)"}],Yacht:[{type:"ADD_ITEM",value:"Yacht (Noble Benefit)",note:"A personal luxury starship is at your disposal."}],"Free Trader":[{type:"RESOURCE_MOD",target:"shipShares",value:2},{type:"LOG_ENTRY",note:"Free Trader benefit: Gained 2 Ship Shares."}],"Lab Ship":[{type:"ADD_ITEM",value:"Lab Ship Voucher",note:"Provides access to a research vessel."}]},unusualEventTable:[{roll:1,description:"Psionics",gameEvent:{id:"unusual_1",type:"INFO",trigger:"LIFE_EVENT",ui:{title:"Unusual Event: Psionics",description:"You encounter a psionic training institute operating outside official channels. Latent abilities may be lying dormant within you.",options:[{label:"Accept Testing",revealText:"Your psionic potential flag will be set. This may unlock special options later in character creation.",effects:[{type:"CUSTOM",customId:"PSIONIC_CONTACT"},{type:"LOG_ENTRY",note:"Unusual Event: Psionic potential discovered."}]}]}},effects:[{type:"CUSTOM",customId:"PSIONIC_CONTACT"},{type:"LOG_ENTRY",note:"Unusual Event: Potencial psi\xF4nico latente descoberto."}]},{roll:2,description:"Aliens",gameEvent:{id:"unusual_2",type:"REWARD",trigger:"LIFE_EVENT",ui:{title:"Unusual Event: Aliens",description:"You spend an extended period living and working among a non-human species. The experience is disorienting but deeply enlightening.",options:[{label:"Embrace the Experience",revealText:"Gain Science 1 and an alien Contact.",effects:[{type:"SKILL_MOD",target:"Science",value:1},{type:"ADD_NPC",value:{type:"Contact",name:"Alien Acquaintance",notes:"Non-human contact from unusual encounter"}},{type:"LOG_ENTRY",note:"Unusual Event: Lived among aliens. Gained Science 1 and an alien Contact."}]}]}},effects:[{type:"SKILL_MOD",target:"Science",value:1},{type:"ADD_NPC",value:{type:"contact",note:"Alien Contact"}},{type:"LOG_ENTRY",note:"Unusual Event: Passou um per\xEDodo entre uma esp\xE9cie alien\xEDgena. Ganha Science 1 e um Contact alien\xEDgena."}]},{roll:3,description:"Alien Artefact",gameEvent:{id:"unusual_3",type:"REWARD",trigger:"LIFE_EVENT",ui:{title:"Unusual Event: Alien Artefact",description:"You come into possession of a strange, ancient object clearly not of human origin. It is not available on any known market and its purpose is unclear.",options:[{label:"Keep the Artefact",revealText:"The artefact is added to your equipment. Its true value or function is unknown.",effects:[{type:"ADD_ITEM",value:"Alien Artefact (origin unknown)"},{type:"LOG_ENTRY",note:"Unusual Event: Found a strange alien artefact."}]}]}},effects:[{type:"LOG_ENTRY",note:"Unusual Event: Encontrou um artefato alien\xEDgena."}]},{roll:4,description:"Amnesia",gameEvent:{id:"unusual_4",type:"MISHAP",trigger:"LIFE_EVENT",ui:{title:"Unusual Event: Amnesia",description:"Something happened \u2014 but you don't know what. There is a gap in your memory, a period you cannot account for. Perhaps it was an accident. Perhaps someone wanted it that way.",options:[{label:"Accept the Gap",revealText:"No mechanical penalty. The event is recorded in your history as an unexplained gap.",effects:[{type:"LOG_ENTRY",note:"Unusual Event: Amnesia \u2014 an unexplained gap in your memory. Something happened, but you don't know what."}]}]}},effects:[{type:"LOG_ENTRY",note:"Unusual Event: Algo aconteceu, mas voc\xEA n\xE3o sabe o qu\xEA. H\xE1 uma lacuna em sua mem\xF3ria."}]},{roll:5,description:"Contact with Government",gameEvent:{id:"unusual_5",type:"REWARD",trigger:"LIFE_EVENT",ui:{title:"Unusual Event: Government Contact",description:"Through an unlikely sequence of events, you have a brief but meaningful interaction with someone at the highest levels of government \u2014 an Archduke, an Imperial intelligence officer, or perhaps someone even higher.",options:[{label:"Make the Connection",revealText:"Gain a high-tier government Contact. This connection may prove extremely valuable \u2014 or extremely dangerous.",effects:[{type:"ADD_NPC",value:{type:"Contact",name:"Government Official",notes:"High-ranking government contact from unusual encounter"}},{type:"LOG_ENTRY",note:"Unusual Event: Gained a high-ranking government Contact."}]}]}},effects:[{type:"ADD_NPC",value:{type:"contact",note:"Contato Imperial de alto escal\xE3o"}},{type:"LOG_ENTRY",note:"Unusual Event: Breve contato com os mais altos escal\xF5es do governo."}]},{roll:6,description:"Ancient Technology",gameEvent:{id:"unusual_6",type:"REWARD",trigger:"LIFE_EVENT",ui:{title:"Unusual Event: Ancient Technology",description:"You encounter something older than the Imperium \u2014 older, perhaps, than humanity itself. Its purpose is unclear. Its power, undeniable.",options:[{label:"Take It",revealText:"The ancient device is added to your equipment. What it does, and who might want it, remains to be discovered.",effects:[{type:"ADD_ITEM",value:"Ancient Technology (pre-human origin)"},{type:"LOG_ENTRY",note:"Unusual Event: Found something older than humanity."}]}]}},effects:[{type:"LOG_ENTRY",note:"Unusual Event: Encontrou algo mais antigo que o Imp\xE9rio."}]}],medicalBills:[{category:"military",careers:["Army","Navy","Marine"],below4:0,range4to7:75,range8to11:100,above12:100},{category:"independent",careers:["Scout","Rogue","Drifter","Spaceborne"],below4:0,range4to7:0,range8to11:50,above12:75},{category:"other",careers:["Citizen","Merchant","Entertainer","Noble","Scholar","Agent"],below4:0,range4to7:50,range8to11:75,above12:100}],medicalCosts:{RESTORE_PER_POINT:5e3}};var va=gn.injuryTable,sP=gn.unusualEventTable,kj=gn.medicalBills,Aj=gn.medicalCosts,Tf=JSON.parse(JSON.stringify(gn.lifeEventTable)),Qc=Tf.find(n=>n.roll===2);Qc&&Qc.effects&&Qc.effects[0]&&(Qc.effects[0].table=va);var Zc=Tf.find(n=>n.roll===12);Zc&&Zc.effects&&Zc.effects[0]&&(Zc.effects[0].table=sP);var _a=Tf;function k_(){return{id:"life_event_roll",type:"INFO",trigger:"LIFE_EVENT",ui:{title:"Life Event Check",description:"Significant events occurring outside of your professional life.",options:[{label:"Roll Life Event (2d6)",effects:[{type:"ROLL_TABLE",dice:"2d6",table:_a}]}]}}}function A_(){return{id:"injury_roll",type:"INFO",trigger:"LIFE_EVENT",ui:{title:"Injury Check",description:"Determine the severity of your injury.",options:[{label:"Roll Injury Table (1d6)",effects:[{type:"ROLL_TABLE",dice:"1d6",table:va}]}]}}}function R_(){return{id:"injury_roll_worst_of_2",type:"INFO",trigger:"MISHAP",ui:{title:"Severe Injury Check",description:"You are severely injured. Roll the Injury table twice and take the lower (worse) result.",options:[{label:"Roll Injury Table Twice (1d6)",effects:[{type:"ROLL_TABLE",dice:"1d6",table:va,rollCount:2,takeWorst:!0}]}]}}}function N_(n,t){return{id:`injury_resolution_${Date.now()}`,type:"CHOICE",trigger:"MISHAP",ui:{title:"Injury Resolution",description:`You have suffered an injury (Severity ${n}). You must decide how to proceed.`,options:[{label:"Medical Care (Incur Debt)",effects:[{type:"CUSTOM",customId:"APPLY_INJURY_DAMAGE",payload:{severity:n,method:"debt"}}]},{label:"Cybernetic Augmentation (Loss of Benefit Roll)",effects:[{type:"CUSTOM",customId:"APPLY_INJURY_DAMAGE",payload:{severity:n,method:"augment"}}]}]}}}var Xc=class n{handledTypes=new Set(["STAT_MOD","SKILL_MOD","TRAIT_GAIN","LOG_ENTRY"]);canHandle(t){return this.handledTypes.has(t)}async handle(t,e){switch(t.type){case"STAT_MOD":t.target&&t.value&&e.characterService.modifyStat(t.target,t.value);break;case"SKILL_MOD":t.target&&t.value&&e.characterService.addSkill(t.target,t.value);break;case"TRAIT_GAIN":if(t.note||t.value){let i=t.value||t.note;e.characterService.addTrait(i)}break;case"LOG_ENTRY":t.note&&(e.characterService.log(t.note),console.log("Logged entry:",t.note));break}}static \u0275fac=function(e){return new(e||n)};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})};var el=class n{handledTypes=new Set(["ADD_ITEM","RESOURCE_MOD","ADD_NPC","LOSE_BENEFIT"]);canHandle(t){return this.handledTypes.has(t)}async handle(t,e){switch(t.type){case"ADD_ITEM":t.value&&e.characterService.addItem(t.value);break;case"RESOURCE_MOD":if(t.target==="benefit_rolls"){let i=e.characterService.currentCareer()||"General";t.value>0?e.characterService.addBenefitRoll(i,t.value):e.characterService.spendBenefitRoll(i,Math.abs(t.value))}else if(t.target==="next_qualification_dm")e.characterService.updateDm("qualification",t.value);else if(t.target==="next_advancement_dm"||t.target==="nextAdvancementModifier")e.characterService.updateDm("advancement",t.value);else if(t.target==="shipShares"){let i=e.characterService.character().finances.shipShares||0;e.characterService.updateFinances({shipShares:i+t.value}),e.characterService.log(`**Benefit Gained**: +${t.value} Ship Share(s).`)}else t.target==="next_benefit_dm"?(e.characterService.updateDm("benefit",t.value),e.characterService.log(`**Bonus**: +${t.value} DM to next Benefit Roll.`)):t.target==="paroleThreshold"&&e.characterService.updateParoleThreshold(t.value);break;case"LOSE_BENEFIT":{let i=e.characterService.currentCareer()||"General",r=t.value??1;e.characterService.spendBenefitRoll(i,Math.abs(r)),e.characterService.log(`**Penalty**: Lost ${Math.abs(r)} Benefit Roll(s).`);break}case"ADD_NPC":if(t.value){let i=t.value,r=i.count||"1",o=e.eventEngine.rollValue(r);for(let a=0;a<o;a++){let l=await e.npcService.promptForNpc({role:i.role||"Contact",name:i.name||void 0,notes:i.notes||"Gained via Event"});l&&(e.characterService.addNpc(l),e.characterService.log(`**New Contact**: Added ${l.role} named ${l.name}.`))}}break}}static \u0275fac=function(e){return new(e||n)};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})};var tl=class n{handledTypes=new Set(["FORCE_CAREER","EJECT_CAREER","PROMOTION"]);canHandle(t){return this.handledTypes.has(t)}async handle(t,e){switch(t.type){case"FORCE_CAREER":t.value&&(e.characterService.setNextCareer(t.value),e.characterService.log(`**Forced Career**: Next career must be ${t.value}.`));break;case"EJECT_CAREER":if(t.value)e.characterService.ejectCareer(t.value);else{let r=e.characterService.currentCareer();r&&e.characterService.ejectCareer(r)}break;case"PROMOTION":let i=t.career||e.characterService.character().careerHistory[e.characterService.character().careerHistory.length-1]?.careerName;if(i){e.characterService.promote(i),e.characterService.log(`**Automatic Promotion**: Elevated to higher rank in ${i}.`);let r=e.characterService.character(),o=r.careerHistory[r.careerHistory.length-1];o&&e.eventEngine.checkRankBonuses(i,o.assignment||"",o.rank)}break}}static \u0275fac=function(e){return new(e||n)};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})};function L_(n,t,e){return{id:`survival_${n}_${Date.now()}`,type:"CHECK",trigger:"DURING_CAREER_TERM",ui:{title:`Survival Check: ${n}`,description:`You must make a ${t} check (${e}+) to survive this term. Roll the dice to continue.`,options:[{label:`Roll ${t} ${e}+`,effects:[{type:"ROLL_CHECK",stat:t,checkTarget:e,isSurvivalCheck:!0,onPass:"term_event_roll",onFail:"mishap_roll",phase:`SURVIVAL CHECK \xB7 ${n.toUpperCase()}`,announcement:`This term as a ${n} puts your life at risk. You must roll ${t} ${e}+ (2D6 + ${t} modifier) to come through unscathed.`,successContext:"You survive the term. A Life Event occurred during your service \u2014 roll the Event table next.",failureContext:"Mishap! You suffered an accident or injury. You must consult the Mishap table and may be forced out of the service."}]}]}}}function kf(n,t,e=!0){let i=[{type:"ROLL_TABLE",table:t,dice:"1d6"}];return e&&i.push({type:"EJECT_CAREER",value:n}),{id:"mishap_roll",type:"DISASTER",trigger:"MISHAP",ui:{title:"Mishap!",description:"You have failed your survival check. You will lose your position in this career. Roll on the Mishap table.",options:[{label:"Roll Mishap Table (1d6)",effects:i}]}}}function Af(n,t){return{id:"term_event_roll",type:"INFO",trigger:"DURING_CAREER_TERM",ui:{title:"Term Event",description:"You have survived the term. Roll to see what significant event occurs.",options:[{label:"Roll Event Table (2d6)",effects:[{type:"ROLL_TABLE",table:t,dice:"2d6"}]}]}}}var F_={id:"prosthetic_choice",type:"CHOICE",trigger:"DURING_CAREER_TERM",ui:{title:"Rule 245: Survival Close Call",description:"Your survival check was exactly equal to the target. In 2300AD, this indicates a close call where you may have lost a limb or eye, which has been replaced by a cosmetic prosthetic. Do you wish to gain a prosthetic?",options:[{label:"Gain Prosthetic Limb",revealText:"A cosmetic prosthetic arm or leg is fitted. You gain the item 'Prosthetic Limb (Cosmetic)' on your equipment list. No stat penalties.",effects:[{type:"ADD_ITEM",value:"Prosthetic Limb (Cosmetic)"},{type:"LOG_ENTRY",note:"**Rule 245**: Gained prosthetic limb after close call."}]},{label:"Gain Prosthetic Eye(s)",revealText:"A cosmetic prosthetic eye is fitted. You gain the item 'Prosthetic Eye(s) (Cosmetic)'. No stat penalties.",effects:[{type:"ADD_ITEM",value:"Prosthetic Eye(s) (Cosmetic)"},{type:"LOG_ENTRY",note:"**Rule 245**: Gained prosthetic eye(s) after close call."}]},{label:"Decline",revealText:"You decline the prosthetic. No item is added, but your record notes the close call.",effects:[{type:"LOG_ENTRY",note:"**Rule 245**: Declined prosthetic after close call."}]}]}};var nl=class n{handledTypes=new Set(["ROLL_CHECK","ROLL_TABLE"]);canHandle(t){return this.handledTypes.has(t)}async handle(t,e){switch(t.type){case"ROLL_CHECK":if(t.stat&&t.checkTarget){let i=e.characterService.character(),r=t.stat.toLowerCase(),o=0,a=`${t.stat} Check ${t.checkTarget}+`;if(i.characteristics[r]){let m=i.characteristics[r];o=m.modifier??e.eventEngine.diceService.getModifier(m.value)}else o=e.characterService.getSkillLevel(t.stat),a=`${t.stat} Skill Check ${t.checkTarget}+`;let l=t.dm||0,u={phase:t.phase,announcement:t.announcement,successContext:t.successContext,failureContext:t.failureContext},f=[];o!==0&&f.push({label:`${t.stat} Modifier`,value:o}),l!==0&&f.push({label:t.dmLabel||"Path/Event DM",value:l});let g=await e.diceDisplay.roll(a,2,o+l,t.checkTarget,void 0,void 0,f,void 0,u);if(g>=t.checkTarget)if(t.isSurvivalCheck&&g===t.checkTarget){let m=E({},F_);if(m.id=`prosthetic_choice_${Date.now()}`,m.ui.options&&(m.ui.options=m.ui.options.map(_=>E({},_))),typeof t.onPass=="string"){let _=t.onPass;m.ui.options.forEach(y=>{y.nextEventId=_,y.replaceNext=!0})}e.eventEngine.registerEvent(m),e.eventEngine.triggerEvent(m.id,!0)}else t.onPass&&(Array.isArray(t.onPass)?e.eventEngine.applyEffects(t.onPass):e.eventEngine.triggerEvent(t.onPass,!0));else t.onFail&&(Array.isArray(t.onFail)?e.eventEngine.applyEffects(t.onFail):e.eventEngine.triggerEvent(t.onFail,!0))}break;case"ROLL_TABLE":if(t.table){let i=t.dice||"2d6",r=i.startsWith("1")?1:2,o=i==="d66",a=t.dm||0,l=t.rollCount||1,u=t.takeWorst||!1,f=0;if(l>1&&u){let m=[];for(let _=0;_<l;_++){let y=await e.diceDisplay.roll(o?"D66 Event Roll":`Event Roll (${i}) - Roll ${_+1} of ${l}`,r,a,0,void 0,void 0,[],t.table);m.push(o?y:y+a)}f=Math.min(...m)}else{let m=await e.diceDisplay.roll(o?"D66 Event Roll":`Event Roll (${i})`,r,a,0,void 0,void 0,[],t.table);f=o?m:m+a}let g=t.table.find(m=>m.roll===f);if(g)if(console.log("Table Result:",g),g.gameEvent)g.subEvents&&g.subEvents.forEach(m=>e.eventEngine.registerEvent(m)),e.eventEngine.registerEvent(g.gameEvent),e.eventEngine.triggerEvent(g.gameEvent.id,!0);else{let m=e.eventEngine.createDynamicEvent("Event Result",g.description||"Event occurring...",g.effects);e.eventEngine.triggerEvent(m,!0)}else console.warn("Roll result not found in table:",f)}break}}static \u0275fac=function(e){return new(e||n)};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})};var il=class n{handledTypes=new Set(["CUSTOM","TRIGGER_EVENT"]);canHandle(t){return this.handledTypes.has(t)}async handle(t,e){switch(t.type){case"CUSTOM":t.customId&&e.eventEngine.executeCustomHandler(t.customId,t.payload);break;case"TRIGGER_EVENT":t.value&&e.eventEngine.triggerEvent(t.value,!0);break}}static \u0275fac=function(e){return new(e||n)};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})};var ii=class n{characterService=C(de);diceService=C(Ye);diceDisplay=C(Ke);npcInteractionService=C(Rt);careerService=C(ti);handlers=[C(Xc),C(el),C(tl),C(nl),C(il)];eventRegistry=new Map;currentEvent=N(null);eventStack=N([]);customHandlers=new Map;constructor(){}registerEvent(t){this.eventRegistry.set(t.id,t)}getEvent(t){return this.eventRegistry.get(t)}registerCustomHandler(t,e){this.customHandlers.set(t,e)}executeCustomHandler(t,e){let i=this.customHandlers.get(t);i?(i(e),console.log("Processed Custom Effect:",t)):console.warn(`Custom handler not found for: ${t}`)}checkRankBonuses(t,e,i){let r=this.careerService.getCareer(t);if(!r)return;let o=r.assignments.find(l=>l.name===e);if(!o)return;let a=o.ranks.find(l=>l.level===i);if(a&&a.bonusSkill){let l=typeof a.bonusValue=="string"?1:a.bonusValue||1;if(a.bonusSkill.includes("SOC")){let u=parseInt(String(a.bonusValue).replace("+",""))||1;this.characterService.modifyStat("SOC",u),this.characterService.log(`**Rank Bonus**: Gained SOC +${u} for reaching Level ${i} (${a.title})`)}else this.characterService.addSkill(a.bonusSkill,l),this.characterService.log(`**Rank Bonus**: Gained ${a.bonusSkill} ${l} for reaching Level ${i} (${a.title})`)}}triggerEvent(t,e=!1){let i=this.eventRegistry.get(t);i?this.checkConditions(i.conditions)?(e&&this.popEvent(),this.pushEvent(t),this.currentEvent.set(i),console.log(`Event triggered: ${i.ui.title} (${t})`)):console.warn(`Condition check failed for event: ${t}`):console.error(`Event not found: ${t}`)}async selectOption(t){let e=this.currentEvent()?.id,i=this.currentEvent();if(!i)return;let r=i.ui.options[t];if(r&&(console.log(`Option selected: ${r.label}`),r.effects&&await this.applyEffects(r.effects),this.currentEvent()?.id===e))if(r.nextEventId)this.triggerEvent(r.nextEventId,!!r.replaceNext);else if(i.nextEventId)this.triggerEvent(i.nextEventId);else{this.popEvent();let o=this.eventStack();if(o.length>0){let a=o[o.length-1],l=this.eventRegistry.get(a);l?(this.currentEvent.set(l),console.log(`Returning to event: ${l.ui.title}`)):this.currentEvent.set(null)}else this.currentEvent.set(null)}}pushEvent(t){this.eventStack.update(e=>[...e,t])}popEvent(){this.eventStack.update(t=>{let e=[...t];return e.pop(),e})}checkConditions(t){if(!t)return!0;let e=this.characterService.character();if(t.minAge&&e.age<t.minAge)return!1;if(t.stats){for(let[i,r]of Object.entries(t.stats))if(e.characteristics[i.toLowerCase()]?.value<r)return!1}return!(t.customCheck&&!t.customCheck(e))}async applyEffects(t){console.log("Applying effects (Strategy):",t);let e={characterService:this.characterService,diceDisplay:this.diceDisplay,eventEngine:this,npcService:this.npcInteractionService};for(let i of t){let r=!1;for(let o of this.handlers)if(o.canHandle(i.type)){await o.handle(i,e),r=!0;break}r||console.warn(`No handler found for effect type: ${i.type}`,i)}}mapLegacyEffects(t){if(!t)return[];let e=[];return t.forEach(i=>{switch(i.type){case"benefit-mod":e.push({type:"RESOURCE_MOD",target:"benefit_rolls",value:i.value||1});break;case"advancement-dm":e.push({type:"RESOURCE_MOD",target:"next_advancement_dm",value:i.value||1});break;case"qualification-dm":e.push({type:"RESOURCE_MOD",target:"next_qualification_dm",value:i.value||1});break;case"mishap":e.push({type:"TRIGGER_EVENT",value:"mishap_roll"});break;case"injury":e.push({type:"ROLL_TABLE",dice:"1d6",table:va,note:"Injury Table Roll"});break;case"life-event":e.push({type:"ROLL_TABLE",dice:"2d6",table:_a,note:"Life Event Table Roll"});break;case"stat-bonus":e.push({type:"STAT_MOD",target:i.stat,value:i.value});break;case"trait-gain":e.push({type:"TRAIT_GAIN",value:i.note||"New Trait"});break;case"skill-gain":e.push({type:"SKILL_MOD",target:i.skill,value:i.value||1});break;case"neural-jack":e.push({type:"TRIGGER_EVENT",value:"neural_jack_install"});break;case"skill-choice":let r=`dyn_skill_choice_${Date.now()}_${Math.random()}`;this.registerEvent({id:r,type:"CHOICE",trigger:"DURING_CAREER_TERM",ui:{title:"Skill Choice",description:"Choose a skill to gain:",options:(i.skills||[]).map(u=>({label:u,effects:[{type:"SKILL_MOD",target:u,value:1}]}))}}),e.push({type:"TRIGGER_EVENT",value:r});break;case"skill-check":let o=this.createDynamicEvent("Success","Checks Passed!",i.onSuccess),a=this.createDynamicEvent("Failure","Checks Failed.",i.onFailure),l=i.checkSkills&&i.checkSkills[0]?i.checkSkills[0]:"INT";e.push({type:"ROLL_CHECK",stat:l,checkTarget:i.target,onPass:o,onFail:a});break;case"choice":e.push({type:"LOG_ENTRY",note:`Manual Choice Required: ${i.note}`});break;default:e.push({type:"LOG_ENTRY",note:`Legacy Effect: ${i.type} (${i.note||""})`})}}),e}createDynamicEvent(t,e,i,r){let o=`dyn_${Date.now()}_${Math.floor(Math.random()*1e4)}`,a=r;a||(a=[{label:"Continue",effects:i?this.mapLegacyEffects(i):[]}]);let l={id:o,type:a.length>1?"CHOICE":"INFO",trigger:"DURING_CAREER_TERM",ui:{title:t,description:e,options:a}};return this.registerEvent(l),o}rollValue(t){if(typeof t=="number")return t;if(!t)return 0;if(String(t).toLowerCase().includes("d")){let e=String(t).toLowerCase().match(/(\d*)d(\d+)([+-]\d+)?/);if(e){let i=e[1]?parseInt(e[1]):1,r=parseInt(e[2]),o=e[3]?parseInt(e[3]):0;return this.diceService.roll(i,r).total+o}}return parseInt(String(t))||0}static \u0275fac=function(e){return new(e||n)};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})};var cP=["originTypeSection"],lP=["homeworldSection"],dP=["skillsSection"],uP=()=>["Human (Cold-Adapted)","Human (Dry-Worlder)"];function pP(n,t){if(n&1&&(s(0,"div",45)(1,"span"),d(2,"\u26A0"),c(),d(3),c()),n&2){let e=h(2).$implicit,i=h();p(3),w(" ",i.getIncompatibilityReason("Nationality",e)," ")}}function fP(n,t){if(n&1&&(s(0,"div",42)(1,"p",43),d(2),c(),b(3,pP,4,1,"div",44),c()),n&2){let e=h().$implicit,i=h();p(2),x(e.description),p(),v("ngIf",!i.isNationalityAvailable(e))}}function gP(n,t){if(n&1){let e=T();s(0,"div",33),O("click",function(){let r=S(e).$implicit,o=h();return P(o.isNationalityAvailable(r)&&o.selectNationality(r))}),s(1,"div",34)(2,"span",35),d(3),ie(4,"number"),c(),M(5,"span",36),s(6,"span",37),d(7),c(),s(8,"span",38),d(9),c(),s(10,"span",39),d(11),c(),s(12,"span",40),d(13,"\u25B8"),c()(),b(14,fP,4,2,"div",41),c()}if(n&2){let e=t.$implicit,i=t.index,r=h();I("dr-sel",(r.selectedNationality==null?null:r.selectedNationality.name)===e.name)("dr-lock",!r.isNationalityAvailable(e)),p(3),x(Dt(4,19,i+1,"2.0-0")),p(2),I("led-on",(r.selectedNationality==null?null:r.selectedNationality.name)===e.name)("led-lock",!r.isNationalityAvailable(e)),p(2),x(e.name),p(2),x(e.tier===1?"SUPERPOWER":"TIER_"+e.tier),p(),I("st-sel",(r.selectedNationality==null?null:r.selectedNationality.name)===e.name)("st-lock",!r.isNationalityAvailable(e)),p(),w(" ",r.isNationalityAvailable(e)?(r.selectedNationality==null?null:r.selectedNationality.name)===e.name?"SELECTED":"AVAILABLE":"RESTRICTED"," "),p(),I("open",(r.selectedNationality==null?null:r.selectedNationality.name)===e.name),p(2),v("ngIf",(r.selectedNationality==null?null:r.selectedNationality.name)===e.name)}}function mP(n,t){if(n&1&&(s(0,"div",51),d(1),c()),n&2){let e=h(2);p(),w(" ",e.getIncompatibilityReason("OriginType","Core")," ")}}function hP(n,t){if(n&1&&(s(0,"div",51),d(1),c()),n&2){let e=h(2);p(),w(" ",e.getIncompatibilityReason("OriginType","Frontier")," ")}}function vP(n,t){if(n&1&&(s(0,"div",51),d(1),c()),n&2){let e=h(2);p(),w(" ",e.getIncompatibilityReason("OriginType","Spacer")," ")}}function _P(n,t){if(n&1){let e=T();s(0,"section",46,0)(2,"h2",47),d(3,"Origin Type"),c(),s(4,"div",48)(5,"div",49),O("click",function(){S(e);let r=h();return P(r.isOriginTypeAvailable("Core")&&r.setOriginType("Core"))}),s(6,"h3"),d(7,"Core"),c(),s(8,"p"),d(9,"Earth & Tirane"),c(),b(10,mP,2,1,"div",50),c(),s(11,"div",49),O("click",function(){S(e);let r=h();return P(r.isOriginTypeAvailable("Frontier")&&r.setOriginType("Frontier"))}),s(12,"h3"),d(13,"Frontier"),c(),s(14,"p"),d(15,"Colonial Worlds"),c(),b(16,hP,2,1,"div",50),c(),s(17,"div",49),O("click",function(){S(e);let r=h();return P(r.isOriginTypeAvailable("Spacer")&&r.setOriginType("Spacer"))}),s(18,"h3"),d(19,"Spacer"),c(),s(20,"p"),d(21,"Stations & Belts"),c(),b(22,vP,2,1,"div",50),c()()()}if(n&2){let e=h();p(5),I("selected",e.selectedOriginType==="Core")("disabled",!e.isOriginTypeAvailable("Core")),p(5),v("ngIf",!e.isOriginTypeAvailable("Core")),p(),I("selected",e.selectedOriginType==="Frontier")("disabled",!e.isOriginTypeAvailable("Frontier")),p(5),v("ngIf",!e.isOriginTypeAvailable("Frontier")),p(),I("selected",e.selectedOriginType==="Spacer")("disabled",!e.isOriginTypeAvailable("Spacer")),p(5),v("ngIf",!e.isOriginTypeAvailable("Spacer"))}}function CP(n,t){if(n&1&&(s(0,"span",61),d(1),c()),n&2){let e=h(2).$implicit;p(),w("TL ",e.techLevel)}}function yP(n,t){n&1&&(s(0,"p",62),d(1,"\u26A0 HIGH_GRAVITY_ENVIRONMENT DETECTED"),c())}function bP(n,t){n&1&&(s(0,"p",63),d(1,">> LOW_G_ENVIRONMENT"),c())}function xP(n,t){if(n&1&&(s(0,"div",55)(1,"div",56)(2,"span",57),d(3),c(),s(4,"span",57),d(5),c(),s(6,"span",57),d(7),c(),b(8,CP,2,1,"span",58),c(),b(9,yP,2,0,"p",59)(10,bP,2,0,"p",60),c()),n&2){let e=h().$implicit;p(3),x(e.system),p(),I("tag-warn",e.gravityCode==="High"||e.gravityCode==="Extreme"),p(),w("",e.gravity,"G"),p(2),w("",e.path||"Soft"," PATH"),p(),v("ngIf",e.techLevel),p(),v("ngIf",e.gravityCode==="High"||e.gravityCode==="Extreme"),p(),v("ngIf",e.gravityCode==="Low")}}function MP(n,t){if(n&1){let e=T();s(0,"div",33),O("click",function(){let r=S(e).$implicit,o=h(2);return P(o.selectWorld(r))}),s(1,"div",34)(2,"span",35),d(3),ie(4,"number"),c(),M(5,"span",36),s(6,"span",37),d(7),c(),s(8,"span",38),d(9),ie(10,"uppercase"),c(),s(11,"span",38),d(12),c(),s(13,"span",39),d(14),c(),s(15,"span",40),d(16,"\u25B8"),c()(),b(17,xP,11,8,"div",54),c()}if(n&2){let e=t.$implicit,i=t.index,r=h(2);I("dr-sel",(r.selectedWorld==null?null:r.selectedWorld.name)===e.name),p(3),x(Dt(4,24,i+1,"2.0-0")),p(2),I("led-on",(r.selectedWorld==null?null:r.selectedWorld.name)===e.name),p(2),x(e.name),p(),I("dr-danger",e.gravityCode==="High"||e.gravityCode==="Extreme")("dr-dim",e.gravityCode==="Low"),p(),te(" ",e.gravity,"G \xB7 ",he(10,27,e.gravityCode)," "),p(2),I("dr-pos",e.survivalDm>0)("dr-neg",e.survivalDm<0),p(),te(" ",e.survivalDm>=0?"+":"","",e.survivalDm," "),p(),I("st-sel",(r.selectedWorld==null?null:r.selectedWorld.name)===e.name),p(),w(" ",(r.selectedWorld==null?null:r.selectedWorld.name)===e.name?"SELECTED":"AVAILABLE"," "),p(),I("open",(r.selectedWorld==null?null:r.selectedWorld.name)===e.name),p(2),v("ngIf",(r.selectedWorld==null?null:r.selectedWorld.name)===e.name)}}function OP(n,t){if(n&1&&(s(0,"section",52,1)(2,"div",5)(3,"span",6),d(4,"03"),c(),s(5,"h2",7),d(6,"HOMEWORLD_SELECTION"),c()(),s(7,"div",8)(8,"div",9)(9,"span",10),d(10,"ID"),c(),s(11,"span",11),d(12,"WORLD"),c(),s(13,"span",12),d(14,"GRAVITY"),c(),s(15,"span",12),d(16,"SRV_DM"),c(),s(17,"span",13),d(18,"STATUS"),c()(),b(19,MP,18,29,"div",53),c()()),n&2){let e=h();p(19),v("ngForOf",e.availableWorlds)}}function EP(n,t){if(n&1){let e=T();s(0,"section",64)(1,"div",5)(2,"span",6),d(3,"04"),c(),s(4,"h2",7),d(5,"COLONIAL_PHILOSOPHY"),c()(),s(6,"div",65)(7,"div",66),O("click",function(){S(e);let r=h();return P(r.setPath("Hard"))}),M(8,"span",67),s(9,"div",68)(10,"span",69),d(11,"HARD_PATH"),c(),s(12,"span",70),d(13,"Technological adaptation \u2014 Machinery and habitats. DM: +1 benefit"),c()()(),s(14,"div",66),O("click",function(){S(e);let r=h();return P(r.setPath("Soft"))}),M(15,"span",67),s(16,"div",68)(17,"span",69),d(18,"SOFT_PATH"),c(),s(19,"span",70),d(20,"Biological adaptation \u2014 DNA mods and symbionts. DM: -1 benefit"),c()()()()()}if(n&2){let e=h();p(7),I("chip-sel",e.selectedPath==="Hard"),p(),I("on",e.selectedPath==="Hard"),p(6),I("chip-sel",e.selectedPath==="Soft"),p(),I("on",e.selectedPath==="Soft")}}function SP(n,t){if(n&1){let e=T();s(0,"div",77),O("click",function(){let r=S(e).$implicit,o=h(2);return P(o.toggleSkill(r))}),d(1),c()}if(n&2){let e=t.$implicit,i=h(2);I("selected",i.selectedBackgroundSkills.includes(e))("disabled",!i.selectedBackgroundSkills.includes(e)&&i.selectedBackgroundSkills.length>=i.backgroundSkillsCount),p(),w(" ",e," ")}}function PP(n,t){n&1&&(s(0,"p"),d(1,"SPACER: Zero-G Adaptation applied (Vacc Suit enabled)."),c())}function wP(n,t){n&1&&(s(0,"p"),d(1,"HEAVY_WORLDER: Genetic STR/END modification detected."),c())}function DP(n,t){if(n&1&&(s(0,"div",78)(1,"h3"),d(2,"BIO_REPORT"),c(),b(3,PP,2,0,"p",79)(4,wP,2,0,"p",79),c()),n&2){let e=h(2);p(3),v("ngIf",e.selectedOriginType==="Spacer"),p(),v("ngIf",e.selectedWorld.name.includes("King")||e.selectedWorld.name.includes("Huntsland")||e.selectedWorld.name.includes("New Columbia"))}}function IP(n,t){if(n&1&&(s(0,"section",71,2)(2,"div",5)(3,"span",6),d(4,"05"),c(),s(5,"h2",7),d(6,"BACKGROUND_SKILLS"),c(),s(7,"span",72),d(8),c()(),s(9,"p",73),d(10),c(),s(11,"div",74),b(12,SP,2,5,"div",75),c(),b(13,DP,5,2,"div",76),c()),n&2){let e=h();p(8),te("",e.selectedBackgroundSkills.length,"/",e.backgroundSkillsCount),p(2),w("SELECT ",e.backgroundSkillsCount," BACKGROUND SKILL VECTORS FROM ORIGIN DATA"),p(2),v("ngForOf",e.availableSkills),p(),v("ngIf",e.selectedWorld)}}function TP(n,t){n&1&&(s(0,"div",80)(1,"span",81),d(2,">>"),c(),d(3," RESTRICTED_TO_ORBITAL_ENVIRONMENTS (ZERO-G_ADAPTATION_ACTIVE) "),c())}function kP(n,t){n&1&&(s(0,"div",80)(1,"span",81),d(2,">>"),c(),d(3," RESTRICTED_TO_HIGH-G_COLONIES (USA, AUSTRALIA, MANCHURIA...) "),c())}function AP(n,t){n&1&&(s(0,"div",80)(1,"span",81),d(2,">>"),c(),d(3," COLONIAL_ENVIRONMENTAL_REQUIREMENTS_ENFORCED "),c())}function RP(n,t){n&1&&(s(0,"div",82)(1,"span",81),d(2,">>"),c(),d(3," NO_BIOLOGICAL_RESTRICTIONS_DETECTED "),c())}function NP(n,t){if(n&1){let e=T();s(0,"div",83)(1,"div",84)(2,"h3"),d(3,"NATIONALITY_REWARD_DETECTION"),c(),s(4,"p"),d(5,"Japanese personnel are eligible for specialized training or social standing elevation via the Officer Corps."),c(),s(6,"div",85)(7,"button",86),O("click",function(){S(e);let r=h();return P(r.selectJapanBonus("EDU"))}),d(8,"CORE_EDUCATION (+1 EDU)"),c(),s(9,"button",86),O("click",function(){S(e);let r=h();return P(r.selectJapanBonus("Rank"))}),d(10,"OFFICER_RECRUITMENT (+1 RANK)"),c()()()()}}var rl=class n{originTypeSection;homeworldSection;skillsSection;characterService=C(de);diceService=C(Ye);eventEngine=C(ii);wizardFlow=C(De);ngOnInit(){this.wizardFlow.registerValidator(4,()=>this.canProceed()),this.wizardFlow.registerFinishAction(4,()=>this.finish())}ngOnDestroy(){this.wizardFlow.unregisterStep(4)}nationalities=At;availableWorlds=[];selectedNationality=null;selectedOriginType=null;selectedWorld=null;selectedPath="Soft";showSkillsSelection=!1;backgroundSkillsCount=0;isJapanBonusPrompt=!1;selectedBackgroundSkills=[];coreSkills=["Admin","Art","Athletics","Carouse","Drive","Electronics","Flyer","Language","Mechanic","Medic","Profession","Science","Streetwise"];frontierSkills=["Admin","Animals","Art","Athletics","Carouse","Drive","Gun Combat","Mechanic","Medic","Seafarer","Steward","Survival","Vacc Suit"];spacerSkills=["Admin","Art","Athletics","Carouse","Electronics","Engineer","Mechanic","Medic","Pilot","Steward","Survival","Vacc Suit"];get availableSkills(){let t=[];this.selectedOriginType==="Spacer"?t=[...this.spacerSkills]:this.selectedOriginType==="Frontier"?t=[...this.frontierSkills]:t=[...this.coreSkills];let e=this.characterService.character(),r=["Manchuria","Inca Republic","Argentina"].includes(e.nationality||""),o=e.characteristics.soc.value;return r&&o<9?t.filter(a=>a!=="Gun Combat"):t}constructor(){let t=this.characterService.character();if(t.nationality&&(this.selectedNationality=this.nationalities.find(e=>e.name===t.nationality)||null),t.originType?this.isOriginTypeAvailable(t.originType)?t.originType==="Earth"||t.originType==="Core"?this.selectedOriginType="Core":this.selectedOriginType=t.originType:(this.selectedOriginType=null,this.characterService.updateCharacter({originType:"",homeworld:void 0})):this.selectedOriginType=null,t.isSoftPath!==void 0&&(this.selectedPath=t.isSoftPath?"Soft":"Hard"),this.updateWorlds(),t.homeworld){let e=this.availableWorlds.find(i=>i.name===t.homeworld?.name);e?this.selectedWorld=e:(this.selectedWorld=null,this.characterService.updateCharacter({homeworld:void 0}))}if(t.skills&&t.nationality&&t.originType){let e=this.availableSkills;if(this.selectedBackgroundSkills=t.skills.filter(i=>e.includes(i.name)).map(i=>i.name),this.selectedNationality&&this.selectedWorld){this.showSkillsSelection=!0;let i=t.characteristics.edu.value,r=this.diceService.getModifier(i);this.backgroundSkillsCount=(this.selectedOriginType==="Spacer"?4:3)+r,this.backgroundSkillsCount<1&&(this.backgroundSkillsCount=1)}}this.registerHandlers()}registerHandlers(){this.eventEngine.registerCustomHandler("JAPAN_BONUS",()=>{this.isJapanBonusPrompt=!0}),this.eventEngine.registerCustomHandler("DNAM_KING_ULTRA",()=>{let t=Math.floor(Math.random()*6)+1,e=Math.floor(Math.random()*6)+1,i=E({},this.characterService.character().characteristics);i.str.geneticMod=(i.str.geneticMod||0)+t,i.end.geneticMod=(i.end.geneticMod||0)+e,this.characterService.updateCharacteristics(i),this.characterService.log(`**DNAM King Ultra**: Gained STR +${t}, END +${e}.`);let r=this.characterService.character().genes||[];r.find(o=>o.name==="King Ultra")||this.characterService.updateCharacter({genes:[...r,{name:"King Ultra",description:`STR +${t}, END +${e}. Requires respirator.`}]})}),this.eventEngine.registerCustomHandler("RESET_ORIGIN_MODS",()=>{let t=this.characterService.character(),e=E({},t.characteristics);["str","dex","end"].forEach(i=>{let r=i;e[r].gravityMod=0,e[r].geneticMod=0}),this.characterService.updateCharacteristics(e),this.characterService.updateCharacter({genes:[]})})}selectNationality(t){this.selectedNationality=t,this.onNationalityChange(),this.processAutoSelections(),this.selectedOriginType?this.selectedWorld?this.scrollToSection(".philosophy-section"):this.scrollToSection(".homeworld-section"):this.scrollToSection(".origin-type-section")}setOriginType(t){this.selectedOriginType=t,this.onOriginTypeChange(),this.processAutoSelections(),this.selectedWorld?this.scrollToSection(".philosophy-section"):this.scrollToSection(".homeworld-section")}selectWorld(t){this.selectedWorld=t,this.onWorldChange(),this.scrollToSection(".philosophy-section")}processAutoSelections(){let t=!0;for(;t;){if(t=!1,this.selectedNationality&&!this.selectedOriginType){let i=["Core","Frontier","Spacer"].filter(r=>this.isOriginTypeAvailable(r));i.length===1&&(this.selectedOriginType=i[0],this.onOriginTypeChange(),t=!0)}this.selectedNationality&&this.selectedOriginType&&!this.selectedWorld&&(this.updateWorlds(),this.availableWorlds.length===1&&(this.selectedWorld=this.availableWorlds[0],this.onWorldChange(),t=!0))}}scrollToFirstMissingStep(){setTimeout(()=>{let t="";if(this.selectedNationality)this.selectedOriginType?this.selectedWorld?this.canProceed()||(t=".skills-section"):t=".homeworld-section":t=".origin-type-section";else return;if(t){let e=document.querySelector(t),i=document.querySelector(".wizard-content");if(e&&i){let r=e.offsetTop-20;i.scrollTo({top:r,behavior:"smooth"})}}},150)}scrollToSection(t){setTimeout(()=>{let e=document.querySelector(t),i=document.querySelector(".wizard-content");if(e&&i){let r=e.getBoundingClientRect().top-i.getBoundingClientRect().top+i.scrollTop;i.scrollTo({top:r-16,behavior:"smooth"})}},150)}onNationalityChange(){this.updateWorlds(),this.save()}isNationalityAvailable(t){return this.characterService.character().species==="Human (Heavy-Worlder)"?["United States","Australia","Manchuria","Texas","Inca Republic","Trilon Corp"].includes(t.name):!0}isOriginTypeAvailable(t){let e=this.characterService.character().species;return e==="Human (Spacer)"?t==="Spacer":["Human (Heavy-Worlder)","Human (Cold-Adapted)","Human (Dry-Worlder)"].includes(e)?t==="Frontier":!0}getIncompatibilityReason(t,e){let i=this.characterService.character().species;if(t==="Nationality"&&i==="Human (Heavy-Worlder)"&&!["United States","Australia","Manchuria","Texas","Inca Republic","Trilon Corp"].includes(e.name))return"Heavy-Worlders lack colonies in this nation.";if(t==="OriginType"){if(i==="Human (Spacer)"&&e!=="Spacer")return"Spacer biology requires orbital environments.";if(["Human (Heavy-Worlder)","Human (Cold-Adapted)","Human (Dry-Worlder)"].includes(i)&&e!=="Frontier")return"Adapted species requires specific colonial environments."}return null}onOriginTypeChange(){this.selectedBackgroundSkills=[],this.selectedOriginType==="Spacer"&&(this.selectedBackgroundSkills.push("Vacc Suit"),this.characterService.ensureSkillLevel("Vacc Suit",0),this.characterService.ensureSkillLevel("Language (Zhargon)",1),this.characterService.log("**Spacer Origin**: Gained Language (Zhargon) 1")),this.updateWorlds(),this.save()}onWorldChange(){this.selectedWorld&&(this.selectedPath=this.selectedWorld.path||"Soft"),this.save()}setPath(t){this.selectedPath=t,this.save(),this.scrollToSection(".skills-section")}isGravityExtreme(t){return t.gravityCode==="High"||t.gravityCode==="Extreme"||t.gravityCode==="Low"}updateWorlds(){if(!this.selectedNationality){this.availableWorlds=[];return}let t=this.characterService.character().species,e=T_;t==="Human (Heavy-Worlder)"?e=e.filter(i=>i.gravityCode==="High"||i.gravityCode==="Extreme"||i.environment&&i.environment.includes("Heavy")):t==="Human (Cold-Adapted)"?e=e.filter(i=>i.environment&&i.environment.includes("Cold")):t==="Human (Dry-Worlder)"&&(e=e.filter(i=>i.environment&&i.environment.includes("Dry"))),this.selectedOriginType==="Core"?["Human (Spacer)","Human (Heavy-Worlder)","Human (Cold-Adapted)","Human (Dry-Worlder)"].includes(t)?this.availableWorlds=[]:this.availableWorlds=e.filter(i=>i.tier==="Core"):this.selectedOriginType==="Spacer"?(this.availableWorlds=[{name:`${this.selectedNationality.name} Orbital/Station`,uwp:"Zero-G Habitat",gravity:0,gravityCode:"Low",survivalDm:-1,path:"Hard",nation:this.selectedNationality.name,tier:"Spacer",system:"Various",environment:["Space","Low-G"]}],this.selectedWorld=this.availableWorlds[0]):this.availableWorlds=e.filter(i=>(i.nation===this.selectedNationality?.name||i.nation==="Independent")&&(i.tier==="Frontier"||i.tier==="Core"))}save(){if(this.selectedNationality){this.eventEngine.applyEffects([{type:"CUSTOM",customId:"RESET_ORIGIN_MODS"}]);let t=this.selectedNationality.languages[0]||"English",e={nationality:this.selectedNationality.name,originType:this.selectedOriginType,homeworld:this.selectedWorld,isSoftPath:this.selectedPath==="Soft"};this.characterService.updateCharacter(e),this.selectedNationality.effects&&this.eventEngine.applyEffects(this.selectedNationality.effects),this.selectedWorld&&this.selectedWorld.effects&&this.eventEngine.applyEffects(this.selectedWorld.effects);let i=`Language (${t})`;this.characterService.ensureSkillLevel(i,2),this.characterService.log(`**Nationality Reward**: Gained ${i} at Level 2`),this.applyPhysicalAdaptations(),this.calculateBackgroundSkillCount(),this.showSkillsSelection=!0}}applyPhysicalAdaptations(){let t=this.characterService.character(),e=E({},t.characteristics);if(t.isSoftPath&&t.homeworld){let r=`Survival (${t.homeworld.name})`;this.characterService.ensureSkillLevel(r,0),this.characterService.log(`**Soft Path Benefit**: Gained ${r} 0 (PSA).`)}if(t.homeworld){let r=t.homeworld.gravityCode,o=t.homeworld.gravity;if(e.str.gravityMod=0,e.dex.gravityMod=0,e.end.gravityMod=0,o<.1?(e.str.gravityMod=-2,e.dex.gravityMod=2,e.end.gravityMod=-2,this.characterService.log("**Gravity Mod (Zero-G)**: STR -2, DEX +2, END -2")):o<.21?(e.str.gravityMod=-1,e.dex.gravityMod=1,e.end.gravityMod=-1,this.characterService.log("**Gravity Mod (Light)**: STR -1, DEX +1, END -1")):o>=2&&o<3?(e.str.gravityMod=1,e.dex.gravityMod=-1,e.end.gravityMod=1,this.characterService.log("**Gravity Mod (Heavy)**: STR +1, DEX -1, END +1")):o>=3&&(e.str.gravityMod=2,e.dex.gravityMod=-2,e.end.gravityMod=2,this.characterService.log("**Gravity Mod (Extreme)**: STR +2, DEX -2, END +2")),t.species==="Human (Heavy-Worlder)"&&(r==="High"||r==="Extreme")){if(e.str.value<10){let a=Math.floor(Math.random()*6)+1+(Math.floor(Math.random()*6)+1);a>e.str.value&&(this.characterService.log(`**Heavy-Worlder Reroll**: STR ${e.str.value} -> ${a}`),e.str.value=a)}if(e.end.value<10){let a=Math.floor(Math.random()*6)+1+(Math.floor(Math.random()*6)+1);a>e.end.value&&(this.characterService.log(`**Heavy-Worlder Reroll**: END ${e.end.value} -> ${a}`),e.end.value=a)}}}let i=this.nationalities.find(r=>r.name===t.nationality);i&&i.tier===1&&e.soc.value>=9&&(this.characterService.ensureSkillLevel("Gun Combat (Slug)",0),this.characterService.log("**Elite Nationality Bonus**: Gained Gun Combat (Slug) 0 (SOC 9+)")),this.characterService.updateCharacteristics(e)}calculateBackgroundSkillCount(){let t=this.characterService.character(),e=t.characteristics.edu.value+t.characteristics.edu.modifier,i=this.diceService.getModifier(e);if(this.selectedOriginType==="Frontier")this.backgroundSkillsCount=3+i;else if(this.selectedOriginType==="Spacer")this.backgroundSkillsCount=4+i;else{let r=this.nationalities.find(l=>l.name===t.nationality),o=r?r.tier:3,a=3;o<=2?a=4:o===3?a=3:o===4?a=2:a=1,this.backgroundSkillsCount=a+i}this.backgroundSkillsCount<1&&(this.backgroundSkillsCount=1)}toggleSkill(t){if(!(this.selectedOriginType==="Spacer"&&t==="Vacc Suit"))if(this.selectedBackgroundSkills.includes(t)){this.selectedBackgroundSkills=this.selectedBackgroundSkills.filter(r=>r!==t);let i=this.characterService.character().skills.filter(r=>r.name!==t);this.characterService.updateCharacter({skills:i})}else this.selectedBackgroundSkills.length<this.backgroundSkillsCount&&(this.selectedBackgroundSkills.push(t),this.characterService.addSkill(t,0))}canProceed(){return this.selectedBackgroundSkills.length===this.backgroundSkillsCount}increaseStat(t,e){let i=this.characterService.character(),r=t.toLowerCase(),o=i.characteristics[r].value,a=E({},i.characteristics);a[r]=A(E({},a[r]),{value:o+e}),this.characterService.updateCharacteristics(a)}selectJapanBonus(t){this.isJapanBonusPrompt=!1,t==="EDU"?(this.increaseStat("EDU",1),this.characterService.updateCharacter({japaneseRankBonus:!1}),this.characterService.log("**Japanese Bonus**: Chosen EDU +1")):(this.characterService.updateCharacter({japaneseRankBonus:!0}),this.characterService.log("**Japanese Bonus**: Chosen +1 Rank (Commission)"))}finish(){this.wizardFlow.advance()}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=G({type:n,selectors:[["app-origin"]],viewQuery:function(e,i){if(e&1&&ln(cP,5)(lP,5)(dP,5),e&2){let r;ut(r=pt())&&(i.originTypeSection=r.first),ut(r=pt())&&(i.homeworldSection=r.first),ut(r=pt())&&(i.skillsSection=r.first)}},decls:43,vars:12,consts:[["originTypeSection",""],["homeworldSection",""],["skillsSection",""],[1,"origin-container"],["stepSymbol","SEC","stepNumber","04","superLabel","PLANETARY_DATABASE_HUB","topLabel","GEOGRAPHIC_ORIGIN","title","NATIONALITY_ESTABLISHMENT","subtitle","ENFORCING_SOCIO-POLITICAL_TERRITORIAL_DATA... [ OK ]"],[1,"section-header"],[1,"sh-idx"],[1,"sh-title"],[1,"data-roster"],[1,"dr-thead"],[1,"drh-id"],[1,"drh-name"],[1,"drh-col"],[1,"drh-status"],["class","dr-row",3,"dr-sel","dr-lock","click",4,"ngFor","ngForOf"],["class","origin-type-section",4,"ngIf"],["class","homeworld-section",4,"ngIf"],["class","philosophy-section",4,"ngIf"],["class","skills-section",4,"ngIf"],[1,"species-adaptation-report"],[1,"adaptation-banner"],[1,"banner-header"],[1,"scanline"],[1,"hud-icon"],[1,"title"],[1,"banner-content"],[1,"species-info"],[1,"label"],[1,"value"],[1,"restriction-list"],["class","restriction-item",4,"ngIf"],["class","restriction-item success",4,"ngIf"],["class","modal-overlay",4,"ngIf"],[1,"dr-row",3,"click"],[1,"dr-strip"],[1,"dr-id"],[1,"dr-led"],[1,"dr-name"],[1,"dr-col"],[1,"dr-status"],[1,"dr-chev"],["class","dr-expand",4,"ngIf"],[1,"dr-expand"],[1,"expand-desc"],["class","expand-warning",4,"ngIf"],[1,"expand-warning"],[1,"origin-type-section"],[1,"step-title"],[1,"origin-types"],[1,"type-card",3,"click"],["class","restriction-info",4,"ngIf"],[1,"restriction-info"],[1,"homeworld-section"],["class","dr-row",3,"dr-sel","click",4,"ngFor","ngForOf"],["class","dr-expand world-expand",4,"ngIf"],[1,"dr-expand","world-expand"],[1,"we-tags"],[1,"we-tag"],["class","we-tag tag-cyan",4,"ngIf"],["class","we-warning",4,"ngIf"],["class","we-info",4,"ngIf"],[1,"we-tag","tag-cyan"],[1,"we-warning"],[1,"we-info"],[1,"philosophy-section"],[1,"choice-chips"],[1,"choice-chip",3,"click"],[1,"cc-led"],[1,"cc-body"],[1,"cc-name"],[1,"cc-desc"],[1,"skills-section"],[1,"sh-badge"],[1,"instruction"],[1,"skills-grid"],["class","skill-chip",3,"selected","disabled","click",4,"ngFor","ngForOf"],["class","mod-summary",4,"ngIf"],[1,"skill-chip",3,"click"],[1,"mod-summary"],[4,"ngIf"],[1,"restriction-item"],[1,"bullet"],[1,"restriction-item","success"],[1,"modal-overlay"],[1,"modal-card"],[1,"choice-buttons"],[3,"click"]],template:function(e,i){e&1&&(s(0,"div",3),M(1,"app-step-header",4),s(2,"section")(3,"div",5)(4,"span",6),d(5,"01"),c(),s(6,"h2",7),d(7,"NATIONALITY_SELECTION"),c()(),s(8,"div",8)(9,"div",9)(10,"span",10),d(11,"ID"),c(),s(12,"span",11),d(13,"NATION_DESIGNATION"),c(),s(14,"span",12),d(15,"CLASS"),c(),s(16,"span",13),d(17,"STATUS"),c()(),b(18,gP,15,22,"div",14),c()(),b(19,_P,23,15,"section",15)(20,OP,20,1,"section",16)(21,EP,21,8,"section",17)(22,IP,14,5,"section",18),s(23,"section",19)(24,"div",20)(25,"div",21),M(26,"span",22),s(27,"span",23),d(28,"\u{1F9EC}"),c(),s(29,"span",24),d(30,"BIOLOGICAL_CONSISTENCY_CHECK"),c()(),s(31,"div",25)(32,"div",26)(33,"span",27),d(34,"CURRENT_SPECIES:"),c(),s(35,"span",28),d(36),c()(),s(37,"div",29),b(38,TP,4,0,"div",30)(39,kP,4,0,"div",30)(40,AP,4,0,"div",30)(41,RP,4,0,"div",31),c()()()(),b(42,NP,11,0,"div",32),c()),e&2&&(p(18),v("ngForOf",i.nationalities),p(),v("ngIf",i.selectedNationality),p(),v("ngIf",i.selectedNationality&&i.availableWorlds.length>0),p(),v("ngIf",i.selectedWorld),p(),v("ngIf",i.selectedWorld&&i.showSkillsSelection),p(14),x(i.characterService.character().species),p(2),v("ngIf",i.characterService.character().species==="Human (Spacer)"),p(),v("ngIf",i.characterService.character().species==="Human (Heavy-Worlder)"),p(),v("ngIf",wt(11,uP).includes(i.characterService.character().species)),p(),v("ngIf",i.characterService.character().species==="Human (Standard)"),p(),v("ngIf",i.isJapanBonusPrompt))},dependencies:[Z,_e,ne,rt,Fe,gt,Wt],styles:['.origin-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:3rem;padding:1.5rem 1.5rem 5rem;max-width:1200px;margin:0 auto;position:relative;box-sizing:border-box}.step-title[_ngcontent-%COMP%]{display:none}.section-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.8rem;margin-bottom:1rem;padding-bottom:.5rem;border-bottom:1px solid rgba(0,243,255,.1)}.section-header[_ngcontent-%COMP%]   .sh-idx[_ngcontent-%COMP%]{font-family:var(--font-mono);font-size:.6rem;color:var(--neon-cyan);opacity:.45;letter-spacing:2px;min-width:24px}.section-header[_ngcontent-%COMP%]   .sh-title[_ngcontent-%COMP%]{margin:0;font-family:var(--font-header);font-size:.85rem;color:#fff;letter-spacing:4px;text-transform:uppercase;flex:1}.section-header[_ngcontent-%COMP%]   .sh-badge[_ngcontent-%COMP%]{font-family:var(--font-mono);font-size:.6rem;color:var(--vivid-orange);border:1px solid rgba(255,140,0,.4);padding:2px 8px;letter-spacing:2px}.card-grid[_ngcontent-%COMP%]{display:none}.data-roster[_ngcontent-%COMP%]{width:100%;border:1px solid rgba(0,243,255,.12);background:#00000073;position:relative;overflow:hidden}.data-roster[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:linear-gradient(rgba(0,243,255,.015) 1px,transparent 1px),linear-gradient(90deg,rgba(0,243,255,.015) 1px,transparent 1px);background-size:40px 7px;pointer-events:none;z-index:0}.dr-thead[_ngcontent-%COMP%]{display:grid;grid-template-columns:38px 12px 1fr 100px 70px 100px 20px;padding:.3rem 1rem .3rem .8rem;background:#00f3ff0a;border-bottom:1px solid rgba(0,243,255,.15);font-family:var(--font-mono);font-size:.42rem;letter-spacing:3px;color:var(--neon-cyan);opacity:.5;position:relative;z-index:1;text-transform:uppercase}.dr-row[_ngcontent-%COMP%]{position:relative;z-index:1;border-bottom:1px solid rgba(0,243,255,.07);cursor:pointer;transition:background .2s}.dr-row[_ngcontent-%COMP%]:before{content:"";position:absolute;left:0;top:0;bottom:0;width:2px;background:var(--neon-cyan);opacity:0;transition:opacity .2s}.dr-row[_ngcontent-%COMP%]:hover:not(.dr-lock){background:#00f3ff08}.dr-row[_ngcontent-%COMP%]:hover:not(.dr-lock):before{opacity:.45}.dr-row[_ngcontent-%COMP%]:hover:not(.dr-lock)   .dr-name[_ngcontent-%COMP%]{color:#fff}.dr-row.dr-sel[_ngcontent-%COMP%]{background:linear-gradient(90deg,rgba(255,238,0,.05) 0%,transparent 60%)}.dr-row.dr-sel[_ngcontent-%COMP%]:before{background:var(--cyber-yellow);opacity:1}.dr-row.dr-lock[_ngcontent-%COMP%]{opacity:.35;cursor:not-allowed;filter:grayscale(.6)}.dr-strip[_ngcontent-%COMP%]{display:grid;grid-template-columns:38px 12px 1fr 100px 70px 100px 20px;align-items:center;padding:.55rem 1rem .55rem .8rem;min-height:42px;gap:0}.dr-id[_ngcontent-%COMP%]{font-family:var(--font-mono);font-size:.65rem;color:#00f3ff52;letter-spacing:1px}.dr-led[_ngcontent-%COMP%]{width:7px;height:7px;border-radius:50%;background:#ffffff1a;border:1px solid rgba(255,255,255,.15);transition:all .3s;flex-shrink:0}.dr-led.led-on[_ngcontent-%COMP%]{background:var(--cyber-yellow);border-color:var(--cyber-yellow);box-shadow:0 0 6px var(--cyber-yellow),0 0 14px #fe06}.dr-led.led-lock[_ngcontent-%COMP%]{background:#641e1e99;border-color:#b4282866}.dr-name[_ngcontent-%COMP%]{font-family:var(--font-header);font-size:.88rem;color:#ffffffb8;letter-spacing:1px;text-transform:uppercase;padding-left:.8rem;transition:color .2s}.dr-sel[_ngcontent-%COMP%]   .dr-name[_ngcontent-%COMP%]{color:#fff;text-shadow:0 0 10px rgba(255,238,0,.2)}.dr-col[_ngcontent-%COMP%]{font-family:var(--font-mono);font-size:.62rem;color:var(--text-dim);opacity:.6;text-transform:uppercase;letter-spacing:1px}.dr-col.dr-danger[_ngcontent-%COMP%]{color:var(--power-red);opacity:1}.dr-col.dr-dim[_ngcontent-%COMP%]{color:var(--neon-cyan);opacity:.5}.dr-col.dr-pos[_ngcontent-%COMP%]{color:var(--neon-cyan);opacity:1;font-weight:700}.dr-col.dr-neg[_ngcontent-%COMP%]{color:var(--power-red);opacity:.8}.dr-status[_ngcontent-%COMP%]{font-family:var(--font-mono);font-size:.42rem;letter-spacing:1px;color:#00f3ff61;text-align:center;padding:0 .4rem;white-space:nowrap;text-transform:uppercase;overflow:hidden;text-overflow:ellipsis}.dr-status.st-sel[_ngcontent-%COMP%]{color:var(--cyber-yellow)}.dr-status.st-lock[_ngcontent-%COMP%]{color:#c83c3c99}.dr-chev[_ngcontent-%COMP%]{font-size:.7rem;color:#00f3ff47;transition:all .25s;opacity:.4;text-align:right}.dr-chev.open[_ngcontent-%COMP%]{transform:rotate(90deg);color:var(--cyber-yellow);opacity:1}.dr-expand[_ngcontent-%COMP%]{border-top:1px solid rgba(255,238,0,.1);background:linear-gradient(90deg,#ffee0005,#00f3ff05);padding:.8rem 1rem .8rem 3.4rem;animation:_ngcontent-%COMP%_expand-in .2s ease-out}.dr-expand[_ngcontent-%COMP%]   .expand-desc[_ngcontent-%COMP%]{font-family:var(--font-mono);font-size:.7rem;line-height:1.55;color:var(--text-dim);margin:0 0 .5rem}.dr-expand[_ngcontent-%COMP%]   .expand-warning[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.3rem .7rem;background:#ff000014;border-left:2px solid var(--power-red);font-family:var(--font-mono);font-size:.6rem;color:var(--power-red);text-transform:uppercase}.world-expand[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.4rem}.world-expand[_ngcontent-%COMP%]   .we-tags[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.4rem}.world-expand[_ngcontent-%COMP%]   .we-tag[_ngcontent-%COMP%]{font-family:var(--font-mono);font-size:.58rem;padding:2px 8px;background:#ffffff0a;border:1px solid rgba(255,255,255,.1);color:var(--text-dim);text-transform:uppercase;letter-spacing:1px}.world-expand[_ngcontent-%COMP%]   .we-tag.tag-warn[_ngcontent-%COMP%]{color:var(--power-red);border-color:#ff00004d}.world-expand[_ngcontent-%COMP%]   .we-tag.tag-cyan[_ngcontent-%COMP%]{color:var(--neon-cyan);border-color:#00f3ff4d}.world-expand[_ngcontent-%COMP%]   .we-warning[_ngcontent-%COMP%]{font-family:var(--font-mono);font-size:.62rem;color:var(--power-red);margin:0}.world-expand[_ngcontent-%COMP%]   .we-info[_ngcontent-%COMP%]{font-family:var(--font-mono);font-size:.62rem;color:var(--neon-cyan);margin:0}.selection-card[_ngcontent-%COMP%]{display:none}@keyframes _ngcontent-%COMP%_expand-in{0%{opacity:0;transform:translateY(-4px)}to{opacity:1;transform:translateY(0)}}.choice-chips[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.6rem}@media(max-width:600px){.choice-chips[_ngcontent-%COMP%]{flex-direction:column}}.choice-chip[_ngcontent-%COMP%]{flex:1;min-width:150px;display:flex;align-items:center;gap:.8rem;padding:.8rem 1rem;background:#0006;border:1px solid rgba(255,255,255,.1);clip-path:polygon(6px 0,100% 0,calc(100% - 6px) 100%,0 100%);cursor:pointer;transition:all .2s;position:relative;overflow:hidden}.choice-chip[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:-100%;width:60%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.03),transparent);transition:left .35s;pointer-events:none}.choice-chip[_ngcontent-%COMP%]:hover:not(.chip-lock){border-color:#00f3ff61;background:#00f3ff0a}.choice-chip[_ngcontent-%COMP%]:hover:not(.chip-lock):before{left:140%}.choice-chip[_ngcontent-%COMP%]:hover:not(.chip-lock)   .cc-name[_ngcontent-%COMP%]{color:#fff}.choice-chip.chip-sel[_ngcontent-%COMP%]{border-color:var(--cyber-yellow);background:#ffee000d;box-shadow:0 0 15px #ffee0012}.choice-chip.chip-sel[_ngcontent-%COMP%]   .cc-led[_ngcontent-%COMP%]{background:var(--cyber-yellow);border-color:var(--cyber-yellow);box-shadow:0 0 6px var(--cyber-yellow)}.choice-chip.chip-sel[_ngcontent-%COMP%]   .cc-name[_ngcontent-%COMP%]{color:#fff}.choice-chip.chip-sel[_ngcontent-%COMP%]   .cc-desc[_ngcontent-%COMP%]{color:#ffffff8c}.choice-chip.chip-lock[_ngcontent-%COMP%]{opacity:.38;cursor:not-allowed;filter:grayscale(.5)}.cc-led[_ngcontent-%COMP%]{width:7px;height:7px;border-radius:50%;background:#ffffff1a;border:1px solid rgba(255,255,255,.2);flex-shrink:0;transition:all .2s}.cc-led.on[_ngcontent-%COMP%]{background:var(--cyber-yellow);border-color:var(--cyber-yellow);box-shadow:0 0 8px #ffee0080;animation:_ngcontent-%COMP%_led-blink 2s steps(1,end) infinite}@keyframes _ngcontent-%COMP%_led-blink{0%,49%{opacity:1}50%,to{opacity:.35}}.cc-body[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px;flex:1}.cc-name[_ngcontent-%COMP%]{font-family:var(--font-header);font-size:.82rem;color:#ffffffb3;letter-spacing:2px;text-transform:uppercase;transition:color .2s}.cc-desc[_ngcontent-%COMP%]{font-family:var(--font-mono);font-size:.6rem;color:var(--text-dim);opacity:.65;line-height:1.35}.cc-warn[_ngcontent-%COMP%]{font-family:var(--font-mono);font-size:.45rem;color:var(--power-red);letter-spacing:2px;border:1px solid rgba(255,0,0,.3);padding:1px 5px;margin-left:auto;white-space:nowrap}@keyframes _ngcontent-%COMP%_pulse-border{0%{border-color:#ff003c66}50%{border-color:#ff003c}to{border-color:#ff003c66}}.origin-types[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.6rem}@media(max-width:600px){.origin-types[_ngcontent-%COMP%]{flex-direction:column}}.type-card[_ngcontent-%COMP%]{flex:1;min-width:200px;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:.5rem;padding:1.5rem 1rem;background:#0006;border:1px solid rgba(255,255,255,.1);clip-path:polygon(6px 0,100% 0,calc(100% - 6px) 100%,0 100%);cursor:pointer;transition:all .2s;position:relative;overflow:hidden;text-align:center}.type-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:-100%;width:60%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.03),transparent);transition:left .35s;pointer-events:none}.type-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-family:var(--font-header);font-size:.95rem;color:#ffffffb3;letter-spacing:2px;text-transform:uppercase;transition:color .2s}.type-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-family:var(--font-mono);font-size:.65rem;color:var(--text-dim);opacity:.65;letter-spacing:.5px}.type-card[_ngcontent-%COMP%]:hover:not(.disabled){border-color:#00f3ff61;background:#00f3ff0a}.type-card[_ngcontent-%COMP%]:hover:not(.disabled):before{left:140%}.type-card[_ngcontent-%COMP%]:hover:not(.disabled)   h3[_ngcontent-%COMP%]{color:#fff}.type-card.selected[_ngcontent-%COMP%]{border-color:var(--cyber-yellow);background:#ffee000d;box-shadow:0 0 15px #ffee0012}.type-card.selected[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#fff;text-shadow:0 0 10px rgba(255,238,0,.3)}.type-card.selected[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#ffffff8c}.type-card.disabled[_ngcontent-%COMP%]{opacity:.38;cursor:not-allowed;filter:grayscale(.5)}.type-card[_ngcontent-%COMP%]   .restriction-info[_ngcontent-%COMP%]{font-family:var(--font-mono);font-size:.55rem;color:var(--power-red);margin-top:.3rem;line-height:1.3}.origin-type-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.origin-type-section[_ngcontent-%COMP%]   .step-title[_ngcontent-%COMP%]{display:block!important;font-family:var(--font-header);font-size:.85rem;color:#fff;letter-spacing:4px;text-transform:uppercase;margin:0}.path-selector[_ngcontent-%COMP%]{display:none}.species-adaptation-report[_ngcontent-%COMP%]{margin-top:4rem}.species-adaptation-report[_ngcontent-%COMP%]   .adaptation-banner[_ngcontent-%COMP%]{background:#0006;border:1px solid rgba(0,243,255,.2);position:relative;overflow:hidden;padding:1.5rem;clip-path:polygon(0 0,100% 0,100% calc(100% - 20px),calc(100% - 20px) 100%,0 100%)}.species-adaptation-report[_ngcontent-%COMP%]   .adaptation-banner[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:2px;background:linear-gradient(90deg,transparent,var(--neon-cyan),transparent);animation:_ngcontent-%COMP%_move-gradient 3s infinite}.species-adaptation-report[_ngcontent-%COMP%]   .adaptation-banner[_ngcontent-%COMP%]   .banner-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;margin-bottom:1.5rem;border-bottom:1px solid rgba(0,243,255,.1);padding-bottom:.5rem}.species-adaptation-report[_ngcontent-%COMP%]   .adaptation-banner[_ngcontent-%COMP%]   .banner-header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-family:var(--font-accent);font-size:.8rem;letter-spacing:4px;color:var(--neon-cyan)}.species-adaptation-report[_ngcontent-%COMP%]   .adaptation-banner[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]   .species-info[_ngcontent-%COMP%]{margin-bottom:1rem}.species-adaptation-report[_ngcontent-%COMP%]   .adaptation-banner[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]   .species-info[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:var(--text-dim);font-size:.7rem;font-family:var(--font-mono);margin-right:1rem}.species-adaptation-report[_ngcontent-%COMP%]   .adaptation-banner[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]   .species-info[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{color:var(--cyber-yellow);font-family:var(--font-header);font-size:1.1rem;letter-spacing:2px}.species-adaptation-report[_ngcontent-%COMP%]   .adaptation-banner[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]   .restriction-list[_ngcontent-%COMP%]   .restriction-item[_ngcontent-%COMP%]{color:var(--power-red);font-family:var(--font-mono);font-size:.75rem;margin:.4rem 0;letter-spacing:1px}.species-adaptation-report[_ngcontent-%COMP%]   .adaptation-banner[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]   .restriction-list[_ngcontent-%COMP%]   .restriction-item.success[_ngcontent-%COMP%]{color:var(--neon-cyan)}.species-adaptation-report[_ngcontent-%COMP%]   .adaptation-banner[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]   .restriction-list[_ngcontent-%COMP%]   .restriction-item[_ngcontent-%COMP%]   .bullet[_ngcontent-%COMP%]{margin-right:.5rem;opacity:.6}@keyframes _ngcontent-%COMP%_move-gradient{0%{transform:translate(-100%)}to{transform:translate(100%)}}.skills-section[_ngcontent-%COMP%]{margin-top:3rem}.skills-section[_ngcontent-%COMP%]   .instruction[_ngcontent-%COMP%]{color:var(--text-dim);font-family:var(--font-mono);font-size:.7rem;text-transform:uppercase;margin-bottom:1.5rem;padding-left:1rem;border-left:2px solid var(--vivid-orange)}.skills-section[_ngcontent-%COMP%]   .skills-grid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.6rem;margin-bottom:2rem}.skills-section[_ngcontent-%COMP%]   .skill-chip[_ngcontent-%COMP%]{padding:.5rem 1.2rem;background:#ffffff08;border:1px solid rgba(255,255,255,.1);color:var(--text-dim);font-family:var(--font-header);text-transform:uppercase;font-size:.8rem;letter-spacing:1px;cursor:pointer;transition:all .2s;clip-path:polygon(8px 0,100% 0,calc(100% - 8px) 100%,0 100%)}.skills-section[_ngcontent-%COMP%]   .skill-chip[_ngcontent-%COMP%]:hover:not(.disabled){border-color:var(--neon-cyan);color:var(--neon-cyan);background:var(--neon-cyan-glow)}.skills-section[_ngcontent-%COMP%]   .skill-chip.selected[_ngcontent-%COMP%]{background:var(--neon-cyan);border-color:var(--neon-cyan);color:var(--bg-pitch);box-shadow:0 0 15px var(--neon-cyan-glow)}.skills-section[_ngcontent-%COMP%]   .skill-chip.disabled[_ngcontent-%COMP%]{opacity:.2;cursor:not-allowed}.skills-section[_ngcontent-%COMP%]   .mod-summary[_ngcontent-%COMP%]{background:#0000004d;padding:1.5rem;border:1px solid rgba(255,140,0,.2);position:relative;clip-path:polygon(0 0,100% 0,100% calc(100% - 15px),calc(100% - 15px) 100%,0 100%)}.skills-section[_ngcontent-%COMP%]   .mod-summary[_ngcontent-%COMP%]:before{content:"BIOLOGICAL_ADJUSTMENT_REPORT";position:absolute;top:-10px;right:20px;background:var(--bg-pitch);padding:0 10px;font-family:var(--font-mono);font-size:.5rem;color:var(--vivid-orange)}.skills-section[_ngcontent-%COMP%]   .mod-summary[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 .8rem;color:var(--vivid-orange);font-family:var(--font-accent);font-size:.9rem;text-transform:uppercase}.skills-section[_ngcontent-%COMP%]   .mod-summary[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.3rem 0;font-size:.8rem;color:var(--text-main);font-family:var(--font-body);line-height:1.5}.skills-section[_ngcontent-%COMP%]   .navigation-actions[_ngcontent-%COMP%]{margin-top:3rem;display:flex;justify-content:center;padding-bottom:2rem}.skills-section[_ngcontent-%COMP%]   .navigation-actions[_ngcontent-%COMP%]   .btn-cyber.next[_ngcontent-%COMP%]{border-color:var(--cyber-yellow);color:var(--cyber-yellow);padding:1rem 3rem;font-size:1.1rem;box-shadow:0 0 15px #fe03}.skills-section[_ngcontent-%COMP%]   .navigation-actions[_ngcontent-%COMP%]   .btn-cyber.next[_ngcontent-%COMP%]:hover{background:var(--cyber-yellow);color:#000;box-shadow:0 0 25px #fe06}.modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:#000000d9;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);z-index:1000;display:flex;align-items:center;justify-content:center;animation:_ngcontent-%COMP%_fade-in .3s ease-out}.modal-card[_ngcontent-%COMP%]{background:var(--bg-panel);border:1px solid var(--neon-cyan);padding:3rem;max-width:600px;width:90%;text-align:center;position:relative;clip-path:polygon(0 0,calc(100% - 30px) 0,100% 30px,100% 100%,30px 100%,0 calc(100% - 30px));box-shadow:0 0 50px var(--neon-cyan-glow)}.modal-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:radial-gradient(circle at center,rgba(0,243,255,.1),transparent);pointer-events:none}.modal-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--neon-cyan);font-family:var(--font-accent);font-size:1.2rem;letter-spacing:5px;margin-bottom:2rem;text-transform:uppercase}.modal-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-dim);font-family:var(--font-body);line-height:1.6;margin-bottom:3rem}.modal-card[_ngcontent-%COMP%]   .choice-buttons[_ngcontent-%COMP%]{display:flex;gap:1.5rem;justify-content:center}.modal-card[_ngcontent-%COMP%]   .choice-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:1rem 2rem;background:transparent;border:1px solid var(--neon-cyan);color:var(--neon-cyan);font-family:var(--font-header);text-transform:uppercase;letter-spacing:2px;cursor:pointer;transition:all .2s;clip-path:polygon(10px 0,100% 0,calc(100% - 10px) 100%,0 100%)}.modal-card[_ngcontent-%COMP%]   .choice-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:var(--neon-cyan);color:var(--bg-pitch);box-shadow:0 0 20px var(--neon-cyan-glow)}@keyframes _ngcontent-%COMP%_fade-in{0%{opacity:0}to{opacity:1}}']})};var ol=gn.educationEventTable;function Rf(n){let t=ol.find(i=>i.roll===n);if(!t)return{id:"edu_event_default",type:"INFO",trigger:"DURING_CAREER_TERM",ui:{title:"Education Event",description:"Nothing significant happened.",options:[{label:"Continue"}]}};if(t.isLifeEvent)return{id:"edu_life_event",type:"CHOICE",trigger:"LIFE_EVENT",ui:{title:"Life Event",description:"Something significant happened during your studies. Roll on the Life Events table.",options:[{label:"Roll Life Event (2d6)",effects:[{type:"ROLL_TABLE",table:_a,dice:"2d6"}]}]}};let e=[];return t.effectId&&e.push({type:"CUSTOM",customId:t.effectId,payload:t.payload}),t.stat&&(t.stat==="SOC"?e.push({type:"STAT_MOD",target:"SOC",value:t.value}):e.push({type:"SKILL_MOD",target:t.stat,value:t.value})),{id:`edu_event_${n}`,type:"INFO",trigger:"DURING_CAREER_TERM",ui:{title:"Education Event",description:t.desc,options:[{label:"Continue",effects:e}]}}}var LP=["resultsSection"],FP=["skillsSection"];function VP(n,t){n&1&&(s(0,"span",41),d(1,"DEBT_RISK"),c())}function jP(n,t){if(n&1){let e=T();s(0,"div",29),O("click",function(r){return S(e),P(r.stopPropagation())}),s(1,"div",30)(2,"span",31),d(3,"[ ADM_PROTOCOL_SELECTION ]"),c(),s(4,"div",32)(5,"label",33)(6,"input",34),Oe("ngModelChange",function(r){S(e);let o=h(2);return we(o.admissionMethod,r)||(o.admissionMethod=r),P(r)}),c(),s(7,"div",35)(8,"span",36),d(9,"LOCAL_ADM"),c(),s(10,"span",37),d(11),c()()(),s(12,"label",33)(13,"input",38),Oe("ngModelChange",function(r){S(e);let o=h(2);return we(o.admissionMethod,r)||(o.admissionMethod=r),P(r)}),c(),s(14,"div",35)(15,"span",36),d(16,"OFFWORLD_ADM"),c(),s(17,"span",37),d(18),c(),b(19,VP,2,0,"span",39),c()()()(),s(20,"button",40),O("click",function(){S(e);let r=h(2);return P(r.apply())}),d(21," INIT_APPLICATION "),c()()}if(n&2){let e=h(2);p(6),Me("ngModel",e.admissionMethod),p(5),te("DM ",e.admissionDMs.local>=0?"+":"","",e.admissionDMs.local),p(2),Me("ngModel",e.admissionMethod),p(5),te("DM ",e.admissionDMs.offWorld>=0?"+":"","",e.admissionDMs.offWorld),p(),v("ngIf",e.admissionMethod==="OffWorld"),p(),v("disabled",e.admissionStatus!=="NotApplied")}}function BP(n,t){if(n&1&&(s(0,"div",51)(1,"span",52),d(2,"\u26A0"),c(),d(3),c()),n&2){let e=h(3);p(3),w(" ",e.getAcademyValidation(e.academyType).reason," ")}}function UP(n,t){if(n&1){let e=T();s(0,"div",29),O("click",function(r){return S(e),P(r.stopPropagation())}),s(1,"div",42)(2,"span",31),d(3,"[ SELECT_MIL_BRANCH ]"),c(),s(4,"select",43),Oe("ngModelChange",function(r){S(e);let o=h(2);return we(o.academyType,r)||(o.academyType=r),P(r)}),s(5,"option",44),d(6),c(),s(7,"option",45),d(8),c(),s(9,"option",46),d(10),c(),s(11,"option",47),d(12),c()(),b(13,BP,4,1,"div",48),c(),s(14,"div",30)(15,"span",31),d(16,"[ MIL_ADM_PROTOCOL ]"),c(),s(17,"div",32)(18,"label",33)(19,"input",49),Oe("ngModelChange",function(r){S(e);let o=h(2);return we(o.admissionMethod,r)||(o.admissionMethod=r),P(r)}),c(),s(20,"div",35)(21,"span",36),d(22,"LOCAL_ADM"),c(),s(23,"span",37),d(24),c()()(),s(25,"label",33)(26,"input",50),Oe("ngModelChange",function(r){S(e);let o=h(2);return we(o.admissionMethod,r)||(o.admissionMethod=r),P(r)}),c(),s(27,"div",35)(28,"span",36),d(29,"OFFWORLD_ADM"),c(),s(30,"span",37),d(31),c()()()()(),s(32,"button",40),O("click",function(){S(e);let r=h(2);return P(r.apply())}),d(33," INIT_MIL_APPLICATION "),c()()}if(n&2){let e=h(2);p(4),I("invalid",!e.getAcademyValidation(e.academyType).available),Me("ngModel",e.academyType),p(),v("disabled",!e.getAcademyValidation("Army").available),p(),w(" ARMY ",e.getAcademyValidation("Army").available?"(END BRANCH)":"(BLOCKED)"," "),p(),v("disabled",!e.getAcademyValidation("Marines").available),p(),w(" MARINES ",e.getAcademyValidation("Marines").available?"(END BRANCH)":"(BLOCKED)"," "),p(),v("disabled",!e.getAcademyValidation("Navy").available),p(),w(" NAVY ",e.getAcademyValidation("Navy").available?"(INT BRANCH)":"(BLOCKED)"," "),p(),v("disabled",!e.getAcademyValidation("Scouts").available),p(),w(" SCOUTS ",e.getAcademyValidation("Scouts").available?"(INT BRANCH)":"(BLOCKED)"," "),p(),v("ngIf",!e.getAcademyValidation(e.academyType).available),p(6),Me("ngModel",e.admissionMethod),p(5),te("DM ",e.admissionDMs.local>=0?"+":"","",e.admissionDMs.local),p(2),Me("ngModel",e.admissionMethod),p(5),te("DM ",e.admissionDMs.offWorld>=0?"+":"","",e.admissionDMs.offWorld),p(),v("disabled",e.admissionStatus!=="NotApplied"||!e.getAcademyValidation(e.academyType).available)}}function HP(n,t){if(n&1){let e=T();s(0,"div",29),O("click",function(r){return S(e),P(r.stopPropagation())}),s(1,"div",53)(2,"p"),d(3,"Skip higher education and proceed directly to a Career at age 18. This allows you to gain Basic Training and promotions four years earlier."),c()(),s(4,"button",54),O("click",function(){S(e);let r=h(2);return P(r.finishStep())}),d(5,"PROCEED_TO_CAREER"),c()()}}function $P(n,t){if(n&1){let e=T();s(0,"div",7)(1,"div",8),O("click",function(){S(e);let r=h();return P(r.educationType="University")}),M(2,"div",9)(3,"div",10)(4,"div",11)(5,"div",12)(6,"div",13),s(7,"span",14),d(8,"ACADEMIC"),c(),s(9,"div",15)(10,"div",16)(11,"div",17)(12,"span",18),d(13,"01"),c(),s(14,"h3"),d(15,"University"),c(),M(16,"span",19),c(),s(17,"div",20)(18,"p")(19,"span",21),d(20,"REQUIREMENT:"),c(),s(21,"span",22),d(22,"EDU 7+"),c()(),s(23,"p")(24,"span",21),d(25,"EXPECTED_GAIN:"),c(),s(26,"span",22),d(27,"+1 EDU, +1 SOC"),c()(),s(28,"div",23),d(29," Higher education focused on academic research and social advancement. Essential for high-tech careers and political standing. "),c()()(),b(30,jP,22,8,"div",24),c()(),s(31,"div",25),O("click",function(){S(e);let r=h();return P(r.educationType="Academy")}),M(32,"div",9)(33,"div",10)(34,"div",11)(35,"div",12)(36,"div",13),s(37,"span",26),d(38,"MILITARY"),c(),s(39,"div",15)(40,"div",16)(41,"div",17)(42,"span",18),d(43,"02"),c(),s(44,"h3"),d(45,"Military Academy"),c(),M(46,"span",19),c(),s(47,"div",20)(48,"p")(49,"span",21),d(50,"REQUIREMENT:"),c(),s(51,"span",22),d(52,"ATTR 8+"),c()(),s(53,"p")(54,"span",21),d(55,"EXPECTED_GAIN:"),c(),s(56,"span",22),d(57,"OFFICER COMMISSION"),c()(),s(58,"div",23),d(59," Intensive military training providing immediate access to officer ranks. Focuses on discipline, command, and specialized combat skills. "),c()()(),b(60,UP,34,19,"div",24),c()(),s(61,"div",27),O("click",function(){S(e);let r=h();return P(r.educationType="None")}),M(62,"div",9)(63,"div",10)(64,"div",11)(65,"div",12),s(66,"span",28),d(67,"DIRECT"),c(),s(68,"div",15)(69,"div",16)(70,"div",17)(71,"span",18),d(72,"03"),c(),s(73,"h3"),d(74,"Direct Career Entry"),c(),M(75,"span",19),c(),s(76,"div",20)(77,"p")(78,"span",21),d(79,"STATUS:"),c(),s(80,"span",22),d(81,"IMMEDIATE_ENLISTMENT"),c()(),s(82,"p")(83,"span",21),d(84,"ACTION:"),c(),s(85,"span",22),d(86,"SKIP HIGHER EDUCATION"),c()()()(),b(87,HP,6,0,"div",24),c()()()}if(n&2){let e=h();p(),I("selected",e.educationType==="University"),p(15),I("active",e.educationType==="University"),p(14),v("ngIf",e.educationType==="University"),p(),I("selected",e.educationType==="Academy"),p(15),I("active",e.educationType==="Academy"),p(14),v("ngIf",e.educationType==="Academy"),p(),I("selected",e.educationType==="None"),p(14),I("active",e.educationType==="None"),p(12),v("ngIf",e.educationType==="None")}}function zP(n,t){n&1&&(s(0,"li"),d(1,"EDU +1"),c())}function GP(n,t){n&1&&(s(0,"li"),d(1,"Select Major (Level 1) and Minor (Level 0)"),c())}function qP(n,t){if(n&1&&(s(0,"li"),d(1),c()),n&2){let e=h(4);p(),w("",e.academyType," Academy - Basic Training granted")}}function WP(n,t){if(n&1&&(s(0,"div",73)(1,"h5"),d(2,"GAINS:"),c(),s(3,"ul"),b(4,zP,2,0,"li",74)(5,GP,2,0,"li",74)(6,qP,2,1,"li",74),c()()),n&2){let e=h(3);p(4),v("ngIf",e.educationType==="University"),p(),v("ngIf",e.educationType==="University"),p(),v("ngIf",e.educationType==="Academy")}}function YP(n,t){if(n&1){let e=T();s(0,"button",75),O("click",function(){S(e);let r=h(3);return P(r.proceedFromAdmissionResult())}),s(1,"span",36),d(2,"CONTINUE"),c(),s(3,"span",37),d(4,"PROCEED_TO_NEXT_PHASE"),c()()}}function KP(n,t){if(n&1){let e=T();s(0,"div",76)(1,"button",77),O("click",function(){S(e);let r=h(3);return P(r.resetAdmission())}),d(2,"RETRY / CHANGE_PATH"),c(),s(3,"button",78),O("click",function(){S(e);let r=h(3);return P(r.finishStep())}),d(4,"START_A_CAREER"),c()()}}function JP(n,t){if(n&1&&(s(0,"div",61),M(1,"div",62)(2,"div",63)(3,"div",64)(4,"div",65),s(5,"div",66)(6,"span",18),d(7,"ADM_02"),c(),s(8,"h3"),d(9,"ADMISSION_RESULT"),c()(),s(10,"div",67)(11,"div",68)(12,"h4"),d(13),c(),s(14,"p"),d(15),c()(),b(16,WP,7,3,"div",69),c(),s(17,"div",70),b(18,YP,5,0,"button",71)(19,KP,5,0,"div",72),c()()),n&2){let e=h(2);p(5),I("success",e.admissionStatus==="Admitted")("failure",e.admissionStatus==="Rejected"),p(6),I("admitted",e.admissionStatus==="Admitted")("rejected",e.admissionStatus==="Rejected"),p(2),x(e.admissionStatus==="Admitted"?"ADMISSION APPROVED":"ADMISSION DENIED"),p(2),te("Roll: ",e.admissionRollTotal," vs ",e.admissionTarget),p(),v("ngIf",e.admissionStatus==="Admitted"),p(2),v("ngIf",e.admissionStatus==="Admitted"),p(),v("ngIf",e.admissionStatus==="Rejected")}}function QP(n,t){if(n&1&&(s(0,"div",86)(1,"div",87)(2,"span",88),d(3,"RESULT"),c(),s(4,"span",89),d(5),c()(),s(6,"div",90)(7,"p"),d(8),c()()()),n&2){let e=h(3);p(5),x(e.currentEvent.roll),p(3),x(e.currentEvent.desc)}}function ZP(n,t){if(n&1){let e=T();s(0,"div",79),M(1,"div",62)(2,"div",63)(3,"div",64)(4,"div",65),s(5,"div",80)(6,"span",18),d(7,"EVT_02"),c(),s(8,"h3"),d(9,"EVENT_OUTCOME"),c(),M(10,"div",81),c(),s(11,"div",82),b(12,QP,9,2,"div",83),c(),s(13,"div",84)(14,"button",85),O("click",function(){S(e);let r=h(2);return P(r.proceedFromEventResult())}),s(15,"span",36),d(16,"CONTINUE_TO_GRADUATION"),c(),s(17,"span",37),d(18,"PROCEED_NEXT_PHASE"),c()()()()}if(n&2){let e=h(2);p(12),v("ngIf",e.currentEvent),p(2),v("disabled",e.showHobbySelection||e.showTutorSelection||e.showWarOptions)}}function XP(n,t){if(n&1&&(s(0,"option",108),d(1),c()),n&2){let e=t.$implicit;v("value",e),p(),x(e)}}function ew(n,t){if(n&1&&(s(0,"option",109),d(1),c()),n&2){let e=t.$implicit,i=h(3);v("value",e)("disabled",e===i.selectedMajorSkill),p(),w(" ",e," ")}}function tw(n,t){if(n&1&&(s(0,"div",110)(1,"div",111)(2,"span",112),d(3,"MAJ"),c(),s(4,"span",113),d(5),c()(),s(6,"div",111)(7,"span",112),d(8,"MIN"),c(),s(9,"span",113),d(10),c()()()),n&2){let e=h(3);p(),I("filled",e.selectedMajorSkill),p(4),x(e.selectedMajorSkill||"---"),p(),I("filled",e.selectedMinorSkill),p(4),x(e.selectedMinorSkill||"---")}}function nw(n,t){if(n&1){let e=T();s(0,"div",91,1),M(2,"div",62)(3,"div",63)(4,"div",64)(5,"div",65),s(6,"div",92)(7,"span",18),d(8,"UNI_SCHEM_V04"),c(),s(9,"h3"),d(10,"ADMISSION_CONFIRMED"),c(),s(11,"div",93),d(12,"VECTOR_DEFINITION_REQUIRED"),c()(),s(13,"div",94)(14,"p",95),d(15,"SELECT PRIMARY AND SECONDARY ACADEMIC SPECIALIZATIONS:"),c(),s(16,"div",96)(17,"div",97)(18,"label",98)(19,"span",99),d(20,"PRIMARY"),c(),d(21," MAJOR_VECTOR (LVL 1) "),c(),s(22,"select",100),Oe("ngModelChange",function(r){S(e);let o=h(2);return we(o.selectedMajorSkill,r)||(o.selectedMajorSkill=r),P(r)}),s(23,"option",101),d(24,"SELECT_SPECIALIZATION"),c(),b(25,XP,2,2,"option",102),c()(),s(26,"div",97)(27,"label",98)(28,"span",99),d(29,"SECONDARY"),c(),d(30," MINOR_VECTOR (LVL 0) "),c(),s(31,"select",103),Oe("ngModelChange",function(r){S(e);let o=h(2);return we(o.selectedMinorSkill,r)||(o.selectedMinorSkill=r),P(r)}),s(32,"option",101),d(33,"SELECT_SPECIALIZATION"),c(),b(34,ew,2,3,"option",104),c()()(),b(35,tw,11,6,"div",105),c(),s(36,"div",106)(37,"button",107),O("click",function(){S(e);let r=h(2);return P(r.confirmUniversitySkills())}),s(38,"span",36),d(39,"FINALIZE_ENROLLMENT"),c(),s(40,"span",37),d(41,"CONFIRM_VECTORS"),c()()()()}if(n&2){let e=h(2);p(22),Me("ngModel",e.selectedMajorSkill),p(3),v("ngForOf",e.universitySkillList),p(6),Me("ngModel",e.selectedMinorSkill),p(3),v("ngForOf",e.universitySkillList),p(),v("ngIf",e.selectedMajorSkill||e.selectedMinorSkill),p(2),v("disabled",!e.selectedMajorSkill||!e.selectedMinorSkill)}}function iw(n,t){if(n&1){let e=T();s(0,"div",125),O("click",function(){let r=S(e).$implicit,o=h(3);return P(o.toggleAcademySkill(r))}),s(1,"div",126),M(2,"div",127),s(3,"span",128),d(4),c(),M(5,"div",129),c(),M(6,"div",130),c()}if(n&2){let e=t.$implicit,i=h(3);I("selected",i.isAcademySkillSelected(e)),p(4),x(e)}}function rw(n,t){if(n&1){let e=T();s(0,"div",114),M(1,"div",62)(2,"div",63)(3,"div",64)(4,"div",65),s(5,"div",115),M(6,"div",116),s(7,"span",18),d(8,"MIL_SPEC_802"),c(),s(9,"h3"),d(10,"ACADEMY_HONORS_GRADUATION"),c(),s(11,"div",93),d(12,"AWAITING_SPECIALIZATION_INPUT"),c()(),s(13,"div",67),M(14,"div",117),s(15,"p",95),d(16,"IDENTIFIED CAPABILITIES DETECTED. ALLOCATE 3 TRACE_SKILLS TO ACTIVE PROTOCOL:"),c(),s(17,"div",118),b(18,iw,7,3,"div",119),c()(),s(19,"div",70)(20,"div",120)(21,"span",21),d(22,"SYST_LOAD:"),c(),s(23,"div",121),M(24,"div",122),ie(25,"keyvalue"),c(),s(26,"span",123),d(27),ie(28,"keyvalue"),c()(),s(29,"button",124),ie(30,"keyvalue"),O("click",function(){S(e);let r=h(2);return P(r.confirmAcademyGraduation())}),s(31,"span",36),d(32,"ENGAGE_PROTOCOL"),c(),s(33,"span",37),d(34,"FINALIZE_GRADUATION_RECORD"),c()()()()}if(n&2){let e=h(2);p(18),v("ngForOf",e.availableAcademySkills),p(6),Ii("width",he(25,5,e.selectedAcademySkills).length/3*100,"%"),p(3),w("",he(28,7,e.selectedAcademySkills).length," / 3"),p(2),v("disabled",he(30,9,e.selectedAcademySkills).length!==3)}}function ow(n,t){n&1&&(s(0,"div",138),M(1,"img",139),c())}function aw(n,t){n&1&&(s(0,"div",138),M(1,"img",140),c())}function sw(n,t){n&1&&(s(0,"div",141),M(1,"img",142),c())}function cw(n,t){n&1&&(s(0,"p",143),d(1,"[ HONORS_DISTINCTION_DETECTED ]"),c())}function lw(n,t){n&1&&(s(0,"div",144)(1,"span",145),d(2,"EXPULSION_ERROR"),c(),s(3,"p"),d(4,"MANDATORY PROTOCOL: Proceed to [ PRISONER ] Career for next term."),c()())}function dw(n,t){if(n&1&&(s(0,"div",144)(1,"span",146),d(2,"WAR_PROTOCOL_ACTIVE"),c(),s(3,"p"),d(4),c()()),n&2){let e=h(3);p(4),w("SERVICE ASSIGNMENT: Proceed to [ ",e.warNextCareer," ] Career for next term.")}}function uw(n,t){if(n&1&&(s(0,"div",131)(1,"div",132),b(2,ow,2,0,"div",133)(3,aw,2,0,"div",133)(4,sw,2,0,"div",134),c(),s(5,"div",135)(6,"h3"),d(7),c(),b(8,cw,2,0,"p",136),c(),b(9,lw,5,0,"div",137)(10,dw,5,1,"div",137),c()),n&2){let e=h(2);p(2),v("ngIf",e.educationType==="University"&&e.graduationStatus!=="Failed"),p(),v("ngIf",e.educationType==="Academy"&&e.graduationStatus!=="Failed"),p(),v("ngIf",e.graduationStatus==="Honors"),p(3),x(e.graduationStatus==="Failed"?"GRADUATION_FAILED":"GRADUATION_CONFIRMED"),p(),v("ngIf",e.graduationStatus==="Honors"),p(),v("ngIf",e.expelledToPrison),p(),v("ngIf",e.warNextCareer)}}function pw(n,t){if(n&1&&(s(0,"div",55,0),b(2,JP,20,14,"div",56)(3,ZP,19,2,"div",57)(4,nw,42,6,"div",58)(5,rw,35,11,"div",59)(6,uw,11,7,"div",60),c()),n&2){let e=h();p(2),v("ngIf",e.educationStep==="AdmissionResult"),p(),v("ngIf",e.educationStep==="EventResult"),p(),v("ngIf",e.educationStep==="UniversitySkillSelect"),p(),v("ngIf",e.educationStep==="AcademySkillSelect"),p(),v("ngIf",e.educationStep==="Finished"&&e.graduationStatus!=="Pending")}}function fw(n,t){if(n&1){let e=T();s(0,"button",78),O("click",function(){S(e);let r=h(2);return P(r.avoidWar())}),s(1,"span",36),d(2,"AVOID_DRAFT"),c(),s(3,"span",37),d(4,"USE SOCIAL STANDING (SOC 9+)"),c()()}}function gw(n,t){if(n&1){let e=T();s(0,"div",147)(1,"div",148),M(2,"div",149)(3,"div",150)(4,"div",151)(5,"div",152)(6,"div",153),s(7,"div",154)(8,"span",18),d(9,"!!"),c(),s(10,"h3"),d(11,"WAR_PROTOCOL"),c(),s(12,"span",155),d(13,"CRITICAL"),c()(),s(14,"div",156)(15,"p"),d(16,"A national conflict has errupted. Mandatory conscription is in effect for all academic personnel."),c(),s(17,"div",157),b(18,fw,5,0,"button",158),s(19,"button",54),O("click",function(){S(e);let r=h();return P(r.joinWar("Draft"))}),s(20,"span",36),d(21,"ACCEPT_DRAFT"),c(),s(22,"span",37),d(23,"ASSIGNED BY COMMAND (1D6)"),c()(),s(24,"button",159),O("click",function(){S(e);let r=h();return P(r.joinWar("Flee"))}),s(25,"span",36),d(26,"FLEE_PROTOCOL"),c(),s(27,"span",37),d(28,"ABANDON STUDIES (DRIFTER)"),c()()()()()()}if(n&2){let e=h();p(18),v("ngIf",e.canAvoidWar)}}function mw(n,t){if(n&1){let e=T();s(0,"button",166),O("click",function(){let r=S(e).$implicit,o=h(2);return P(o.selectHobbySkill(r))}),M(1,"span",167),s(2,"span",168),d(3),c()()}if(n&2){let e=t.$implicit;p(3),x(e)}}function hw(n,t){if(n&1&&(s(0,"div",147)(1,"div",160),M(2,"div",149)(3,"div",150)(4,"div",151)(5,"div",152)(6,"div",153),s(7,"div",161)(8,"span",18),d(9,"09"),c(),s(10,"h3"),d(11,"HOBBY_ACQUISITION"),c(),s(12,"span",162),d(13,"OPTIONAL"),c()(),s(14,"div",156)(15,"p",163),d(16,"SELECT ONE SCHEMATIC TO ADOPT AS A RECREATIONAL SPECIALIZATION (LEVEL 0):"),c(),s(17,"div",164),b(18,mw,4,1,"button",165),c()()()()),n&2){let e=h();p(18),v("ngForOf",e.hobbySkillOptions)}}function vw(n,t){if(n&1){let e=T();s(0,"button",175),O("click",function(){let r=S(e).$implicit,o=h(2);return P(o.selectTutorSkill(r))}),s(1,"div",176),M(2,"span",177),s(3,"span",178),d(4),c(),s(5,"div",179)(6,"span",180),d(7,"ROLL 9+"),c(),s(8,"span",181),d(9,"+1 LEVEL"),c()()()()}if(n&2){let e=t.$implicit;p(4),x(e)}}function _w(n,t){if(n&1&&(s(0,"div",147)(1,"div",169),M(2,"div",149)(3,"div",150)(4,"div",151)(5,"div",152)(6,"div",153),s(7,"div",170)(8,"span",18),d(9,"10"),c(),s(10,"h3"),d(11,"TUTOR_SPECIALIZATION"),c(),s(12,"span",171),d(13,"MENTOR"),c()(),s(14,"div",156)(15,"p",172),d(16,"AN ACADEMIC MENTOR HAS OFFERED INTENSIVE STUDY SESSIONS. SELECT A FOCUS AREA:"),c(),s(17,"div",173),b(18,vw,10,1,"button",174),c()()()()),n&2){let e=h();p(18),v("ngForOf",e.tutorSkillOptions)}}var al=class n{resultsSection;skillsSection;characterService=C(de);diceService=C(Ye);wizardFlow=C(De);ngOnInit(){this.wizardFlow.registerValidator(5,()=>this.canProceedToNext()||this.admissionStatus==="Rejected"),this.wizardFlow.registerFinishAction(5,()=>this.finishStep()),setTimeout(()=>this.calculateAdmissionDMs(),100)}ngOnDestroy(){this.wizardFlow.unregisterStep(5)}educationType="None";academyType="Army";admissionMethod="Local";admissionDMs={local:0,offWorld:0};canChooseOffWorld=!0;universitySkillList=["Admin","Advocate","Art (Holography)","Art (Write)","Astrogation","Broker","Diplomat","Electronics (Computers)","Electronics (Remote Ops)","Electronics (Sensors)","Engineer (Life Support)","Engineer (Power)","Engineer (Stutterwarp)","Language (Any)","Leadership","Medic","Navigation","Persuade","Science (Archaeology)","Science (Astronomy)","Science (Biology)","Science (Chemistry)","Science (Cosmology)","Science (Cybernetics)","Science (Economics)","Science (Genetics)","Science (History)","Science (Linguistics)","Science (Philosophy)","Science (Physics)","Science (Planetology)","Science (Psychology)","Science (Sophontology)","Science (Xenology)"];academySkills={Army:["Drive 0","Athletics 0","Gun Combat 0","Recon 0","Melee 0","Heavy Weapons 0"],Marines:["Athletics 0","Vacc Suit 0","Tactics 0","Heavy Weapons 0","Gun Combat 0","Stealth 0"],Navy:["Pilot 0","Vacc Suit 0","Athletics 0","Gunner 0","Mechanic 0","Gun Combat 0"],Scouts:["Pilot 0","Astrogation 0","Sensors 0","Survival 0","Mechanic 0","Vacc Suit 0"],Spaceborne:["Vacc Suit 0","Zero-G 0","Mechanic 0","Pilot 0","Astrogation 0","Sensors 0"]};admissionStatus="NotApplied";graduationStatus="Pending";eventResult="";rollLog=[];isNpcPrompt=!1;pendingNpcs=[];educationStep="Selection";admissionRollTotal=0;admissionTarget=0;admissionModifiers=[];admissionStatName="";admissionAnnouncement="";currentEvent=null;educationEvents=ol;graduationRollTotal=0;graduationTarget=0;graduationModifiers=[];graduationHonorsTarget=10;graduationAnnouncement="";isGraduationHonors=!1;selectedMajorSkill="";selectedMinorSkill="";availableAcademySkills=[];selectedAcademySkills={};diceDisplay=C(Ke);eventEngine=C(ii);showHobbySelection=!1;hobbySkillOptions=[];showTutorSelection=!1;tutorSkillOptions=[];showWarOptions=!1;canAvoidWar=!1;expelledToPrison=!1;warNextCareer="";psionicPotential=!1;graduated=!0;constructor(){this.calculateAdmissionDMs();let t=this.characterService.character();(t.education?.university!==null||t.education?.academy!==null)&&(t.education?.university?(this.educationType="University",this.admissionStatus="Admitted",this.graduationStatus=t.education.honors?"Honors":"Graduated"):t.education?.academy&&(this.educationType="Academy",this.admissionStatus="Admitted",this.graduationStatus=t.education.honors?"Honors":"Graduated"),this.educationType==="University"&&this.admissionStatus==="Admitted"?this.educationStep="UniversitySkillSelect":this.admissionStatus==="Admitted"&&(this.educationStep="EventRoll"),this.scrollToTop())}resetAdmission(){this.admissionStatus="NotApplied",this.educationStep="Selection",this.educationType="None",this.calculateAdmissionDMs()}getHexValue(t){return t?/[0-9]/.test(t)?parseInt(t):/[A-H]/.test(t)?t.charCodeAt(0)-65+10:0:0}calculateAdmissionDMs(){let t=this.characterService.character(),e=t.homeworld,i=At.find(a=>a.name===t.nationality);console.log("Calculating DMs for:",{world:e,nation:i,origin:t.originType});let r=0;if(e&&e.uwp){let a="0";if(e.uwp.includes("-")){let u=e.uwp.split("-");u.length>1&&u[1].length>0&&(a=u[1][0])}else e.uwp.length>=8&&(a=e.uwp[e.uwp.length-1]);let l=this.getHexValue(a);console.log("Detected TL:",l),l<=7?r=-6:l<=9?r=-4:l<=11?r=-2:r=0}let o=0;if(i){let a=i.tier;a===1?o=2:a===2?o=0:a===3?o=-2:a===4?o=-4:a===5?o=-6:o=-8}t.originType==="Spacer"&&(r-=2,o-=2),this.admissionDMs={local:r,offWorld:o}}getAcademyValidation(t){let e=this.characterService.character(),r=At.find(a=>a.name===e.nationality)?.tier||3,o=e.characteristics;return t==="Army"&&e.originType==="Spacer"?{available:!1,reason:"REJECTED: Spacers cannot join the Army in Term 1."}:r>=5&&(t==="Navy"||t==="Scouts")?{available:!1,reason:`REJECTED: ${e.nationality} (Tier ${r}) does not support ${t} careers.`}:(t==="Army"||t==="Marines"||t==="Navy")&&(o.str.value<5||o.dex.value<5||o.end.value<5)?{available:!1,reason:"REJECTED: Requires STR 5+, DEX 5+, and END 5+."}:t==="Scouts"&&(o.int.value<6||o.end.value<6)?{available:!1,reason:"REJECTED: Requires INT 6+ and END 6+."}:{available:!0}}isAcademySkillSelected(t){return Object.values(this.selectedAcademySkills).includes(t)}async initAdmission(){this.rollLog=[],this.admissionStatus="Applying";let t=this.characterService.character();if(this.educationType==="University"){let y=t.careerHistory.length+1;if(y>3){this.admissionStatus="Rejected",this.characterService.log(`**University Admission Denied**: Universities are only available in Terms 1-3 (you are in Term ${y})`),this.educationStep="AdmissionResult",this.scrollToTop();return}}let e=this.admissionMethod==="Local"?this.admissionDMs.local:this.admissionDMs.offWorld,i=t.characteristics.edu.value+t.characteristics.edu.modifier,r=t.characteristics.int.value+t.characteristics.int.modifier,o=t.characteristics.end.value+t.characteristics.end.modifier,a=0,l=0,u="",f=0,g=[];g.push({label:`Method (${this.admissionMethod})`,value:e}),f+=e,this.educationType==="University"?(a=6,u="EDU",l=this.diceService.getModifier(i),g.push({label:"EDU",value:l}),f+=l,t.characteristics.soc.value>=9&&(g.push({label:"SOC 9+",value:1}),f+=1)):this.educationType==="Academy"&&(this.academyType==="Army"?(a=7,l=this.diceService.getModifier(o),u="END"):this.academyType==="Marines"?(a=8,l=this.diceService.getModifier(o),u="END"):(a=9,l=this.diceService.getModifier(r),u="INT"),g.push({label:u,value:l}),f+=l,t.characteristics.end.value>=8&&(g.push({label:"END 8+",value:1}),f+=1),t.characteristics.soc.value>=8&&(g.push({label:"SOC 8+",value:1}),f+=1));let m=t.careerHistory.length+1;this.educationType==="University"?m===2?(f-=1,g.push({label:"Term 2 Penalty",value:-1})):m===3&&(f-=2,g.push({label:"Term 3 Penalty",value:-2})):this.educationType==="Academy"&&(m===2?(f-=2,g.push({label:"Term 2 Penalty",value:-2})):m===3&&(f-=4,g.push({label:"Term 3 Penalty",value:-4}))),this.admissionTarget=a,this.admissionModifiers=g,this.admissionStatName=u;let _=this.admissionMethod==="OffWorld"?" (Off-World: grants EDU +1 if admitted)":"";this.admissionAnnouncement=`Roll 2D6 + ${u} modifier and meet or exceed ${a}+.${_}`,await this.executeAdmissionRoll()}async executeAdmissionRoll(){let t=this.admissionModifiers,e=this.admissionTarget,i=0;t.forEach(l=>i+=l.value);let r=this.educationType==="University"?"University":`${this.academyType} Academy`,o=await this.diceDisplay.roll(`Admission Check - ${r}`,2,i,e,this.admissionStatName,void 0,t,void 0,{phase:`EDUCATION \xB7 ADMISSION \xB7 ${r.toUpperCase()}`,announcement:`**${r} Admission**

${this.admissionAnnouncement}`,successContext:"Admission granted. You begin your studies immediately.",failureContext:"Application rejected. You may proceed directly to your career."}),a=o+i;this.admissionRollTotal=a,this.log(`Roll: ${o} + DM ${i} = ${a} vs ${e}`),a>=e?(this.admissionStatus="Admitted",this.characterService.log(`**Admitted** to ${r} (${this.admissionMethod}) \u2014 Roll ${a} vs ${e}`),this.educationType==="University"?this.enterUniversity():this.enterAcademy()):(this.admissionStatus="Rejected",this.characterService.log(`**Admission Rejected** (${r}) \u2014 Roll ${a} vs ${e}`)),this.educationStep="AdmissionResult",this.scrollToTop()}apply(){this.initAdmission()}proceedFromAdmissionResult(){if(this.admissionStatus==="Rejected"){this.resetAdmission();return}this.educationType==="University"?this.educationStep="UniversitySkillSelect":this.educationType==="Academy"&&this.initEventRoll(),this.scrollToTop()}proceedFromEventResult(){this.showHobbySelection=!1,this.showTutorSelection=!1,this.showWarOptions=!1,this.eventEngine.currentEvent.set(null),this.eventEngine.eventStack.set([]),this.graduationStatus==="Failed"?this.educationStep="Finished":this.initGraduationRoll(),this.scrollToTop()}proceedFromAcademySkillSelect(){this.confirmAcademyGraduation(),this.educationStep="Finished",this.scrollToTop()}enterUniversity(){this.admissionMethod==="OffWorld"&&this.characterService.updateCharacter({education:A(E({},this.characterService.character().education),{offworld:!0})}),this.characterService.updateCharacteristics(this.modifyStat("EDU",1)),this.characterService.log("**Entered University**: EDU +1. Select Major (Level 1) and Minor (Level 0)."),this.log("Entered University. EDU +1. Please select your Major (Level 1) and Minor (Level 0) skills.")}enterAcademy(){let t=this.characterService.character(),e=this.admissionMethod==="OffWorld";this.characterService.updateCharacter({education:A(E({},t.education),{academy:!0,offworld:e})}),(this.academySkills[this.academyType]||[]).forEach(r=>{let o=r.split(" "),a=o.slice(0,o.length-1).join(" ");this.characterService.addSkill(a,0)}),this.characterService.log(`**Entered ${this.academyType} Academy**: Basic Training granted (Service Skills at Level 0)`),this.log(`Entered ${this.academyType} Academy. Gained Basic Training (Service Skills 0).`)}async initGraduationRoll(){this.showHobbySelection=!1,this.showTutorSelection=!1,this.showWarOptions=!1,this.eventEngine.currentEvent.set(null),this.eventEngine.eventStack.set([]);let t=this.characterService.character(),e=t.characteristics.int.value+t.characteristics.int.modifier,i=0,r=0,o=[];this.educationType==="University"?i=6:i=7;let a=this.diceService.getModifier(e);o.push({label:"INT",value:a}),r+=a,this.graduationTarget=i,this.graduationModifiers=o,this.graduationHonorsTarget=this.educationType==="University"?10:11,this.graduationAnnouncement=`Roll 2D6 + INT modifier and meet or exceed ${i}+ to graduate. Roll ${this.graduationHonorsTarget}+ for Honors.`,await this.executeGraduationRoll()}async executeGraduationRoll(){let t=this.graduationModifiers,e=this.graduationTarget,i=0;t.forEach(a=>i+=a.value);let r=await this.diceDisplay.roll(`Graduation Check - ${this.educationType}`,2,i,e,"INT",void 0,t,void 0,{phase:`EDUCATION \xB7 GRADUATION \xB7 ${this.educationType.toUpperCase()}`,announcement:`**Graduation Roll** (${this.educationType})

${this.graduationAnnouncement}`,successContext:"You graduate successfully. Benefits are applied to your character sheet.",failureContext:`You fail to graduate. ${this.educationType==="Academy"?"A roll above 2 still grants automatic career entry (Rule 632).":"No education benefits are gained."}`}),o=r+i;if(this.graduationRollTotal=o,o>=e){let a=this.educationType==="University"?10:11;o>=a?(this.isGraduationHonors=!0,this.graduationStatus="Honors",this.characterService.log(`**Graduated with Honors!** (${this.educationType}) \u2014 Roll ${o} vs ${a}`),this.log("Graduated with Honors!"),this.applyGraduationBenefits(!0)):(this.isGraduationHonors=!1,this.graduationStatus="Graduated",this.characterService.log(`**Graduated** (${this.educationType}) \u2014 Roll ${o} vs ${e}`),this.log("Graduated successfully."),this.applyGraduationBenefits(!1)),this.saveResult(!0,this.isGraduationHonors),this.educationType==="University"?(this.educationStep="Finished",this.wizardFlow.notifyValidation()):this.educationStep="AcademySkillSelect"}else this.graduationStatus="Failed",this.characterService.log(`**Failed to Graduate** (${this.educationType})`),this.log("Failed to graduate."),this.educationType==="Academy"&&r>2&&(this.log("Rule 632: Despite failure, your time in the academy grants you automatic entry to any career of your choice."),this.characterService.log("**Academy Discharge**: Granted automatic career entry (Rule 632) - choose any career next term.")),this.saveResult(!1,!1),this.educationStep="Finished",this.wizardFlow.notifyValidation();this.scrollToTop()}async graduate(){if(await this.runEvent(),this.graduationStatus==="Failed"){this.educationStep="Finished",this.scrollToTop();return}this.initGraduationRoll()}registerEducationHandlers(){this.eventEngine.registerCustomHandler("PSIONIC_CONTACT",()=>{this.characterService.setPsionicPotential(!0),this.characterService.log("**Psionic Potential**: Latent abilities discovered during studies.")}),this.eventEngine.registerCustomHandler("TRAGEDY",()=>{this.graduated=!1,this.graduationStatus="Failed",this.characterService.setEducationStatus(!1,!1),this.characterService.log("**Tragedy**: Education terminated abruptly.")}),this.eventEngine.registerCustomHandler("PRANK",async()=>{await this.handlePrank()}),this.eventEngine.registerCustomHandler("FRIENDS",async()=>{let t=await this.diceDisplay.roll("Allies Gained (1D3)",1,0,0,"",i=>`Roll ${i} :: Gain ${Math.ceil(i/2)} Allies during studies.`),e=Math.ceil(t/2);for(let i=0;i<e;i++)this.characterService.addNpc({id:crypto.randomUUID(),name:`University Friend ${i+1}`,type:"ally",origin:"Education (Roll 6)",notes:"A close friend from academic years."});this.characterService.log(`**Friends**: Gained ${e} ally/allies from academic network.`)}),this.eventEngine.registerCustomHandler("POLITICS",async()=>{let t=this.characterService.character(),e=this.diceService.getModifier(t.characteristics.soc.value+t.characteristics.soc.modifier),i=e!==0?[{label:"SOC",value:e}]:[];await this.diceDisplay.roll("Politics Check (SOC)",2,e,8,"SOC",void 0,i)+e>=8&&(this.characterService.addNpc({id:crypto.randomUUID(),name:"Political Ally",type:"ally",origin:"Political Movement (Roll 8)",notes:"A powerful political supporter. Met during political activism."}),this.characterService.addNpc({id:crypto.randomUUID(),name:"Political Enemy",type:"enemy",origin:"Political Movement (Roll 8)",notes:"An ideological rival. Opponent during the campus political movement."}))}),this.eventEngine.registerCustomHandler("HOBBY",()=>{this.openHobbySelection()}),this.eventEngine.registerCustomHandler("TUTOR",()=>{this.openTutorSelection()}),this.eventEngine.registerCustomHandler("WAR",async()=>{await this.handleWar()})}async initEventRoll(){this.registerEducationHandlers();let t=await this.diceDisplay.roll("Education Event",2,0,0,"",i=>Rf(i).ui.description,[],void 0,{phase:`EDUCATION \xB7 TERM EVENT \xB7 ${this.educationType.toUpperCase()}`,announcement:`Roll 2D6 to determine what significant event occurred during your ${this.educationType} studies. Results range from tragedies and pranks to useful skills and academic recognition.`,successContext:"The event unfolds. Review the outcome below.",failureContext:"",debugTableData:ol});this.characterService.log(`**Education Event** (Roll ${t})`);let e=Rf(t);if(this.currentEvent={roll:t,desc:e.ui.description},this.eventEngine.registerEvent(e),this.eventEngine.triggerEvent(e.id),e.ui.options&&e.ui.options.length>0){let i=e.ui.options[0];i.effects&&await this.eventEngine.applyEffects(i.effects)}this.educationStep="EventResult",this.scrollToTop()}async runEvent(){await this.initEventRoll()}async handlePrank(){let t=await this.diceDisplay.roll("Prank Check (SOC)",2,0,8,"SOC");if(t===2){this.graduated=!1,this.graduationStatus="Failed",this.expelledToPrison=!0,this.characterService.setEducationStatus(!1,!1),this.characterService.setNextCareer("Prisoner"),this.characterService.log("**EXPELLED**: Prank went catastrophically wrong. Mandatory transition to Prisoner."),this.educationStep="Finished",this.wizardFlow.notifyValidation();return}t>=8?this.characterService.addNpc({id:crypto.randomUUID(),name:"Prank Victim",type:"rival",origin:"Prank Gone Wrong (Roll 4)",notes:"A fellow student targeted by your prank. They didn't find it funny."}):this.characterService.addNpc({id:crypto.randomUUID(),name:"Vengeful Student",type:"enemy",origin:"Prank Gone Wrong (Roll 4)",notes:"They took your prank personally. Swore revenge after the incident."})}async handleWar(){this.characterService.character().characteristics.soc.value>=9?this.canAvoidWar=!0:this.canAvoidWar=!1,this.showWarOptions=!0}avoidWar(){this.showWarOptions=!1,this.graduated=!0,this.graduationStatus="Passed",this.characterService.log("Used social standing to avoid the draft."),this.characterService.log("**Education Completed**: Successfully graduated with honors (avoided draft)."),this.educationStep="Finished",this.wizardFlow.notifyValidation(),this.scrollToTop()}async joinWar(t){if(this.showWarOptions=!1,this.graduated=!1,this.graduationStatus="Failed",this.characterService.setEducationStatus(!1,!1),t==="Flee")this.warNextCareer="Drifter",this.characterService.setNextCareer("Drifter"),this.characterService.updateDm("qualification",100),this.characterService.log("**Fleeing**: Resigned from education to avoid draft. Next Career: Drifter."),this.educationStep="Finished",this.wizardFlow.notifyValidation(),this.scrollToTop();else{let e=await this.diceDisplay.roll("Military Draft Assignment",1,0,0,"",i=>i===1?"NAVY (1)":i===2?"ARMY (2)":i===3?"MARINE (3)":i===4?"MERCHANT (4)":i===5?"SCOUT (5)":"AGENT (6)");e===1?this.warNextCareer="Navy":e===2?this.warNextCareer="Army":e===3?this.warNextCareer="Marine":e===4?this.warNextCareer="Merchant":e===5?this.warNextCareer="Scout":this.warNextCareer="Agent",this.characterService.setNextCareer(this.warNextCareer),this.characterService.updateDm("qualification",100),this.characterService.log(`**Drafted**: Education terminated by national service. Drafted into ${this.warNextCareer}.`),this.educationStep="Finished",this.wizardFlow.notifyValidation(),this.scrollToTop()}}openHobbySelection(){this.hobbySkillOptions=["Admin","Advocate","Animals (Handling)","Animals (Training)","Animals (Veterinary)","Art (Holography)","Art (Instrument)","Art (Performer)","Art (Visual Media)","Art (Write)","Astrogation","Athletics (Dexterity)","Athletics (Endurance)","Athletics (Strength)","Broker","Carouse","Deception","Diplomat","Drive (Hover)","Drive (Mole)","Drive (Track)","Drive (Walker)","Drive (Wheel)","Electronics (Comms)","Electronics (Computers)","Electronics (Remote Ops)","Electronics (Sensors)","Engineer (Life Support)","Engineer (Power)","Engineer (Stutterwarp)","Explosives","Flyer (Airship)","Flyer (Ornithopter)","Flyer (Rotor)","Flyer (Vectored Thrust)","Flyer (Wing)","Gambler","Gun Combat (Archaic)","Gun Combat (Energy)","Gun Combat (Slug)","Gunner (Capital)","Gunner (Ortillery)","Gunner (Screen)","Gunner (Turret)","Heavy Weapons (Artillery)","Heavy Weapons (Man Portable)","Heavy Weapons (Vehicle)","Investigate","Language (Any)","Leadership","Mechanic","Medic","Melee (Blade)","Melee (Bludgeon)","Melee (Unarmed)","Navigation","Persuade","Pilot (Capital Ships)","Pilot (Small Craft)","Pilot (Spacecraft)","Profession (Belter)","Profession (Biologicals)","Profession (Civil Engineering)","Profession (Construction)","Profession (Hydroponics)","Profession (Polymers)","Recon","Science (Biology)","Science (Chemistry)","Science (History)","Science (Physics)","Science (Psychology)","Science (Sophontology)","Science (Xenology)","Seafarer (Ocean Ship)","Seafarer (Personal)","Seafarer (Sail)","Seafarer (Submarine)","Stealth","Steward","Streetwise","Survival","Tactics (Military)","Tactics (Naval)","Vacc Suit"],this.showHobbySelection=!0}selectHobbySkill(t){this.characterService.addSkill(t,0),this.showHobbySelection=!1,this.characterService.log(`**Hobby**: Acquired interest in ${t} (Leve 0).`),this.log(`Acquired skill: ${t} (Level 0).`)}openTutorSelection(){let t=[];this.selectedMajorSkill&&t.push(this.selectedMajorSkill),this.selectedMinorSkill&&t.push(this.selectedMinorSkill),this.educationType==="Academy"&&Object.values(this.selectedAcademySkills).forEach(e=>t.push(e)),this.tutorSkillOptions=t.length>0?t:["Admin","Medic","Science (Any)"],this.showTutorSelection=!0}async selectTutorSkill(t){this.showTutorSelection=!1;let r=this.characterService.character().characteristics["edu"],o=this.diceService.getModifier(r.value+r.modifier),a=o!==0?[{label:"EDU",value:o}]:[];await this.diceDisplay.roll(`Tutor Check (${t})`,2,o,9,"EDU",void 0,a)+o>=9?(this.characterService.addSkill(t,1),this.characterService.addNpc({id:crypto.randomUUID(),name:"Exacting Tutor",type:"rival",origin:"Tutor Interest (Roll 10)",notes:"A brilliant but demanding academic mentor. Demanded perfection from their students."}),this.characterService.log(`**Tutor Mastery**: Improved ${t} through rigorous study. Gained Tutor as a Rival.`)):this.characterService.log("**Tutor Failure**: Study sessions with the tutor yielded no measurable gains.")}confirmUniversitySkills(){!this.selectedMajorSkill||!this.selectedMinorSkill||(this.characterService.addSkill(this.selectedMajorSkill,1),this.characterService.addSkill(this.selectedMinorSkill,0),this.characterService.log(`**University Curriculum**: Major: ${this.selectedMajorSkill} (1), Minor: ${this.selectedMinorSkill} (0)`),this.log(`Selected Curriculum: ${this.selectedMajorSkill} (1), ${this.selectedMinorSkill} (0).`),this.initEventRoll())}toggleAcademySkill(t){let e=Object.values(this.selectedAcademySkills);if(e.includes(t)){let i=Object.keys(this.selectedAcademySkills).find(r=>this.selectedAcademySkills[parseInt(r)]===t);i&&delete this.selectedAcademySkills[parseInt(i)]}else if(e.length<3){for(let i=0;i<3;i++)if(!this.selectedAcademySkills[i]){this.selectedAcademySkills[i]=t;break}}}confirmAcademyGraduation(){let t=Object.values(this.selectedAcademySkills);if(t.length!==3)return;t.forEach(i=>{this.characterService.addSkill(i,1)}),this.characterService.log(`**Academy Graduation** (${this.academyType}): Improved ${t.join(", ")} to Level 1`),this.log(`Academy Training Complete. Improved: ${t.join(", ")}.`);let e=this.academyType;if(e==="Marines"&&(e="Marine"),e==="Scouts"&&(e="Scout"),this.characterService.updateCharacter({forcedCareer:e}),this.graduationStatus==="Honors"){let i=this.characterService.character();this.characterService.updateCharacter({education:A(E({},i.education),{honors:!0})}),this.characterService.log(`**Honors Commission**: Commissioned as Rank 1 Officer in ${e}`),this.log(`Honors: Commissioned as Rank 1 Officer in ${e}.`)}this.educationStep="Finished",this.wizardFlow.notifyValidation()}applyGraduationBenefits(t){if(this.educationType==="University")this.characterService.updateCharacteristics(this.modifyStat("EDU",1)),this.characterService.addSkill(this.selectedMajorSkill,1),this.characterService.addSkill(this.selectedMinorSkill,1),t&&(this.characterService.updateCharacteristics(this.modifyStat("SOC",1)),this.log("Honors Bonus: SOC +1, DM+2 to Qualification.")),this.educationStep="Finished";else{this.characterService.updateCharacteristics(this.modifyStat("EDU",1));let e=this.academySkills[this.academyType]||[];this.availableAcademySkills=e.map(i=>{let r=i.split(" ");return r.slice(0,r.length-1).join(" ")}),this.log("Graduated. Select 3 skills to improve to Level 1."),this.educationStep="AcademySkillSelect"}}modifyStat(t,e){let i=this.characterService.character(),r=JSON.parse(JSON.stringify(i.characteristics)),o=t.toLowerCase();return r[o]&&(r[o].value+=e,r[o].modifier=this.diceService.getModifier(r[o].value)),r}saveResult(t,e){let i=this.characterService.character(),r=i.education||{},o=A(E({},r),{university:this.educationType==="University"?t:r.university||!1,academy:this.educationType==="Academy"?t:r.academy||!1,honors:e||r.honors||!1,fail:!t}),a=i.age;this.characterService.updateCharacter({education:o,age:a+4})}canProceedToNext(){return this.educationStep==="Finished"&&this.graduationStatus!=="Pending"}finishStep(){this.showHobbySelection=!1,this.showTutorSelection=!1,this.showWarOptions=!1,this.eventEngine.currentEvent.set(null),this.eventEngine.eventStack.set([]),this.wizardFlow.advance()}confirmNpcs(){for(let t of this.pendingNpcs)this.characterService.addNpc(t);this.isNpcPrompt=!1,this.pendingNpcs=[]}log(t){console.log(`[EducationComponent] ${t}`)}scrollToTop(){setTimeout(()=>{let t=document.querySelector(".wizard-content");t&&(t.scrollTop=0)},100)}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=G({type:n,selectors:[["app-education"]],viewQuery:function(e,i){if(e&1&&ln(LP,5)(FP,5),e&2){let r;ut(r=pt())&&(i.resultsSection=r.first),ut(r=pt())&&(i.skillsSection=r.first)}},decls:7,vars:5,consts:[["resultsSection",""],["skillsSection",""],[1,"education-container"],["stepSymbol","SEC","stepNumber","05","superLabel","ACADEMIC_RECORDS_SYSTEM","topLabel","ACADEMIC_HISTORY","title","ACADEMIC_ENROLLMENT","subtitle","SUBMIT APPLICATION FOR HIGHER EDUCATION OR PROCEED DIRECTLY TO A CAREER"],["class","education-stack",4,"ngIf"],["class","results",4,"ngIf"],["class","overlay",4,"ngIf"],[1,"education-stack"],[1,"education-card",3,"click"],[1,"card-corner","tl"],[1,"card-corner","tr"],[1,"card-corner","bl"],[1,"card-corner","br"],[1,"card-scan-line"],[1,"card-type-tag"],[1,"card-layout"],[1,"info-column"],[1,"card-header"],[1,"index"],[1,"card-status-dot"],[1,"details"],[1,"label"],[1,"highlight"],[1,"description-text"],["class","config-column",3,"click",4,"ngIf"],[1,"education-card","military-card",3,"click"],[1,"card-type-tag","military"],[1,"education-card","draft-card",3,"click"],[1,"card-type-tag","draft"],[1,"config-column",3,"click"],[1,"admission-method"],[1,"hud-label"],[1,"radio-tab-group"],[1,"radio-tab"],["type","radio","name","admMethod","value","Local",3,"ngModelChange","ngModel"],[1,"tab-content"],[1,"primary"],[1,"secondary"],["type","radio","name","admMethod","value","OffWorld",3,"ngModelChange","ngModel"],["class","risk-tag",4,"ngIf"],[1,"btn-action",3,"click","disabled"],[1,"risk-tag"],[1,"branch-selector"],[1,"cyber-select",3,"ngModelChange","ngModel"],["value","Army",3,"disabled"],["value","Marines",3,"disabled"],["value","Navy",3,"disabled"],["value","Scouts",3,"disabled"],["class","validation-reason",4,"ngIf"],["type","radio","name","admMethodAc","value","Local",3,"ngModelChange","ngModel"],["type","radio","name","admMethodAc","value","OffWorld",3,"ngModelChange","ngModel"],[1,"validation-reason"],[1,"warning-icon"],[1,"draft-notice"],[1,"btn-action","warn",3,"click"],[1,"results"],["class","roll-phase-screen hud-module info fade-in",4,"ngIf"],["class","roll-phase-screen hud-module event-phase fade-in",4,"ngIf"],["class","skill-selection university-polish hud-module info fade-in",4,"ngIf"],["class","skill-selection-module academy-polish hud-module info fade-in",4,"ngIf"],["class","graduation-result",4,"ngIf"],[1,"roll-phase-screen","hud-module","info","fade-in"],[1,"corner-detail","tl"],[1,"corner-detail","tr"],[1,"corner-detail","bl"],[1,"corner-detail","br"],[1,"hud-box-header"],[1,"hud-content"],[1,"result-display"],["class","result-details",4,"ngIf"],[1,"hud-footer","tactical"],["class","btn-action elite",3,"click",4,"ngIf"],["class","button-group","style","display: flex; gap: 1rem;",4,"ngIf"],[1,"result-details"],[4,"ngIf"],[1,"btn-action","elite",3,"click"],[1,"button-group",2,"display","flex","gap","1rem"],[1,"btn-action","secondary",3,"click"],[1,"btn-action",3,"click"],[1,"roll-phase-screen","hud-module","event-phase","fade-in"],[1,"hud-box-header","event-header","result"],[1,"status-light","active"],[1,"hud-content","event-content","result"],["class","event-display",4,"ngIf"],[1,"hud-footer","tactical","event-footer"],[1,"btn-action","elite","modern","event-proceed",3,"click","disabled"],[1,"event-display"],[1,"roll-display"],[1,"roll-label"],[1,"roll-number"],[1,"event-narrative"],[1,"skill-selection","university-polish","hud-module","info","fade-in"],[1,"hud-box-header","schematic-spec"],[1,"status-badge","pulse"],[1,"hud-content","compact"],[1,"instruction"],[1,"vector-grid","compact"],[1,"vector-field","compact"],[1,"field-label"],[1,"field-tag"],["title","Primary Specialization",1,"cyber-select","modern",3,"ngModelChange","ngModel"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],["title","Secondary Specialization",1,"cyber-select","modern",3,"ngModelChange","ngModel"],[3,"value","disabled",4,"ngFor","ngForOf"],["class","selection-summary",4,"ngIf"],[1,"hud-footer","tactical","compact"],[1,"btn-action","elite","modern",3,"click","disabled"],[3,"value"],[3,"value","disabled"],[1,"selection-summary"],[1,"summary-entry"],[1,"summary-label"],[1,"summary-value"],[1,"skill-selection-module","academy-polish","hud-module","info","fade-in"],[1,"hud-box-header","military-spec"],[1,"scan-line"],[1,"schematic-overlay"],[1,"skill-blueprint-grid"],["class","skill-chip",3,"selected","click",4,"ngFor","ngForOf"],[1,"data-readout"],[1,"load-bar"],[1,"fill"],[1,"val"],[1,"btn-action","elite",3,"click","disabled"],[1,"skill-chip",3,"click"],[1,"chip-inner"],[1,"chip-socket"],[1,"skill-name"],[1,"status-led"],[1,"chip-highlight"],[1,"graduation-result"],[1,"graduation-visual-overlay"],["class","wireframe-container active",4,"ngIf"],["class","wireframe-container active honors",4,"ngIf"],[1,"result-text-block"],["class","honors-text",4,"ngIf"],["class","redirection-notice",4,"ngIf"],[1,"wireframe-container","active"],["src","assets/images/ui/wireframe_brain.png","alt","Brain Schematic",1,"wireframe-asset","brain"],["src","assets/images/ui/wireframe_star.png","alt","Star Schematic",1,"wireframe-asset","star"],[1,"wireframe-container","active","honors"],["src","assets/images/ui/wireframe_medal.png","alt","Medal Schematic",1,"wireframe-asset","medal"],[1,"honors-text"],[1,"redirection-notice"],[1,"warning-tag"],[1,"war-tag"],[1,"overlay"],[1,"modal-card","war-modal"],[1,"modal-corner","tl"],[1,"modal-corner","tr"],[1,"modal-corner","bl"],[1,"modal-corner","br"],[1,"modal-scan-line"],[1,"modal-header","war-header"],[1,"modal-status","blink"],[1,"modal-body"],[1,"action-grid"],["class","btn-action",3,"click",4,"ngIf"],[1,"btn-action","risk",3,"click"],[1,"modal-card","hobby-modal"],[1,"modal-header","hobby-header"],[1,"modal-status","optional"],[1,"hobby-instruction"],[1,"hobby-chip-grid"],["class","hobby-chip",3,"click",4,"ngFor","ngForOf"],[1,"hobby-chip",3,"click"],[1,"chip-led"],[1,"chip-name"],[1,"modal-card","mentor-modal","tutor-modal"],[1,"modal-header","tutor-header"],[1,"modal-status","mentor"],[1,"tutor-instruction"],[1,"tutor-option-list"],["class","tutor-option",3,"click",4,"ngFor","ngForOf"],[1,"tutor-option",3,"click"],[1,"tutor-option-inner"],[1,"tutor-led"],[1,"tutor-skill-name"],[1,"tutor-meta"],[1,"tutor-roll-req"],[1,"tutor-effect"]],template:function(e,i){e&1&&(s(0,"div",2),M(1,"app-step-header",3),b(2,$P,88,15,"div",4)(3,pw,7,5,"div",5)(4,gw,29,1,"div",6)(5,hw,19,1,"div",6)(6,_w,19,1,"div",6),c()),e&2&&(p(2),v("ngIf",i.admissionStatus==="NotApplied"),p(),v("ngIf",i.admissionStatus!=="NotApplied"),p(),v("ngIf",i.showWarOptions),p(),v("ngIf",i.showHobbySelection),p(),v("ngIf",i.showTutorSelection))},dependencies:[Z,_e,ne,rt,P_,D_,fn,Gc,ha,ni,Nn,Fe,Lp],styles:[`@charset "UTF-8";.education-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem;padding:1.5rem 1.5rem 5rem;max-width:1200px;margin:0 auto;position:relative;box-sizing:border-box}.education-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:var(--text-main);font-size:1.1rem;margin-bottom:.2rem;font-family:var(--font-accent);text-transform:uppercase;letter-spacing:4px;display:flex;align-items:center;gap:1rem}.education-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]:before{content:"";width:14px;height:14px;background:var(--neon-cyan);clip-path:polygon(0 0,100% 0,80% 100%,0 100%);box-shadow:0 0 10px var(--neon-cyan-glow)}.education-container[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{color:var(--text-dim);font-family:var(--font-mono);font-size:.65rem;text-transform:uppercase;letter-spacing:1px;margin-bottom:1rem;padding-left:2rem}.education-stack[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;width:100%;margin-bottom:2rem}.education-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#00050abf,#000000d9);border:1px solid rgba(0,243,255,.12);cursor:pointer;transition:all .3s cubic-bezier(.4,0,.2,1);-webkit-backdrop-filter:blur(var(--backdrop-blur));backdrop-filter:blur(var(--backdrop-blur));position:relative;overflow:hidden;min-height:80px;display:flex;flex-direction:column}.education-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:1px;background:linear-gradient(90deg,transparent 0%,var(--neon-cyan) 50%,transparent 100%);opacity:0;transition:opacity .3s;pointer-events:none}.education-card[_ngcontent-%COMP%]   .card-corner[_ngcontent-%COMP%]{position:absolute;width:10px;height:10px;border-color:var(--neon-cyan);border-style:solid;opacity:.25;transition:opacity .3s,border-color .3s;pointer-events:none}.education-card[_ngcontent-%COMP%]   .card-corner.tl[_ngcontent-%COMP%]{top:5px;left:5px;border-width:1px 0 0 1px}.education-card[_ngcontent-%COMP%]   .card-corner.tr[_ngcontent-%COMP%]{top:5px;right:5px;border-width:1px 1px 0 0}.education-card[_ngcontent-%COMP%]   .card-corner.bl[_ngcontent-%COMP%]{bottom:5px;left:5px;border-width:0 0 1px 1px}.education-card[_ngcontent-%COMP%]   .card-corner.br[_ngcontent-%COMP%]{bottom:5px;right:5px;border-width:0 1px 1px 0}.education-card[_ngcontent-%COMP%]   .card-scan-line[_ngcontent-%COMP%]{position:absolute;left:0;top:0;width:100%;height:1px;background:linear-gradient(90deg,transparent 0%,rgba(0,243,255,.8) 50%,transparent 100%);opacity:0;pointer-events:none}.education-card[_ngcontent-%COMP%]   .card-type-tag[_ngcontent-%COMP%]{position:absolute;top:10px;right:16px;font-family:var(--font-mono);font-size:.45rem;letter-spacing:3px;color:var(--neon-cyan);opacity:0;transition:opacity .3s;pointer-events:none}.education-card[_ngcontent-%COMP%]   .card-type-tag.military[_ngcontent-%COMP%]{color:var(--power-red)}.education-card[_ngcontent-%COMP%]   .card-type-tag.draft[_ngcontent-%COMP%]{color:var(--vivid-orange)}.education-card[_ngcontent-%COMP%]:hover{border-color:#0096ff80;background:linear-gradient(135deg,#0096ff0a,#000000d9);box-shadow:0 0 20px #0096ff1a}.education-card[_ngcontent-%COMP%]:hover:before{opacity:.7}.education-card[_ngcontent-%COMP%]:hover   .card-corner[_ngcontent-%COMP%]{opacity:.75}.education-card[_ngcontent-%COMP%]:hover   .card-scan-line[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_card-scan 1.4s ease-in-out;opacity:1}.education-card[_ngcontent-%COMP%]:hover   .card-type-tag[_ngcontent-%COMP%]{opacity:.6}.education-card.military-card[_ngcontent-%COMP%]{border-color:#ff32321f}.education-card.military-card[_ngcontent-%COMP%]:hover{border-color:#0096ff80;background:linear-gradient(135deg,#0096ff0a,#000000d9);box-shadow:0 0 20px #0096ff1a}.education-card.military-card[_ngcontent-%COMP%]:hover:before{background:linear-gradient(90deg,transparent 0%,rgba(0,150,255,.6) 50%,transparent 100%)}.education-card.military-card[_ngcontent-%COMP%]:hover   .card-corner[_ngcontent-%COMP%]{border-color:#0096ff99;opacity:.75}.education-card.military-card.selected[_ngcontent-%COMP%], .education-card.military-card.selected[_ngcontent-%COMP%]   .card-corner[_ngcontent-%COMP%]{border-color:var(--cyber-yellow)}.education-card.selected[_ngcontent-%COMP%]{border-color:var(--cyber-yellow);border-left-width:2px;background:linear-gradient(135deg,#ffee000f,#000000d9);box-shadow:0 0 30px #ffee0014,inset 0 0 20px #ffee0008;min-height:220px}.education-card.selected[_ngcontent-%COMP%]:before{background:linear-gradient(90deg,transparent 0%,var(--cyber-yellow) 50%,transparent 100%);opacity:.6}.education-card.selected[_ngcontent-%COMP%]   .index[_ngcontent-%COMP%]{color:var(--cyber-yellow)}.education-card.selected[_ngcontent-%COMP%]   .card-corner[_ngcontent-%COMP%]{border-color:var(--cyber-yellow);opacity:1}.education-card.selected[_ngcontent-%COMP%]   .card-type-tag[_ngcontent-%COMP%]{opacity:1;color:var(--cyber-yellow)}@keyframes _ngcontent-%COMP%_card-scan{0%{top:0;opacity:0}5%{opacity:1}95%{opacity:.4}to{top:100%;opacity:0}}.card-layout[_ngcontent-%COMP%]{display:flex;flex:1;width:100%}.info-column[_ngcontent-%COMP%]{flex:1;padding:1rem;border-right:1px dashed rgba(0,243,255,.15);display:flex;flex-direction:column;gap:.8rem;position:relative}.info-column[_ngcontent-%COMP%]:before{content:"";position:absolute;left:0;top:20%;bottom:20%;width:2px;background:linear-gradient(180deg,transparent,var(--neon-cyan),transparent);opacity:.12;pointer-events:none}.info-column[_ngcontent-%COMP%]   .card-status-dot[_ngcontent-%COMP%]{width:8px;height:8px;border-radius:50%;background:#ffffff1a;border:1px solid rgba(255,255,255,.2);margin-left:auto;flex-shrink:0;transition:all .3s}.info-column[_ngcontent-%COMP%]   .card-status-dot.active[_ngcontent-%COMP%]{background:var(--neon-cyan);border-color:var(--neon-cyan);box-shadow:0 0 8px var(--neon-cyan),0 0 16px #00f3ff66;animation:_ngcontent-%COMP%_led-blink 2s steps(1,end) infinite}.info-column[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.8rem}.info-column[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .index[_ngcontent-%COMP%]{font-family:var(--font-mono);font-size:.7rem;color:var(--neon-cyan);opacity:.6}.info-column[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#fff;font-family:var(--font-header);font-size:1.1rem;text-transform:uppercase;letter-spacing:2px}.info-column[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 .5rem;font-size:.75rem;font-family:var(--font-mono);color:var(--text-dim)}.info-column[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{opacity:.5}.info-column[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{color:var(--neon-cyan);font-weight:700;margin-left:.5rem}.info-column[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .description-text[_ngcontent-%COMP%]{font-size:.75rem;line-height:1.4;color:var(--text-dim);opacity:.8;margin-top:.5rem;max-width:450px}.config-column[_ngcontent-%COMP%]{width:350px;padding:1rem;background:#00050866;border-left:1px solid rgba(0,243,255,.1);border-top:2px solid rgba(255,140,0,.45);box-shadow:inset 0 0 25px #ff8c0005;display:flex;flex-direction:column;gap:1rem;position:relative;animation:_ngcontent-%COMP%_fadeIn .4s ease-out}.config-column[_ngcontent-%COMP%]   .hud-label[_ngcontent-%COMP%]{font-family:var(--font-mono);font-size:.45rem;color:var(--vivid-orange);letter-spacing:1px;margin-bottom:.6rem;display:block}.radio-tab-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.6rem}.radio-tab[_ngcontent-%COMP%]{cursor:pointer;position:relative}.radio-tab[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;opacity:0}.radio-tab[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.8rem 1rem;background:#ffffff08;border:1px solid rgba(255,255,255,.1);font-family:var(--font-mono);transition:all .2s;clip-path:polygon(4px 0,100% 0,calc(100% - 4px) 100%,0 100%)}.radio-tab[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .primary[_ngcontent-%COMP%]{font-size:.75rem;color:#fff}.radio-tab[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .secondary[_ngcontent-%COMP%]{font-size:.7rem;color:var(--neon-cyan);opacity:.8}.radio-tab[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .risk-tag[_ngcontent-%COMP%]{font-size:.5rem;color:var(--power-red);background:#ff00001a;padding:2px 4px}.radio-tab[_ngcontent-%COMP%]:hover   .tab-content[_ngcontent-%COMP%]{border-color:#ff8c004d}.radio-tab[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .tab-content[_ngcontent-%COMP%]{background:#ff8c001a;border-color:var(--vivid-orange);box-shadow:inset 0 0 10px #ff8c001a}.btn-action[_ngcontent-%COMP%]{margin-top:auto;align-self:flex-end;padding:.8rem 2rem;background:transparent;border:1px solid var(--neon-cyan);color:var(--neon-cyan);font-size:.8rem;font-weight:800;font-family:var(--font-accent);text-transform:uppercase;cursor:pointer;transition:all .3s;letter-spacing:2px;clip-path:polygon(10% 0,100% 0,90% 100%,0 100%)}.btn-action[_ngcontent-%COMP%]:hover:not(:disabled){background:var(--neon-cyan);color:var(--bg-pitch);box-shadow:0 0 15px var(--neon-cyan-glow)}.btn-action[_ngcontent-%COMP%]:disabled{opacity:.2;cursor:not-allowed}.btn-action.warn[_ngcontent-%COMP%]{border-color:var(--power-red);color:var(--power-red)}.btn-action.warn[_ngcontent-%COMP%]:hover{background:var(--power-red);color:#fff;box-shadow:0 0 15px var(--power-red-glow)}.cyber-select[_ngcontent-%COMP%]{width:100%;padding:.8rem;background:#0009;border:1px solid rgba(0,243,255,.3);color:#fff;font-family:var(--font-mono);font-size:.75rem;text-transform:uppercase;outline:none;cursor:pointer}.cyber-select[_ngcontent-%COMP%]:focus{border-color:var(--neon-cyan);box-shadow:0 0 8px var(--neon-cyan-glow)}.draft-notice[_ngcontent-%COMP%]{font-size:.75rem;color:var(--text-dim);font-family:var(--font-mono);line-height:1.5;padding:1rem 1rem 1rem 1.5rem;background:#ff50000f;border:1px solid rgba(255,80,0,.15);border-left:3px solid var(--vivid-orange);position:relative}.draft-notice[_ngcontent-%COMP%]:before{content:"\\26a0  ADVISORY";display:block;font-size:.5rem;color:var(--vivid-orange);letter-spacing:3px;margin-bottom:.5rem;font-weight:800;opacity:.8}.results[_ngcontent-%COMP%]{width:100%;max-width:900px;margin:0 auto}.results[_ngcontent-%COMP%]   .status-box[_ngcontent-%COMP%]{padding:2.5rem;text-align:center;border:2px solid;background:#0006;clip-path:polygon(0 0,100% 0,100% calc(100% - 20px),calc(100% - 20px) 100%,0 100%);margin-bottom:3rem}.results[_ngcontent-%COMP%]   .status-box[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:2.5rem;font-family:var(--font-accent);letter-spacing:8px;margin:0}.results[_ngcontent-%COMP%]   .status-box.rejected[_ngcontent-%COMP%]{border-color:var(--power-red)}.results[_ngcontent-%COMP%]   .status-box.rejected[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--power-red);text-shadow:0 0 15px var(--power-red-glow)}.results[_ngcontent-%COMP%]   .status-box.rejected[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-main);margin:1rem 0;font-family:var(--font-mono);font-size:.9rem}.academy-polish.hud-module[_ngcontent-%COMP%]{background:linear-gradient(135deg,#0a0f14,#05070a);border:1px solid rgba(0,243,255,.3);overflow:hidden}.academy-polish[_ngcontent-%COMP%]   .military-spec[_ngcontent-%COMP%]{background:#00f3ff0d;border-left:4px solid var(--neon-cyan);position:relative;padding:1.5rem 2rem;overflow:hidden}.academy-polish[_ngcontent-%COMP%]   .military-spec[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.6rem;letter-spacing:5px;color:#fff;text-shadow:0 0 10px var(--neon-cyan-glow)}.academy-polish[_ngcontent-%COMP%]   .military-spec[_ngcontent-%COMP%]   .scan-line[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:2px;background:var(--neon-cyan);opacity:.3;animation:_ngcontent-%COMP%_scan-vertical 3s linear infinite}.academy-polish[_ngcontent-%COMP%]   .military-spec[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{font-family:var(--font-mono);font-size:.6rem;color:var(--vivid-orange);border:1px solid var(--vivid-orange);padding:2px 8px;margin-top:.5rem;display:inline-block}.academy-polish[_ngcontent-%COMP%]   .military-spec[_ngcontent-%COMP%]   .status-badge.pulse[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_blink 1s step-end infinite}.academy-polish[_ngcontent-%COMP%]   .schematic-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background-image:radial-gradient(circle at 2px 2px,rgba(0,243,255,.05) 1px,transparent 0);background-size:20px 20px;pointer-events:none;z-index:0}.academy-polish[_ngcontent-%COMP%]   .instruction[_ngcontent-%COMP%]{position:relative;z-index:1;color:var(--neon-cyan);font-weight:700}.academy-polish[_ngcontent-%COMP%]   .skill-blueprint-grid[_ngcontent-%COMP%]{position:relative;z-index:1;display:grid;grid-template-columns:repeat(auto-fill,minmax(180px,1fr));gap:1.5rem;margin:2rem 0}.academy-polish[_ngcontent-%COMP%]   .skill-chip[_ngcontent-%COMP%]{position:relative;height:80px;cursor:pointer;transition:all .3s}.academy-polish[_ngcontent-%COMP%]   .skill-chip[_ngcontent-%COMP%]   .chip-inner[_ngcontent-%COMP%]{height:100%;background:#ffffff08;border:1px solid rgba(255,255,255,.1);display:flex;align-items:center;padding:0 1.5rem;gap:1rem;position:relative;z-index:2;clip-path:polygon(10px 0,100% 0,100% calc(100% - 10px),calc(100% - 10px) 100%,0 100%,0 10px)}.academy-polish[_ngcontent-%COMP%]   .skill-chip[_ngcontent-%COMP%]   .chip-inner[_ngcontent-%COMP%]   .chip-socket[_ngcontent-%COMP%]{width:12px;height:12px;border:2px solid rgba(0,243,255,.3);border-radius:2px}.academy-polish[_ngcontent-%COMP%]   .skill-chip[_ngcontent-%COMP%]   .chip-inner[_ngcontent-%COMP%]   .skill-name[_ngcontent-%COMP%]{font-family:var(--font-header);font-size:.9rem;color:var(--text-dim);text-transform:uppercase;flex:1}.academy-polish[_ngcontent-%COMP%]   .skill-chip[_ngcontent-%COMP%]   .chip-inner[_ngcontent-%COMP%]   .status-led[_ngcontent-%COMP%]{width:8px;height:8px;background:#333;border-radius:50%;box-shadow:inset 0 0 4px #000}.academy-polish[_ngcontent-%COMP%]   .skill-chip[_ngcontent-%COMP%]   .chip-highlight[_ngcontent-%COMP%]{position:absolute;inset:-1px;background:var(--neon-cyan);opacity:0;z-index:1;clip-path:polygon(11px 0,100% 0,100% calc(100% - 11px),calc(100% - 11px) 100%,0 100%,0 11px);transition:opacity .3s}.academy-polish[_ngcontent-%COMP%]   .skill-chip[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.academy-polish[_ngcontent-%COMP%]   .skill-chip[_ngcontent-%COMP%]:hover   .chip-inner[_ngcontent-%COMP%]{background:#ffffff14;border-color:#00f3ff66}.academy-polish[_ngcontent-%COMP%]   .skill-chip[_ngcontent-%COMP%]:hover   .chip-inner[_ngcontent-%COMP%]   .skill-name[_ngcontent-%COMP%]{color:#fff}.academy-polish[_ngcontent-%COMP%]   .skill-chip.selected[_ngcontent-%COMP%]   .chip-inner[_ngcontent-%COMP%]{background:#00f3ff1a;border-color:var(--neon-cyan);box-shadow:0 0 20px #00f3ff26}.academy-polish[_ngcontent-%COMP%]   .skill-chip.selected[_ngcontent-%COMP%]   .chip-inner[_ngcontent-%COMP%]   .skill-name[_ngcontent-%COMP%]{color:#fff;font-weight:800;text-shadow:0 0 10px var(--neon-cyan-glow)}.academy-polish[_ngcontent-%COMP%]   .skill-chip.selected[_ngcontent-%COMP%]   .chip-inner[_ngcontent-%COMP%]   .chip-socket[_ngcontent-%COMP%]{background:var(--neon-cyan);border-color:var(--neon-cyan);box-shadow:0 0 8px var(--neon-cyan)}.academy-polish[_ngcontent-%COMP%]   .skill-chip.selected[_ngcontent-%COMP%]   .chip-inner[_ngcontent-%COMP%]   .status-led[_ngcontent-%COMP%]{background:var(--neon-cyan);box-shadow:0 0 10px var(--neon-cyan)}.academy-polish[_ngcontent-%COMP%]   .skill-chip.selected[_ngcontent-%COMP%]   .chip-highlight[_ngcontent-%COMP%]{opacity:.3}.academy-polish[_ngcontent-%COMP%]   .hud-footer.tactical[_ngcontent-%COMP%]{background:#0006;border-top:1px solid rgba(0,243,255,.2);padding:1.5rem 2rem;display:flex;justify-content:space-between;align-items:center}.academy-polish[_ngcontent-%COMP%]   .hud-footer.tactical[_ngcontent-%COMP%]   .data-readout[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;font-family:var(--font-mono)}.academy-polish[_ngcontent-%COMP%]   .hud-footer.tactical[_ngcontent-%COMP%]   .data-readout[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:.7rem;color:var(--text-dim)}.academy-polish[_ngcontent-%COMP%]   .hud-footer.tactical[_ngcontent-%COMP%]   .data-readout[_ngcontent-%COMP%]   .load-bar[_ngcontent-%COMP%]{width:150px;height:6px;background:#ffffff0d;border:1px solid rgba(255,255,255,.1)}.academy-polish[_ngcontent-%COMP%]   .hud-footer.tactical[_ngcontent-%COMP%]   .data-readout[_ngcontent-%COMP%]   .load-bar[_ngcontent-%COMP%]   .fill[_ngcontent-%COMP%]{height:100%;background:var(--neon-cyan);box-shadow:0 0 10px var(--neon-cyan-glow);transition:width .4s cubic-bezier(.4,0,.2,1)}.academy-polish[_ngcontent-%COMP%]   .hud-footer.tactical[_ngcontent-%COMP%]   .data-readout[_ngcontent-%COMP%]   .val[_ngcontent-%COMP%]{font-size:.9rem;color:#fff;font-weight:800}.academy-polish[_ngcontent-%COMP%]   .hud-footer.tactical[_ngcontent-%COMP%]   .btn-action.elite[_ngcontent-%COMP%]{padding:1rem 3rem;border-width:2px}.academy-polish[_ngcontent-%COMP%]   .hud-footer.tactical[_ngcontent-%COMP%]   .btn-action.elite[_ngcontent-%COMP%]   .primary[_ngcontent-%COMP%]{font-size:1.1rem;letter-spacing:3px}.academy-polish[_ngcontent-%COMP%]   .hud-footer.tactical[_ngcontent-%COMP%]   .btn-action.elite[_ngcontent-%COMP%]   .secondary[_ngcontent-%COMP%]{font-size:.5rem;opacity:.6;margin-top:4px}.academy-polish[_ngcontent-%COMP%]   .hud-footer.tactical[_ngcontent-%COMP%]   .btn-action.elite[_ngcontent-%COMP%]:not(:disabled){border-color:var(--neon-green);color:var(--neon-green)}.academy-polish[_ngcontent-%COMP%]   .hud-footer.tactical[_ngcontent-%COMP%]   .btn-action.elite[_ngcontent-%COMP%]:not(:disabled):hover{background:var(--neon-green);color:#000;box-shadow:0 0 20px var(--neon-green-glow)}@keyframes _ngcontent-%COMP%_scan-vertical{0%{top:0%;opacity:0}10%{opacity:.3}90%{opacity:.3}to{top:100%;opacity:0}}@keyframes _ngcontent-%COMP%_blink{50%{opacity:.3}}.university-polish.hud-module[_ngcontent-%COMP%]{background:linear-gradient(135deg,#000810e6,#00050af2);border:2px solid rgba(0,243,255,.2);box-shadow:0 0 30px #00f3ff14,inset 0 0 20px #00f3ff05}.university-polish[_ngcontent-%COMP%]   .schematic-spec[_ngcontent-%COMP%]{background:#00f3ff0a;border-top:2px solid rgba(0,243,255,.25);padding:1rem 1.8rem;position:relative;display:flex;align-items:center;gap:1.5rem}.university-polish[_ngcontent-%COMP%]   .schematic-spec[_ngcontent-%COMP%]   .index[_ngcontent-%COMP%]{font-family:var(--font-mono);font-size:.6rem;color:var(--neon-cyan);letter-spacing:1px;opacity:.7;flex-shrink:0}.university-polish[_ngcontent-%COMP%]   .schematic-spec[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2rem;letter-spacing:3px;color:#fff;margin:0;flex:1}.university-polish[_ngcontent-%COMP%]   .schematic-spec[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{font-family:var(--font-mono);font-size:.5rem;color:var(--neon-cyan);letter-spacing:1.5px;padding:.3rem .6rem;border:1px solid rgba(0,243,255,.3);background:#00f3ff0d;clip-path:polygon(6px 0,100% 0,calc(100% - 6px) 100%,0 100%);flex-shrink:0}.university-polish[_ngcontent-%COMP%]   .schematic-spec[_ngcontent-%COMP%]   .status-badge.pulse[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_statusPulse 2s ease-in-out infinite}.university-polish[_ngcontent-%COMP%]   .hud-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:1.5rem 1.8rem;gap:1.2rem}.university-polish[_ngcontent-%COMP%]   .hud-content.compact[_ngcontent-%COMP%]{padding:1rem 1.8rem;gap:.8rem}.university-polish[_ngcontent-%COMP%]   .instruction[_ngcontent-%COMP%]{position:relative;z-index:1;color:var(--neon-cyan);font-family:var(--font-header);font-size:.75rem;letter-spacing:2px;text-shadow:0 0 10px rgba(0,243,255,.3);text-transform:uppercase;text-align:center;max-width:600px}.university-polish[_ngcontent-%COMP%]   .vector-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:1rem;width:100%;max-width:700px;position:relative;z-index:1}.university-polish[_ngcontent-%COMP%]   .vector-grid.compact[_ngcontent-%COMP%]{gap:.8rem}@media(max-width:600px){.university-polish[_ngcontent-%COMP%]   .vector-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.university-polish[_ngcontent-%COMP%]   .vector-field[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.4rem}.university-polish[_ngcontent-%COMP%]   .vector-field.compact[_ngcontent-%COMP%]{gap:.3rem}.university-polish[_ngcontent-%COMP%]   .vector-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]{display:flex;flex-direction:column;font-family:var(--font-mono);font-size:.65rem;color:var(--text-dim);letter-spacing:1px;text-transform:uppercase;gap:.2rem}.university-polish[_ngcontent-%COMP%]   .vector-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]   .field-tag[_ngcontent-%COMP%]{color:var(--neon-cyan);font-weight:700;font-size:.6rem;letter-spacing:1.5px}.university-polish[_ngcontent-%COMP%]   .vector-field[_ngcontent-%COMP%]   .cyber-select[_ngcontent-%COMP%]{padding:.7rem 2rem .7rem 1rem;background:#000810e6;border:1.5px solid rgba(0,243,255,.2);color:#fff;font-family:var(--font-header);font-size:.7rem;text-transform:uppercase;cursor:pointer;transition:all .25s cubic-bezier(.34,1.56,.64,1);appearance:none;letter-spacing:1px}.university-polish[_ngcontent-%COMP%]   .vector-field[_ngcontent-%COMP%]   .cyber-select[_ngcontent-%COMP%]:hover{border-color:#00f3ff66;background:#000810;box-shadow:0 0 12px #00f3ff26}.university-polish[_ngcontent-%COMP%]   .vector-field[_ngcontent-%COMP%]   .cyber-select[_ngcontent-%COMP%]:focus{border-color:var(--neon-cyan);background:#00f3ff14;box-shadow:0 0 20px #00f3ff33,inset 0 0 10px #00f3ff0d;outline:none}.university-polish[_ngcontent-%COMP%]   .vector-field[_ngcontent-%COMP%]   .cyber-select.modern[_ngcontent-%COMP%]{background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='8' viewBox='0 0 12 8'%3E%3Cpath fill='%2300f3ff' d='M0 0l6 8 6-8z'/%3E%3C/svg%3E");background-repeat:no-repeat;background-position:right .8rem center;background-size:12px}.university-polish[_ngcontent-%COMP%]   .vector-field[_ngcontent-%COMP%]   .cyber-select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background:#0a0f14;color:#fff;padding:8px 10px}.university-polish[_ngcontent-%COMP%]   .selection-summary[_ngcontent-%COMP%]{display:flex;gap:1rem;width:100%;max-width:600px;margin-top:.5rem;padding:.8rem;background:#00f3ff08;border:1px solid rgba(0,243,255,.15);border-radius:2px;justify-content:center}.university-polish[_ngcontent-%COMP%]   .summary-entry[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:.3rem;padding:.4rem .8rem;background:#0000004d;border:1px solid rgba(0,243,255,.1);min-width:120px;transition:all .25s ease}.university-polish[_ngcontent-%COMP%]   .summary-entry[_ngcontent-%COMP%]   .summary-label[_ngcontent-%COMP%]{font-family:var(--font-mono);font-size:.5rem;color:var(--text-dim);letter-spacing:1px;text-transform:uppercase}.university-polish[_ngcontent-%COMP%]   .summary-entry[_ngcontent-%COMP%]   .summary-value[_ngcontent-%COMP%]{font-family:var(--font-header);font-size:.7rem;color:#ffffffb3;letter-spacing:1px;text-transform:uppercase}.university-polish[_ngcontent-%COMP%]   .summary-entry.filled[_ngcontent-%COMP%]{border-color:#00f3ff66;background:#00f3ff14}.university-polish[_ngcontent-%COMP%]   .summary-entry.filled[_ngcontent-%COMP%]   .summary-value[_ngcontent-%COMP%]{color:#fff;text-shadow:0 0 8px rgba(0,243,255,.3)}.university-polish[_ngcontent-%COMP%]   .hud-footer.tactical[_ngcontent-%COMP%]{background:#00000080;border-top:1.5px solid rgba(0,243,255,.2);padding:1.2rem 1.8rem;display:flex;justify-content:center;align-items:center}.university-polish[_ngcontent-%COMP%]   .hud-footer.tactical.compact[_ngcontent-%COMP%]{padding:.9rem 1.8rem}.university-polish[_ngcontent-%COMP%]   .hud-footer.tactical[_ngcontent-%COMP%]   .btn-action.elite.modern[_ngcontent-%COMP%]{padding:.7rem 2rem;border:2px solid var(--neon-cyan);background:#00f3ff14;color:var(--neon-cyan);transition:all .3s cubic-bezier(.34,1.56,.64,1);position:relative;overflow:hidden}.university-polish[_ngcontent-%COMP%]   .hud-footer.tactical[_ngcontent-%COMP%]   .btn-action.elite.modern[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(0,243,255,.3),transparent);transition:left .5s ease}.university-polish[_ngcontent-%COMP%]   .hud-footer.tactical[_ngcontent-%COMP%]   .btn-action.elite.modern[_ngcontent-%COMP%]:hover:not(:disabled){background:#00f3ff33;box-shadow:0 0 25px #00f3ff66,inset 0 0 15px #00f3ff1a;color:#fff;transform:scale(1.05) translateY(-2px);text-shadow:0 0 15px rgba(0,243,255,.6)}.university-polish[_ngcontent-%COMP%]   .hud-footer.tactical[_ngcontent-%COMP%]   .btn-action.elite.modern[_ngcontent-%COMP%]:hover:not(:disabled):before{left:100%}.university-polish[_ngcontent-%COMP%]   .hud-footer.tactical[_ngcontent-%COMP%]   .btn-action.elite.modern[_ngcontent-%COMP%]:active:not(:disabled){transform:scale(.98);background:#00f3ff4d}.university-polish[_ngcontent-%COMP%]   .hud-footer.tactical[_ngcontent-%COMP%]   .btn-action.elite.modern[_ngcontent-%COMP%]:disabled{opacity:.25;cursor:not-allowed}.university-polish[_ngcontent-%COMP%]   .hud-footer.tactical[_ngcontent-%COMP%]   .btn-action.elite.modern[_ngcontent-%COMP%]   .primary[_ngcontent-%COMP%]{font-size:.85rem;letter-spacing:2px;display:block}.university-polish[_ngcontent-%COMP%]   .hud-footer.tactical[_ngcontent-%COMP%]   .btn-action.elite.modern[_ngcontent-%COMP%]   .secondary[_ngcontent-%COMP%]{font-size:.55rem;opacity:.7;margin-top:2px;display:block}@keyframes _ngcontent-%COMP%_statusPulse{0%,to{box-shadow:0 0 8px #00f3ff33;opacity:.8}50%{box-shadow:0 0 16px #00f3ff80;opacity:1}}.graduation-result[_ngcontent-%COMP%]{text-align:center;padding:3rem;background:var(--bg-panel);border:3px double var(--neon-cyan);position:relative}.graduation-result[_ngcontent-%COMP%]:after{content:"[ GRADUATION_RECORD_FINALIZED ]";position:absolute;bottom:10px;right:20px;font-family:var(--font-mono);font-size:.5rem;color:var(--neon-cyan)}.graduation-result[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:2.2rem;font-family:var(--font-accent);color:var(--cyber-yellow);text-shadow:0 0 20px rgba(255,238,0,.3);letter-spacing:10px;margin:0}.graduation-result[_ngcontent-%COMP%]   .graduation-visual-overlay[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:3rem;margin-bottom:2rem;min-height:180px;perspective:1000px}.graduation-result[_ngcontent-%COMP%]   .wireframe-container[_ngcontent-%COMP%]{width:150px;height:150px;opacity:0;transform:rotateY(90deg);transition:all 1s cubic-bezier(.4,0,.2,1);display:flex;justify-content:center;align-items:center}.graduation-result[_ngcontent-%COMP%]   .wireframe-container.active[_ngcontent-%COMP%]{opacity:1;transform:rotateY(0)}.graduation-result[_ngcontent-%COMP%]   .wireframe-container.honors[_ngcontent-%COMP%]{width:110px;height:110px;border:1px solid rgba(255,238,0,.2);border-radius:50%;padding:10px;background:#ffee000d}.graduation-result[_ngcontent-%COMP%]   .wireframe-asset[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:contain;filter:drop-shadow(0 0 10px var(--neon-cyan));animation:_ngcontent-%COMP%_float-wireframe 4s ease-in-out infinite}.graduation-result[_ngcontent-%COMP%]   .wireframe-asset.medal[_ngcontent-%COMP%]{filter:drop-shadow(0 0 15px rgba(255,238,0,.6));animation-delay:.5s}.graduation-result[_ngcontent-%COMP%]   .result-text-block[_ngcontent-%COMP%]{margin-top:1.5rem;position:relative;z-index:2}.graduation-result[_ngcontent-%COMP%]   .result-text-block[_ngcontent-%COMP%]   .honors-text[_ngcontent-%COMP%]{color:var(--cyber-yellow);font-family:var(--font-header);font-size:.9rem;letter-spacing:4px;text-transform:uppercase;margin-top:.5rem;animation:_ngcontent-%COMP%_text-pulse 2s infinite}@keyframes _ngcontent-%COMP%_float-wireframe{0%,to{transform:translateY(0) rotate(0)}50%{transform:translateY(-15px) rotate(2deg)}}@keyframes _ngcontent-%COMP%_text-pulse{0%,to{opacity:.8;text-shadow:0 0 5px rgba(255,238,0,.2)}50%{opacity:1;text-shadow:0 0 15px rgba(255,238,0,.5)}}.validation-reason[_ngcontent-%COMP%]{margin-top:.8rem;padding:.6rem 1rem;background:#ff282826;border:1px solid rgba(255,40,40,.3);border-left:3px solid var(--power-red);color:#fcc;font-size:.75rem;font-family:var(--font-mono);text-transform:uppercase;display:flex;align-items:center;gap:.8rem;pointer-events:auto;opacity:1!important}.validation-reason[_ngcontent-%COMP%]   .warning-icon[_ngcontent-%COMP%]{color:var(--power-red);font-weight:700;filter:drop-shadow(0 0 5px var(--power-red))}@keyframes _ngcontent-%COMP%_slideUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.redirection-notice[_ngcontent-%COMP%]{margin-top:1.5rem;padding:1rem;background:#ff00001a;border:1px dashed var(--power-red);text-align:left;font-family:var(--font-mono);animation:_ngcontent-%COMP%_fadeIn .5s ease-out}.redirection-notice[_ngcontent-%COMP%]   .warning-tag[_ngcontent-%COMP%], .redirection-notice[_ngcontent-%COMP%]   .war-tag[_ngcontent-%COMP%]{display:inline-block;padding:2px 8px;font-size:.6rem;background:var(--power-red);color:#fff;margin-bottom:.5rem;font-weight:800}.redirection-notice[_ngcontent-%COMP%]   .war-tag[_ngcontent-%COMP%]{background:var(--vivid-orange)}.redirection-notice[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.8rem;color:#fff;font-weight:600}.roll-phase-screen.event-phase[_ngcontent-%COMP%]{background:linear-gradient(135deg,#000810f2,#00050afa);border:2px solid rgba(0,243,255,.2);box-shadow:0 0 40px #00f3ff14,inset 0 0 30px #00f3ff05}.hud-box-header.event-header[_ngcontent-%COMP%]{background:linear-gradient(90deg,#00f3ff0d,#00f3ff05);border-bottom:2px solid rgba(0,243,255,.2);padding:1rem 1.8rem;display:flex;align-items:center;gap:1.5rem;position:relative}.hud-box-header.event-header[_ngcontent-%COMP%]   .index[_ngcontent-%COMP%]{font-family:var(--font-mono);font-size:.6rem;color:var(--neon-cyan);letter-spacing:1.5px;opacity:.7;flex-shrink:0}.hud-box-header.event-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2rem;letter-spacing:2.5px;color:#fff;margin:0;flex:1;text-transform:uppercase}.hud-box-header.event-header[_ngcontent-%COMP%]   .status-light[_ngcontent-%COMP%]{width:8px;height:8px;background:#00f3ff4d;border-radius:50%;flex-shrink:0;transition:all .25s ease}.hud-box-header.event-header[_ngcontent-%COMP%]   .status-light.pulse[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_eventStatusPulse 1.5s ease-in-out infinite}.hud-box-header.event-header[_ngcontent-%COMP%]   .status-light.active[_ngcontent-%COMP%]{background:var(--neon-cyan);box-shadow:0 0 12px var(--neon-cyan);animation:_ngcontent-%COMP%_eventStatusPulse 1s ease-in-out infinite}.hud-box-header.event-header.result[_ngcontent-%COMP%]{background:linear-gradient(90deg,#39ff140d,#00f3ff05);border-bottom-color:#39ff1440}.hud-content.event-content[_ngcontent-%COMP%]{padding:2rem 1.8rem;text-align:center;min-height:200px;display:flex;flex-direction:column;justify-content:center;align-items:center}.hud-content.event-content.result[_ngcontent-%COMP%]{min-height:250px}.hud-content.event-content.result.two-column[_ngcontent-%COMP%]{flex-direction:row!important;justify-content:flex-start!important;align-items:flex-start!important;gap:2rem;text-align:left;padding:1.5rem;width:100%!important;height:auto!important;min-height:auto!important}.roll-phase-screen.event-phase.hud-module[_ngcontent-%COMP%]{overflow:visible!important}.event-list-column[_ngcontent-%COMP%]{flex:0 0 40%;min-width:300px;display:flex;flex-direction:column;gap:1rem}.event-list-column[_ngcontent-%COMP%]   .event-table-title[_ngcontent-%COMP%]{font-family:var(--font-mono);font-size:.7rem;color:var(--neon-cyan);letter-spacing:2px;text-transform:uppercase;margin-bottom:.75rem;text-shadow:0 0 15px rgba(0,243,255,.5);font-weight:700}.event-list-column[_ngcontent-%COMP%]   .event-table[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;max-height:350px;overflow-y:auto;padding:.8rem;background:#050a0fcc;border:2px solid rgba(0,243,255,.4);border-radius:4px;box-shadow:0 0 15px #00f3ff26,inset 0 0 10px #0000004d}.event-list-column[_ngcontent-%COMP%]   .event-table[_ngcontent-%COMP%]   .event-row[_ngcontent-%COMP%]{display:flex;gap:.75rem;padding:.6rem .8rem;border-radius:3px;cursor:pointer;transition:all .2s ease;align-items:flex-start;background:#00f3ff0a;border:1px solid rgba(0,243,255,.15)}.event-list-column[_ngcontent-%COMP%]   .event-table[_ngcontent-%COMP%]   .event-row[_ngcontent-%COMP%]:hover{background:#00f3ff1f;border-color:#00f3ff59;transform:translate(2px)}.event-list-column[_ngcontent-%COMP%]   .event-table[_ngcontent-%COMP%]   .event-row.active[_ngcontent-%COMP%]{background:#00f3ff2e;border-left:3px solid var(--neon-cyan);padding-left:calc(.8rem - 3px);box-shadow:0 0 10px #00f3ff33,inset 0 0 5px #00f3ff1a}.event-list-column[_ngcontent-%COMP%]   .event-table[_ngcontent-%COMP%]   .event-row[_ngcontent-%COMP%]   .event-num[_ngcontent-%COMP%]{font-family:var(--font-mono);font-size:.75rem;color:var(--neon-cyan);font-weight:700;min-width:24px;text-align:center;text-shadow:0 0 5px rgba(0,243,255,.4)}.event-list-column[_ngcontent-%COMP%]   .event-table[_ngcontent-%COMP%]   .event-row[_ngcontent-%COMP%]   .event-desc[_ngcontent-%COMP%]{font-family:var(--font-mono);font-size:.68rem;color:#ffffffd9;line-height:1.35;word-wrap:break-word;flex:1;text-align:left;text-shadow:0 0 3px rgba(0,0,0,.5)}.event-list-column[_ngcontent-%COMP%]   .event-table[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.event-list-column[_ngcontent-%COMP%]   .event-table[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#00f3ff0d;border-radius:3px}.event-list-column[_ngcontent-%COMP%]   .event-table[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#00f3ff4d;border-radius:3px}.event-list-column[_ngcontent-%COMP%]   .event-table[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#00f3ff80}.event-detail-column[_ngcontent-%COMP%]{flex:1;display:flex;justify-content:center;align-items:center;min-height:250px}.event-briefing[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:1rem}.event-briefing[_ngcontent-%COMP%]   .briefing-icon[_ngcontent-%COMP%]{font-size:2.5rem;animation:_ngcontent-%COMP%_iconPulse 2s ease-in-out infinite}.event-briefing[_ngcontent-%COMP%]   .instruction[_ngcontent-%COMP%]{font-family:var(--font-header);font-size:.9rem;letter-spacing:2px;color:var(--neon-cyan);text-transform:uppercase;text-shadow:0 0 12px rgba(0,243,255,.3);margin:0;max-width:500px}.event-briefing[_ngcontent-%COMP%]   .sub-text[_ngcontent-%COMP%]{font-family:var(--font-mono);font-size:.7rem;color:var(--text-dim);letter-spacing:1px;text-transform:uppercase;margin:0;opacity:.8}.event-display[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:1.5rem;width:100%;max-width:600px}.roll-display[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:.5rem;padding:1rem;background:#00f3ff0f;border:2px solid rgba(0,243,255,.2);border-radius:4px;min-width:200px}.roll-display[_ngcontent-%COMP%]   .roll-label[_ngcontent-%COMP%]{font-family:var(--font-mono);font-size:.6rem;color:var(--text-dim);letter-spacing:1.5px;text-transform:uppercase}.roll-display[_ngcontent-%COMP%]   .roll-number[_ngcontent-%COMP%]{font-family:var(--font-accent);font-size:2rem;color:var(--cyber-yellow);letter-spacing:2px;text-shadow:0 0 20px rgba(255,230,0,.4),0 0 40px rgba(255,230,0,.2);margin:0;animation:_ngcontent-%COMP%_rollNumberPulse 1.5s ease-in-out infinite}.event-title-box[_ngcontent-%COMP%]{width:100%;padding:1rem 1.5rem;background:#00f3ff0a;border:1px solid rgba(0,243,255,.15);border-radius:3px}.event-title-box[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-family:var(--font-header);font-size:1rem;letter-spacing:2px;color:#fff;text-transform:uppercase;margin:0;line-height:1.5}.event-narrative[_ngcontent-%COMP%]{width:100%;padding:1rem 1.5rem;background:#0000004d;border:1px solid rgba(0,243,255,.1);border-left:3px solid var(--neon-cyan);border-radius:2px}.event-narrative[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:var(--font-body);font-size:.85rem;color:#ffffffd9;line-height:1.6;margin:0;letter-spacing:.5px}.hud-footer.event-footer[_ngcontent-%COMP%]{background:#00000080;border-top:2px solid rgba(0,243,255,.2);padding:1.2rem 1.8rem;display:flex;justify-content:center}.btn-action.elite[_ngcontent-%COMP%]{padding:.8rem 2.2rem;border:2px solid var(--neon-cyan);background:#00f3ff14;color:var(--neon-cyan);font-family:var(--font-header);font-weight:900;font-size:.85rem;letter-spacing:2px;text-transform:uppercase;cursor:pointer;transition:all .3s cubic-bezier(.34,1.56,.64,1);clip-path:polygon(8px 0,100% 0,calc(100% - 8px) 100%,0 100%);position:relative;overflow:hidden;text-shadow:0 0 10px rgba(0,243,255,.4)}.btn-action.elite[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(0,243,255,.3),transparent);transition:left .5s ease}.btn-action.elite[_ngcontent-%COMP%]:hover:not(:disabled){background:#00f3ff33;color:#fff;box-shadow:0 0 30px #00f3ff99,0 0 60px #00f3ff4d,inset 0 0 20px #00f3ff1a;border-color:#fff;transform:scale(1.06) translateY(-2px);text-shadow:0 0 15px rgba(0,243,255,.8)}.btn-action.elite[_ngcontent-%COMP%]:hover:not(:disabled):before{left:100%}.btn-action.elite[_ngcontent-%COMP%]:hover:not(:disabled)   .primary[_ngcontent-%COMP%]{letter-spacing:3px}.btn-action.elite[_ngcontent-%COMP%]:active:not(:disabled){transform:scale(.98);background:#00f3ff4d;box-shadow:0 0 40px #00f3ff80,inset 0 0 30px #00f3ff26}.btn-action.elite[_ngcontent-%COMP%]:disabled{opacity:.25;cursor:not-allowed;box-shadow:none;transform:none}.btn-action.elite[_ngcontent-%COMP%]   .primary[_ngcontent-%COMP%]{display:block;font-size:.9rem;letter-spacing:2px;transition:letter-spacing .3s ease}.btn-action.elite[_ngcontent-%COMP%]   .secondary[_ngcontent-%COMP%]{display:block;font-size:.6rem;opacity:.75;margin-top:3px;letter-spacing:1px}.btn-action.event-roll[_ngcontent-%COMP%], .btn-action.event-proceed[_ngcontent-%COMP%]{padding:.8rem 2.2rem;border:2px solid var(--neon-cyan);background:#00f3ff14;color:var(--neon-cyan);font-family:var(--font-header);font-weight:900;font-size:.85rem;letter-spacing:2px;text-transform:uppercase;cursor:pointer;transition:all .3s cubic-bezier(.34,1.56,.64,1);clip-path:polygon(8px 0,100% 0,calc(100% - 8px) 100%,0 100%);position:relative;overflow:hidden;text-shadow:0 0 10px rgba(0,243,255,.4)}.btn-action.event-roll[_ngcontent-%COMP%]:before, .btn-action.event-proceed[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(0,243,255,.3),transparent);transition:left .5s ease}.btn-action.event-roll[_ngcontent-%COMP%]:hover:not(:disabled), .btn-action.event-proceed[_ngcontent-%COMP%]:hover:not(:disabled){background:#00f3ff33;color:#fff;box-shadow:0 0 30px #00f3ff99,0 0 60px #00f3ff4d,inset 0 0 20px #00f3ff1a;border-color:#fff;transform:scale(1.06) translateY(-2px);text-shadow:0 0 15px rgba(0,243,255,.8)}.btn-action.event-roll[_ngcontent-%COMP%]:hover:not(:disabled):before, .btn-action.event-proceed[_ngcontent-%COMP%]:hover:not(:disabled):before{left:100%}.btn-action.event-roll[_ngcontent-%COMP%]:hover:not(:disabled)   .primary[_ngcontent-%COMP%], .btn-action.event-proceed[_ngcontent-%COMP%]:hover:not(:disabled)   .primary[_ngcontent-%COMP%]{letter-spacing:3px}.btn-action.event-roll[_ngcontent-%COMP%]:active:not(:disabled), .btn-action.event-proceed[_ngcontent-%COMP%]:active:not(:disabled){transform:scale(.98);background:#00f3ff4d;box-shadow:0 0 40px #00f3ff80,inset 0 0 30px #00f3ff26}.btn-action.event-roll[_ngcontent-%COMP%]:disabled, .btn-action.event-proceed[_ngcontent-%COMP%]:disabled{opacity:.25;cursor:not-allowed;box-shadow:none;transform:none}.btn-action.event-roll[_ngcontent-%COMP%]   .primary[_ngcontent-%COMP%], .btn-action.event-proceed[_ngcontent-%COMP%]   .primary[_ngcontent-%COMP%]{display:block;font-size:.9rem;letter-spacing:2px;transition:letter-spacing .3s ease}.btn-action.event-roll[_ngcontent-%COMP%]   .secondary[_ngcontent-%COMP%], .btn-action.event-proceed[_ngcontent-%COMP%]   .secondary[_ngcontent-%COMP%]{display:block;font-size:.6rem;opacity:.75;margin-top:3px;letter-spacing:1px}@keyframes _ngcontent-%COMP%_eventStatusPulse{0%,to{opacity:.6;transform:scale(1)}50%{opacity:1;transform:scale(1.3)}}@keyframes _ngcontent-%COMP%_iconPulse{0%,to{opacity:.7;transform:scale(1)}50%{opacity:1;transform:scale(1.1)}}@keyframes _ngcontent-%COMP%_rollNumberPulse{0%,to{text-shadow:0 0 20px rgba(255,230,0,.4),0 0 40px rgba(255,230,0,.2)}50%{text-shadow:0 0 30px rgba(255,230,0,.6),0 0 60px rgba(255,230,0,.35)}}.overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:#000000d9;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);z-index:1000;display:flex;align-items:center;justify-content:center;animation:_ngcontent-%COMP%_fadeIn .3s ease-out}.modal-card[_ngcontent-%COMP%]{background:var(--bg-panel);border:1px solid var(--neon-cyan);width:90%;max-width:500px;padding:2rem;position:relative;clip-path:polygon(30px 0,100% 0,100% calc(100% - 30px),calc(100% - 30px) 100%,0 100%,0 30px);box-shadow:0 0 50px #00f3ff26;animation:_ngcontent-%COMP%_slideUp .4s cubic-bezier(.4,0,.2,1)}.modal-card.wide[_ngcontent-%COMP%]{max-width:800px}.modal-card[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;margin-bottom:1.5rem;border-bottom:1px solid rgba(0,243,255,.2);padding-bottom:1rem}.modal-card[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .index[_ngcontent-%COMP%]{font-family:var(--font-mono);color:var(--vivid-orange);font-weight:800}.modal-card[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-family:var(--font-header);letter-spacing:3px;color:#fff}.modal-card[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:var(--font-mono);font-size:.85rem;line-height:1.6;color:var(--text-dim);margin-bottom:2rem}.action-grid[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.action-grid[_ngcontent-%COMP%]   .btn-action[_ngcontent-%COMP%], .action-grid[_ngcontent-%COMP%]   .btn-cyber[_ngcontent-%COMP%]{width:100%;text-align:center;justify-content:center;display:flex;flex-direction:column;align-items:center;padding:1.2rem;transition:all .3s cubic-bezier(.34,1.56,.64,1);position:relative;overflow:hidden;border:1.5px solid;border-radius:0}.action-grid[_ngcontent-%COMP%]   .btn-action[_ngcontent-%COMP%]:before, .action-grid[_ngcontent-%COMP%]   .btn-cyber[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.2),transparent);transition:left .6s ease}.action-grid[_ngcontent-%COMP%]   .btn-action[_ngcontent-%COMP%]   .primary[_ngcontent-%COMP%], .action-grid[_ngcontent-%COMP%]   .btn-cyber[_ngcontent-%COMP%]   .primary[_ngcontent-%COMP%]{display:block;font-size:1rem;font-weight:800;margin-bottom:.2rem;letter-spacing:1.5px;position:relative;z-index:2}.action-grid[_ngcontent-%COMP%]   .btn-action[_ngcontent-%COMP%]   .secondary[_ngcontent-%COMP%], .action-grid[_ngcontent-%COMP%]   .btn-cyber[_ngcontent-%COMP%]   .secondary[_ngcontent-%COMP%]{display:block;font-size:.65rem;opacity:.7;font-family:var(--font-mono);position:relative;z-index:2}.action-grid[_ngcontent-%COMP%]   .btn-action[_ngcontent-%COMP%]:not(.warn):not(.risk), .action-grid[_ngcontent-%COMP%]   .btn-cyber[_ngcontent-%COMP%]:not(.warn):not(.risk){border-color:var(--neon-cyan);color:var(--neon-cyan);background:#00f3ff08;text-shadow:0 0 10px rgba(0,243,255,.3)}.action-grid[_ngcontent-%COMP%]   .btn-action[_ngcontent-%COMP%]:not(.warn):not(.risk):hover:not(:disabled), .action-grid[_ngcontent-%COMP%]   .btn-cyber[_ngcontent-%COMP%]:not(.warn):not(.risk):hover:not(:disabled){background:#00f3ff26;box-shadow:0 0 20px #00f3ff80,0 0 40px #00f3ff33,inset 0 0 20px #00f3ff14;border-color:#0ff;transform:translate(8px) scale(1.02);text-shadow:0 0 15px rgba(0,243,255,.8),0 0 25px rgba(0,243,255,.4)}.action-grid[_ngcontent-%COMP%]   .btn-action[_ngcontent-%COMP%]:not(.warn):not(.risk):hover:not(:disabled):before, .action-grid[_ngcontent-%COMP%]   .btn-cyber[_ngcontent-%COMP%]:not(.warn):not(.risk):hover:not(:disabled):before{left:100%}.action-grid[_ngcontent-%COMP%]   .btn-action[_ngcontent-%COMP%]:not(.warn):not(.risk):active:not(:disabled), .action-grid[_ngcontent-%COMP%]   .btn-cyber[_ngcontent-%COMP%]:not(.warn):not(.risk):active:not(:disabled){background:#00f3ff40;box-shadow:0 0 30px #00f3ffb3,inset 0 0 30px #00f3ff26;transform:translate(4px) scale(.98)}.action-grid[_ngcontent-%COMP%]   .btn-action.warn[_ngcontent-%COMP%], .action-grid[_ngcontent-%COMP%]   .btn-cyber.warn[_ngcontent-%COMP%]{border-color:var(--power-red);color:var(--power-red);background:#ff003c08;text-shadow:0 0 10px rgba(255,0,60,.3)}.action-grid[_ngcontent-%COMP%]   .btn-action.warn[_ngcontent-%COMP%]:hover:not(:disabled), .action-grid[_ngcontent-%COMP%]   .btn-cyber.warn[_ngcontent-%COMP%]:hover:not(:disabled){background:#ff003c26;box-shadow:0 0 25px #ff003c99,0 0 50px #ff003c40,inset 0 0 20px #ff003c1a;border-color:#ff5c7c;transform:translate(8px) scale(1.02);text-shadow:0 0 15px rgba(255,0,60,.9),0 0 25px rgba(255,0,60,.5)}.action-grid[_ngcontent-%COMP%]   .btn-action.warn[_ngcontent-%COMP%]:hover:not(:disabled):before, .action-grid[_ngcontent-%COMP%]   .btn-cyber.warn[_ngcontent-%COMP%]:hover:not(:disabled):before{left:100%}.action-grid[_ngcontent-%COMP%]   .btn-action.warn[_ngcontent-%COMP%]:active:not(:disabled), .action-grid[_ngcontent-%COMP%]   .btn-cyber.warn[_ngcontent-%COMP%]:active:not(:disabled){background:#ff003c40;box-shadow:0 0 35px #ff003ccc,inset 0 0 30px #ff003c26;transform:translate(4px) scale(.98)}.action-grid[_ngcontent-%COMP%]   .btn-action.risk[_ngcontent-%COMP%], .action-grid[_ngcontent-%COMP%]   .btn-cyber.risk[_ngcontent-%COMP%]{border-color:var(--neon-yellow);color:var(--neon-yellow);background:#fff01f08;text-shadow:0 0 10px rgba(255,240,31,.3)}.action-grid[_ngcontent-%COMP%]   .btn-action.risk[_ngcontent-%COMP%]:hover:not(:disabled), .action-grid[_ngcontent-%COMP%]   .btn-cyber.risk[_ngcontent-%COMP%]:hover:not(:disabled){background:#fff01f26;box-shadow:0 0 20px #fff01f80,0 0 40px #fff01f33,inset 0 0 20px #fff01f14;border-color:#ff9;transform:translate(8px) scale(1.02);text-shadow:0 0 15px rgba(255,240,31,.8),0 0 25px rgba(255,240,31,.4)}.action-grid[_ngcontent-%COMP%]   .btn-action.risk[_ngcontent-%COMP%]:hover:not(:disabled):before, .action-grid[_ngcontent-%COMP%]   .btn-cyber.risk[_ngcontent-%COMP%]:hover:not(:disabled):before{left:100%}.action-grid[_ngcontent-%COMP%]   .btn-action.risk[_ngcontent-%COMP%]:active:not(:disabled), .action-grid[_ngcontent-%COMP%]   .btn-cyber.risk[_ngcontent-%COMP%]:active:not(:disabled){background:#fff01f40;box-shadow:0 0 30px #fff01fb3,inset 0 0 30px #fff01f26;transform:translate(4px) scale(.98)}.action-grid[_ngcontent-%COMP%]   .btn-action[_ngcontent-%COMP%]:disabled, .action-grid[_ngcontent-%COMP%]   .btn-cyber[_ngcontent-%COMP%]:disabled{opacity:.15;cursor:not-allowed;box-shadow:none;transform:none;text-shadow:none}.skill-scroll-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(180px,1fr));gap:.8rem;max-height:50vh;overflow-y:auto;padding-right:1rem}.skill-scroll-grid[_ngcontent-%COMP%]::-webkit-scrollbar{width:4px}.skill-scroll-grid[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#ffffff0d}.skill-scroll-grid[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--neon-cyan)}.skill-scroll-grid[_ngcontent-%COMP%]   .skill-opt.mini[_ngcontent-%COMP%]{font-size:.7rem;padding:.6rem}.modal-card.hobby-modal[_ngcontent-%COMP%]{max-width:850px;padding:1.5rem 2rem}.hobby-header[_ngcontent-%COMP%]{position:relative}.modal-status.optional[_ngcontent-%COMP%]{background:transparent;border:1px solid rgba(0,243,255,.4);color:var(--neon-cyan);padding:.3rem .8rem;font-size:.65rem;clip-path:polygon(4px 0,100% 0,calc(100% - 4px) 100%,0 100%)}.hobby-instruction[_ngcontent-%COMP%]{font-family:var(--font-mono);font-size:.72rem;color:var(--text-dim);letter-spacing:1px;text-transform:uppercase;margin-bottom:1.2rem;padding-bottom:.8rem;border-bottom:1px solid rgba(0,243,255,.1);line-height:1.5}.hobby-chip-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(165px,1fr));gap:.5rem;max-height:55vh;overflow-y:auto;padding-right:.5rem}.hobby-chip-grid[_ngcontent-%COMP%]::-webkit-scrollbar{width:3px}.hobby-chip-grid[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.hobby-chip-grid[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--neon-cyan);border-radius:2px}.hobby-chip[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.5rem .7rem;background:#00f3ff08;border:1px solid rgba(0,243,255,.15);color:var(--text-dim);font-family:var(--font-header);font-size:.68rem;font-weight:600;letter-spacing:1px;text-transform:uppercase;cursor:pointer;text-align:left;transition:all .2s ease;position:relative;overflow:hidden;clip-path:polygon(6px 0,100% 0,calc(100% - 6px) 100%,0 100%)}.hobby-chip[_ngcontent-%COMP%]   .chip-led[_ngcontent-%COMP%]{width:4px;height:4px;background:#00f3ff4d;border-radius:50%;flex-shrink:0;transition:all .2s ease}.hobby-chip[_ngcontent-%COMP%]   .chip-name[_ngcontent-%COMP%]{flex:1;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.hobby-chip[_ngcontent-%COMP%]:hover{background:#00f3ff1a;border-color:#00f3ff80;color:var(--neon-cyan);box-shadow:0 0 12px #00f3ff26,inset 0 0 8px #00f3ff0d;transform:translateY(-1px)}.hobby-chip[_ngcontent-%COMP%]:hover   .chip-led[_ngcontent-%COMP%]{background:var(--neon-cyan);box-shadow:0 0 6px var(--neon-cyan)}.hobby-chip[_ngcontent-%COMP%]:active{transform:translateY(0);background:#00f3ff2e}.modal-card.tutor-modal[_ngcontent-%COMP%]{max-width:550px;padding:1.5rem 2rem;border-color:#ff8c0066!important;box-shadow:0 0 50px #ff8c0014!important}.tutor-header[_ngcontent-%COMP%]{border-bottom-color:#ff8c0033}.tutor-header[_ngcontent-%COMP%]   .index[_ngcontent-%COMP%]{color:var(--vivid-orange)}.tutor-header[_ngcontent-%COMP%]   .modal-status.mentor[_ngcontent-%COMP%]{background:transparent;border:1px solid rgba(255,140,0,.5);color:var(--vivid-orange);padding:.3rem .8rem;font-size:.65rem;clip-path:polygon(4px 0,100% 0,calc(100% - 4px) 100%,0 100%)}.tutor-instruction[_ngcontent-%COMP%]{font-family:var(--font-mono);font-size:.72rem;color:var(--text-dim);letter-spacing:1px;text-transform:uppercase;margin-bottom:1.2rem;padding-bottom:.8rem;border-bottom:1px solid rgba(255,140,0,.1);line-height:1.5}.tutor-option-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.6rem}.tutor-option[_ngcontent-%COMP%]{display:block;width:100%;background:#ff8c000a;border:1px solid rgba(255,140,0,.2);cursor:pointer;text-align:left;padding:0;transition:all .25s ease;clip-path:polygon(8px 0,100% 0,calc(100% - 8px) 100%,0 100%);position:relative;overflow:hidden}.tutor-option[_ngcontent-%COMP%]:before{content:"";position:absolute;left:0;top:0;bottom:0;width:3px;background:var(--vivid-orange);opacity:.5;transition:opacity .2s ease}.tutor-option[_ngcontent-%COMP%]   .tutor-option-inner[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.8rem;padding:.8rem 1rem}.tutor-option[_ngcontent-%COMP%]   .tutor-led[_ngcontent-%COMP%]{width:6px;height:6px;background:#ff8c004d;border-radius:50%;flex-shrink:0;transition:all .2s ease}.tutor-option[_ngcontent-%COMP%]   .tutor-skill-name[_ngcontent-%COMP%]{flex:1;font-family:var(--font-header);font-size:.78rem;font-weight:700;letter-spacing:1.5px;text-transform:uppercase;color:#ff8c00bf;transition:color .2s ease;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.tutor-option[_ngcontent-%COMP%]   .tutor-meta[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end;gap:.15rem;flex-shrink:0}.tutor-option[_ngcontent-%COMP%]   .tutor-roll-req[_ngcontent-%COMP%]{font-family:var(--font-mono);font-size:.6rem;color:#ff8c0080;letter-spacing:1px}.tutor-option[_ngcontent-%COMP%]   .tutor-effect[_ngcontent-%COMP%]{font-family:var(--font-mono);font-size:.6rem;color:var(--neon-green);letter-spacing:1px;opacity:.7}.tutor-option[_ngcontent-%COMP%]:hover{background:#ff8c001a;border-color:#ff8c0099;box-shadow:0 0 20px #ff8c0026,inset 0 0 12px #ff8c000d;transform:translate(3px)}.tutor-option[_ngcontent-%COMP%]:hover:before{opacity:1;box-shadow:2px 0 8px #ff8c0080}.tutor-option[_ngcontent-%COMP%]:hover   .tutor-led[_ngcontent-%COMP%]{background:var(--vivid-orange);box-shadow:0 0 8px var(--vivid-orange)}.tutor-option[_ngcontent-%COMP%]:hover   .tutor-skill-name[_ngcontent-%COMP%]{color:var(--vivid-orange)}.tutor-option[_ngcontent-%COMP%]:hover   .tutor-roll-req[_ngcontent-%COMP%]{color:#ff8c00cc}.tutor-option[_ngcontent-%COMP%]:hover   .tutor-effect[_ngcontent-%COMP%]{opacity:1}.tutor-option[_ngcontent-%COMP%]:active{transform:translate(1px);background:#ff8c0026}@keyframes _ngcontent-%COMP%_led-blink{0%,49%{opacity:1}50%,to{opacity:.35}}.studying-module[_ngcontent-%COMP%]   .studying-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:3rem 2rem;gap:2rem;position:relative}.studying-module[_ngcontent-%COMP%]   .cpu-rings[_ngcontent-%COMP%]{position:relative;width:130px;height:130px;display:flex;align-items:center;justify-content:center;flex-shrink:0}.studying-module[_ngcontent-%COMP%]   .cpu-rings[_ngcontent-%COMP%]   .cpu-ring[_ngcontent-%COMP%]{position:absolute;border-radius:50%;border:1px solid}.studying-module[_ngcontent-%COMP%]   .cpu-rings[_ngcontent-%COMP%]   .cpu-ring.r1[_ngcontent-%COMP%]{width:130px;height:130px;border-color:#00f3ff1f;border-style:dashed;animation:_ngcontent-%COMP%_ring-spin 12s linear infinite}.studying-module[_ngcontent-%COMP%]   .cpu-rings[_ngcontent-%COMP%]   .cpu-ring.r2[_ngcontent-%COMP%]{width:96px;height:96px;border-color:#00f3ff38;animation:_ngcontent-%COMP%_ring-spin 7s linear infinite reverse}.studying-module[_ngcontent-%COMP%]   .cpu-rings[_ngcontent-%COMP%]   .cpu-ring.r3[_ngcontent-%COMP%]{width:62px;height:62px;border-color:#00f3ff73;animation:_ngcontent-%COMP%_ring-spin 4s linear infinite}.studying-module[_ngcontent-%COMP%]   .cpu-rings[_ngcontent-%COMP%]   .cpu-core[_ngcontent-%COMP%]{font-family:var(--font-accent);font-size:1rem;color:var(--neon-cyan);letter-spacing:3px;text-shadow:0 0 12px var(--neon-cyan-glow);animation:_ngcontent-%COMP%_core-pulse 2s ease-in-out infinite;z-index:2}.studying-module[_ngcontent-%COMP%]   .processing-text[_ngcontent-%COMP%]{font-family:var(--font-mono);font-size:.75rem;color:var(--text-dim);letter-spacing:3px;text-transform:uppercase;text-align:center}.studying-module[_ngcontent-%COMP%]   .hex-data-stream[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:5px;text-align:center}.studying-module[_ngcontent-%COMP%]   .hex-data-stream[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:var(--font-mono);font-size:.6rem;color:var(--neon-cyan);letter-spacing:4px;opacity:.35;animation:_ngcontent-%COMP%_hex-flicker .6s ease-in-out infinite alternate}.studying-module[_ngcontent-%COMP%]   .hex-data-stream[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2){animation-delay:.2s}.studying-module[_ngcontent-%COMP%]   .hex-data-stream[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(3){animation-delay:.4s}@keyframes _ngcontent-%COMP%_ring-spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_core-pulse{0%,to{opacity:.8;text-shadow:0 0 6px var(--neon-cyan)}50%{opacity:1;text-shadow:0 0 22px var(--neon-cyan-glow),0 0 45px rgba(0,243,255,.25)}}@keyframes _ngcontent-%COMP%_hex-flicker{0%{opacity:.25}to{opacity:.55}}.modal-corner[_ngcontent-%COMP%]{position:absolute;width:12px;height:12px;border-color:var(--neon-cyan);border-style:solid;pointer-events:none;opacity:.6}.modal-corner.tl[_ngcontent-%COMP%]{top:8px;left:8px;border-width:2px 0 0 2px}.modal-corner.tr[_ngcontent-%COMP%]{top:8px;right:8px;border-width:2px 2px 0 0}.modal-corner.bl[_ngcontent-%COMP%]{bottom:8px;left:8px;border-width:0 0 2px 2px}.modal-corner.br[_ngcontent-%COMP%]{bottom:8px;right:8px;border-width:0 2px 2px 0}.modal-scan-line[_ngcontent-%COMP%]{position:absolute;top:0;left:0%;width:100%;height:1px;background:linear-gradient(90deg,transparent 0%,rgba(255,50,50,.9) 50%,transparent 100%);animation:_ngcontent-%COMP%_modal-scan 4s ease-in-out infinite;z-index:10;pointer-events:none}@keyframes _ngcontent-%COMP%_modal-scan{0%{top:0%;opacity:0}5%{opacity:.8}95%{opacity:.3}to{top:100%;opacity:0}}.modal-status[_ngcontent-%COMP%]{font-family:var(--font-mono);font-size:.5rem;letter-spacing:2px;padding:2px 8px;border:1px solid var(--vivid-orange);color:var(--vivid-orange);margin-left:auto;white-space:nowrap}.modal-status.blink[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_blink .8s step-end infinite;border-color:var(--power-red);color:var(--power-red);background:#ff00001f}.modal-status.mentor[_ngcontent-%COMP%]{border-color:var(--neon-cyan);color:var(--neon-cyan);background:#00f3ff0d}.war-modal[_ngcontent-%COMP%]{max-width:700px;border-color:#ff003c80!important;box-shadow:0 0 80px #ff003c40,inset 0 0 50px #ff003c14!important;background:linear-gradient(135deg,#101010f2,#140505eb)}.war-modal[_ngcontent-%COMP%]   .modal-corner[_ngcontent-%COMP%]{border-color:var(--power-red)}.war-modal[_ngcontent-%COMP%]   .modal-scan-line[_ngcontent-%COMP%]{background:linear-gradient(90deg,transparent,rgba(255,0,60,.3),transparent)}.war-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{border-bottom-color:#ff003c4d}.war-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--power-red);text-shadow:0 0 20px rgba(255,0,60,.5);letter-spacing:3px}.war-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-status[_ngcontent-%COMP%]{background:#ff003c1a;border-color:var(--power-red);color:var(--power-red)}.war-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-main);line-height:1.6;margin-bottom:1.5rem;font-family:var(--font-body);text-shadow:0 0 5px rgba(0,0,0,.5)}.war-header[_ngcontent-%COMP%]{background:#ff00000d;border-bottom-color:#ff000040!important}.mentor-modal[_ngcontent-%COMP%]{border-color:#00f3ff73!important;box-shadow:0 0 40px #00f3ff1a!important}.mentor-modal[_ngcontent-%COMP%]   .modal-corner[_ngcontent-%COMP%]{border-color:var(--neon-cyan);opacity:.8}.roll-phase-screen[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;width:100%;position:relative;animation:_ngcontent-%COMP%_fadeIn .4s ease-out}.roll-phase-screen[_ngcontent-%COMP%]   .hud-box-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;padding:.8rem 1.2rem;background:#00f3ff0f;border-bottom:1px solid rgba(0,243,255,.2)}.roll-phase-screen[_ngcontent-%COMP%]   .hud-box-header.success[_ngcontent-%COMP%]{background:#00c8640f;border-bottom-color:#00c86433}.roll-phase-screen[_ngcontent-%COMP%]   .hud-box-header.failure[_ngcontent-%COMP%]{background:#ff32320f;border-bottom-color:#ff323233}.roll-phase-screen[_ngcontent-%COMP%]   .hud-box-header[_ngcontent-%COMP%]   .index[_ngcontent-%COMP%]{font-family:var(--font-mono);font-size:.55rem;color:var(--neon-cyan);opacity:.5;letter-spacing:2px;text-transform:uppercase}.roll-phase-screen[_ngcontent-%COMP%]   .hud-box-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-family:var(--font-header);font-size:.9rem;color:#fff;letter-spacing:3px;text-transform:uppercase;flex:1}.roll-phase-screen[_ngcontent-%COMP%]   .hud-content[_ngcontent-%COMP%]{padding:1.5rem;position:relative;z-index:1}.roll-phase-screen[_ngcontent-%COMP%]   .hud-content[_ngcontent-%COMP%]   .instruction[_ngcontent-%COMP%]{font-family:var(--font-mono);font-size:.7rem;color:var(--text-dim);margin-bottom:1rem;text-transform:uppercase;letter-spacing:1px;line-height:1.5}.roll-phase-screen[_ngcontent-%COMP%]   .hud-content[_ngcontent-%COMP%]   .modifiers-table[_ngcontent-%COMP%]{background:#0000004d;border:1px solid rgba(0,243,255,.15);overflow:hidden}.roll-phase-screen[_ngcontent-%COMP%]   .hud-content[_ngcontent-%COMP%]   .modifiers-table[_ngcontent-%COMP%]   .mod-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 100px;gap:1rem;padding:.6rem 1rem;border-bottom:1px solid rgba(0,243,255,.08)}.roll-phase-screen[_ngcontent-%COMP%]   .hud-content[_ngcontent-%COMP%]   .modifiers-table[_ngcontent-%COMP%]   .mod-row.header[_ngcontent-%COMP%]{background:#00f3ff0a;font-weight:700;color:var(--neon-cyan)}.roll-phase-screen[_ngcontent-%COMP%]   .hud-content[_ngcontent-%COMP%]   .modifiers-table[_ngcontent-%COMP%]   .mod-row[_ngcontent-%COMP%]   .mod-label[_ngcontent-%COMP%]{font-family:var(--font-mono);font-size:.65rem;color:var(--text-dim);text-transform:uppercase;letter-spacing:1px}.roll-phase-screen[_ngcontent-%COMP%]   .hud-content[_ngcontent-%COMP%]   .modifiers-table[_ngcontent-%COMP%]   .mod-row[_ngcontent-%COMP%]   .mod-value[_ngcontent-%COMP%]{font-family:var(--font-mono);font-size:.75rem;text-align:right;color:#fff;font-weight:700}.roll-phase-screen[_ngcontent-%COMP%]   .hud-content[_ngcontent-%COMP%]   .modifiers-table[_ngcontent-%COMP%]   .mod-row[_ngcontent-%COMP%]   .mod-value.positive[_ngcontent-%COMP%]{color:var(--neon-cyan)}.roll-phase-screen[_ngcontent-%COMP%]   .hud-content[_ngcontent-%COMP%]   .modifiers-table[_ngcontent-%COMP%]   .mod-row[_ngcontent-%COMP%]   .mod-value.negative[_ngcontent-%COMP%]{color:var(--power-red)}.roll-phase-screen[_ngcontent-%COMP%]   .hud-content[_ngcontent-%COMP%]   .roll-spec-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin-bottom:1.5rem;padding:.8rem 1rem;background:#00f3ff0d;border:1px solid rgba(0,243,255,.2);border-radius:2px;font-family:var(--font-mono);font-size:.8rem;letter-spacing:1px}.roll-phase-screen[_ngcontent-%COMP%]   .hud-content[_ngcontent-%COMP%]   .roll-spec-row[_ngcontent-%COMP%]   .spec-dice[_ngcontent-%COMP%]{color:var(--neon-cyan);font-weight:700;font-size:.9rem}.roll-phase-screen[_ngcontent-%COMP%]   .hud-content[_ngcontent-%COMP%]   .roll-spec-row[_ngcontent-%COMP%]   .spec-sep[_ngcontent-%COMP%]{color:#00f3ff80}.roll-phase-screen[_ngcontent-%COMP%]   .hud-content[_ngcontent-%COMP%]   .roll-spec-row[_ngcontent-%COMP%]   .spec-stat[_ngcontent-%COMP%]{color:var(--neon-orange);font-weight:700}.roll-phase-screen[_ngcontent-%COMP%]   .hud-content[_ngcontent-%COMP%]   .roll-spec-row[_ngcontent-%COMP%]   .spec-target[_ngcontent-%COMP%]{color:var(--power-red);font-weight:700;margin-left:.3rem}.roll-phase-screen[_ngcontent-%COMP%]   .hud-content[_ngcontent-%COMP%]   .announcement-text[_ngcontent-%COMP%]{color:var(--text-main);font-size:.75rem;line-height:1.5;margin-bottom:1.5rem;padding:1rem;background:#ffffff05;border-left:2px solid var(--neon-cyan);font-family:var(--font-body)}.roll-phase-screen[_ngcontent-%COMP%]   .hud-content[_ngcontent-%COMP%]   .announcement-text[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:var(--neon-cyan)}.roll-phase-screen[_ngcontent-%COMP%]   .hud-content[_ngcontent-%COMP%]   .outcome-matrix[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:1rem;margin-top:1.5rem}.roll-phase-screen[_ngcontent-%COMP%]   .hud-content[_ngcontent-%COMP%]   .outcome-matrix[_ngcontent-%COMP%]   .outcome-block[_ngcontent-%COMP%]{display:flex;gap:1rem;padding:1rem;border-radius:2px;background:#0000004d;border:1px solid;font-size:.7rem}.roll-phase-screen[_ngcontent-%COMP%]   .hud-content[_ngcontent-%COMP%]   .outcome-matrix[_ngcontent-%COMP%]   .outcome-block.success[_ngcontent-%COMP%]{border-color:#00ff6466;background:#00ff640d}.roll-phase-screen[_ngcontent-%COMP%]   .hud-content[_ngcontent-%COMP%]   .outcome-matrix[_ngcontent-%COMP%]   .outcome-block.success[_ngcontent-%COMP%]   .outcome-icon[_ngcontent-%COMP%]{color:#00ff64;font-weight:700;font-size:1.2rem}.roll-phase-screen[_ngcontent-%COMP%]   .hud-content[_ngcontent-%COMP%]   .outcome-matrix[_ngcontent-%COMP%]   .outcome-block.failure[_ngcontent-%COMP%]{border-color:#f446;background:#ff44440d}.roll-phase-screen[_ngcontent-%COMP%]   .hud-content[_ngcontent-%COMP%]   .outcome-matrix[_ngcontent-%COMP%]   .outcome-block.failure[_ngcontent-%COMP%]   .outcome-icon[_ngcontent-%COMP%]{color:#f44;font-weight:700;font-size:1.2rem}.roll-phase-screen[_ngcontent-%COMP%]   .hud-content[_ngcontent-%COMP%]   .outcome-matrix[_ngcontent-%COMP%]   .outcome-block[_ngcontent-%COMP%]   .outcome-icon[_ngcontent-%COMP%]{flex-shrink:0;display:flex;align-items:center;justify-content:center;width:1.5rem}.roll-phase-screen[_ngcontent-%COMP%]   .hud-content[_ngcontent-%COMP%]   .outcome-matrix[_ngcontent-%COMP%]   .outcome-block[_ngcontent-%COMP%]   .outcome-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.3rem}.roll-phase-screen[_ngcontent-%COMP%]   .hud-content[_ngcontent-%COMP%]   .outcome-matrix[_ngcontent-%COMP%]   .outcome-block[_ngcontent-%COMP%]   .outcome-content[_ngcontent-%COMP%]   .outcome-label[_ngcontent-%COMP%]{font-family:var(--font-mono);font-weight:700;text-transform:uppercase;letter-spacing:1px;color:var(--text-main)}.roll-phase-screen[_ngcontent-%COMP%]   .hud-content[_ngcontent-%COMP%]   .outcome-matrix[_ngcontent-%COMP%]   .outcome-block[_ngcontent-%COMP%]   .outcome-content[_ngcontent-%COMP%]   .outcome-text[_ngcontent-%COMP%]{color:var(--text-dim);line-height:1.4}.roll-phase-screen[_ngcontent-%COMP%]   .hud-content[_ngcontent-%COMP%]   .events-table-preview[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.8rem;margin-top:1.5rem;padding:1rem;background:#0000004d;border:1px solid rgba(0,243,255,.15);border-radius:2px;max-height:250px;overflow-y:auto}.roll-phase-screen[_ngcontent-%COMP%]   .hud-content[_ngcontent-%COMP%]   .events-table-preview[_ngcontent-%COMP%]   .table-label[_ngcontent-%COMP%]{font-family:var(--font-mono);font-size:.65rem;color:var(--neon-cyan);text-transform:uppercase;letter-spacing:1px;font-weight:700;padding-bottom:.5rem;border-bottom:1px solid rgba(0,243,255,.2)}.roll-phase-screen[_ngcontent-%COMP%]   .hud-content[_ngcontent-%COMP%]   .events-table-preview[_ngcontent-%COMP%]   .events-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.4rem}.roll-phase-screen[_ngcontent-%COMP%]   .hud-content[_ngcontent-%COMP%]   .events-table-preview[_ngcontent-%COMP%]   .events-list[_ngcontent-%COMP%]   .event-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:30px 1fr;gap:.8rem;padding:.5rem .8rem;background:#ffffff05;border-left:2px solid rgba(0,243,255,.3);font-size:.7rem;line-height:1.3}.roll-phase-screen[_ngcontent-%COMP%]   .hud-content[_ngcontent-%COMP%]   .events-table-preview[_ngcontent-%COMP%]   .events-list[_ngcontent-%COMP%]   .event-row[_ngcontent-%COMP%]   .event-roll[_ngcontent-%COMP%]{font-family:var(--font-mono);font-weight:700;color:var(--neon-orange);text-align:center;padding-top:.15rem}.roll-phase-screen[_ngcontent-%COMP%]   .hud-content[_ngcontent-%COMP%]   .events-table-preview[_ngcontent-%COMP%]   .events-list[_ngcontent-%COMP%]   .event-row[_ngcontent-%COMP%]   .event-desc[_ngcontent-%COMP%]{color:var(--text-dim);word-wrap:break-word}.roll-phase-screen[_ngcontent-%COMP%]   .hud-content[_ngcontent-%COMP%]   .events-table-preview[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.roll-phase-screen[_ngcontent-%COMP%]   .hud-content[_ngcontent-%COMP%]   .events-table-preview[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#00f3ff0d}.roll-phase-screen[_ngcontent-%COMP%]   .hud-content[_ngcontent-%COMP%]   .events-table-preview[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#00f3ff4d;border-radius:3px}.roll-phase-screen[_ngcontent-%COMP%]   .hud-content[_ngcontent-%COMP%]   .events-table-preview[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#00f3ff80}.roll-phase-screen[_ngcontent-%COMP%]   .hud-content[_ngcontent-%COMP%]   .result-display[_ngcontent-%COMP%]{background:#0006;border-left:3px solid var(--neon-cyan);padding:1.5rem;margin-bottom:1rem;text-align:center}.roll-phase-screen[_ngcontent-%COMP%]   .hud-content[_ngcontent-%COMP%]   .result-display.admitted[_ngcontent-%COMP%]{border-left-color:var(--neon-cyan)}.roll-phase-screen[_ngcontent-%COMP%]   .hud-content[_ngcontent-%COMP%]   .result-display.rejected[_ngcontent-%COMP%]{border-left-color:var(--power-red)}.roll-phase-screen[_ngcontent-%COMP%]   .hud-content[_ngcontent-%COMP%]   .result-display[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 .5rem;font-family:var(--font-header);font-size:1.1rem;letter-spacing:3px;text-transform:uppercase;color:#fff}.roll-phase-screen[_ngcontent-%COMP%]   .hud-content[_ngcontent-%COMP%]   .result-display[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-family:var(--font-mono);font-size:.8rem;color:var(--text-dim)}.roll-phase-screen[_ngcontent-%COMP%]   .hud-content[_ngcontent-%COMP%]   .result-details[_ngcontent-%COMP%]{background:#00f3ff08;border:1px solid rgba(0,243,255,.15);padding:1rem;border-radius:2px}.roll-phase-screen[_ngcontent-%COMP%]   .hud-content[_ngcontent-%COMP%]   .result-details[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin:0 0 .5rem;font-family:var(--font-header);font-size:.75rem;color:var(--neon-cyan);letter-spacing:2px;text-transform:uppercase}.roll-phase-screen[_ngcontent-%COMP%]   .hud-content[_ngcontent-%COMP%]   .result-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;padding-left:1.5rem}.roll-phase-screen[_ngcontent-%COMP%]   .hud-content[_ngcontent-%COMP%]   .result-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-family:var(--font-mono);font-size:.7rem;color:var(--text-dim);margin-bottom:.3rem;line-height:1.4}.roll-phase-screen[_ngcontent-%COMP%]   .hud-content[_ngcontent-%COMP%]   .event-display[_ngcontent-%COMP%]{text-align:center}.roll-phase-screen[_ngcontent-%COMP%]   .hud-content[_ngcontent-%COMP%]   .event-display[_ngcontent-%COMP%]   .roll-number[_ngcontent-%COMP%]{font-family:var(--font-mono);font-size:1.2rem;color:var(--cyber-yellow);margin:0 0 .5rem;font-weight:700;letter-spacing:2px}.roll-phase-screen[_ngcontent-%COMP%]   .hud-content[_ngcontent-%COMP%]   .event-display[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 .5rem;font-family:var(--font-header);font-size:1rem;letter-spacing:2px;text-transform:uppercase;color:#fff}.roll-phase-screen[_ngcontent-%COMP%]   .hud-content[_ngcontent-%COMP%]   .event-display[_ngcontent-%COMP%]   .effect-text[_ngcontent-%COMP%]{margin:.5rem 0 0;font-family:var(--font-mono);font-size:.7rem;color:var(--neon-cyan);line-height:1.5}.roll-phase-screen[_ngcontent-%COMP%]   .hud-footer[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:1rem;border-top:1px solid rgba(0,243,255,.15);gap:1rem}.roll-phase-screen[_ngcontent-%COMP%]   .hud-footer[_ngcontent-%COMP%]   .btn-action[_ngcontent-%COMP%]{min-width:200px}.roll-phase-screen[_ngcontent-%COMP%]   .hud-footer[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]{display:flex;gap:1rem;width:100%}.roll-phase-screen[_ngcontent-%COMP%]   .hud-footer[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]   .btn-action[_ngcontent-%COMP%]{flex:1}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(8px)}to{opacity:1;transform:translateY(0)}}`]})};var Cw=["Army","Navy","Marine"],yw=["Scout","Rogue","Drifter","Spaceborne"],sl=class n{characterService=C(de);diceDisplay=C(Ke);async calculateMedicalCoverage(t,e){let r=await this.diceDisplay.roll("Medical Coverage Check",2,e,0,"",void 0,[],void 0,{phase:`MEDICAL COVERAGE \xB7 ${t.toUpperCase()}`,announcement:`After your term of service, the ${t} evaluates your entitlement to medical support. Roll 2D6 + Rank modifier to determine what fraction of your medical bills will be covered.`,successContext:"Medical coverage confirmed. Your injuries and treatments will be partially or fully reimbursed by the service.",failureContext:"No medical coverage awarded. You are responsible for the full cost of any injuries or treatments this term."})+e;return Cw.includes(t)?r>=8?1:r>=4?.75:0:yw.includes(t)?r>=12?.75:r>=8?.5:0:r>=12?1:r>=8?.75:r>=4?.5:0}calculateMedicalDebt(t,e,i){let r;t===3?r=1e4:r=e*5e3;let o=Math.floor(r*(1-i));return{coveragePercent:i,restorationCost:r,debtAmount:o}}async checkAging(t,e){if(t<50||e<8)return null;let i=[{label:"Terms Served",value:-e}],r=await this.diceDisplay.roll("Aging Check",2,-e,0,"",void 0,i,void 0,{phase:`AGING CHECK \xB7 AGE ${t}`,announcement:`You are ${t} years old with ${e} terms served. Age takes its toll \u2014 roll 2D6 \u2212 ${e} (terms served) to resist physical decline. Higher is better.`,successContext:"You weather the years well. Physical and mental faculties remain largely intact for another term.",failureContext:"Age is catching up with you. One or more characteristics are reduced due to the wear of time."}),o=r-e,a=[];if(o<=0)return a.push({stat:"STR",delta:-2},{stat:"DEX",delta:-2},{stat:"END",delta:-2},{stat:"INT",delta:-1}),this.applyStatDeltas(a),this.characterService.log("**Aging Crisis**: STR -2, DEX -2, END -2, INT -1."),{roll:r,total:o,description:"AGING_CRISIS: Significant physical and mental decline detected.",statDeltas:a,endCareer:!0};if(o===1?a.push({stat:"STR",delta:-2},{stat:"DEX",delta:-2},{stat:"END",delta:-2}):o===2?a.push({stat:"STR",delta:-2},{stat:"DEX",delta:-2}):o===3?a.push({stat:"STR",delta:-2}):o===4?a.push({stat:"STR",delta:-1},{stat:"DEX",delta:-1}):o===5&&a.push({stat:"STR",delta:-1}),a.length>0){this.applyStatDeltas(a);let l=a.map(u=>`${u.stat} ${u.delta}`).join(", ");this.characterService.log(`**Aging Effect**: ${l}.`)}return{roll:r,total:o,description:a.length>0?`AGING_EFFECT: ${a.map(l=>`${l.stat} ${l.delta}`).join(", ")}.`:"No aging effects detected.",statDeltas:a,endCareer:!1}}async rollLeavingHome(t,e){let i=this.characterService.character();if(i.hasLeftHome)return null;let r=[],o=0;i.originType==="Spacer"&&(o+=2,r.push({label:"Spacer Origin",value:2})),["Navy","Marine","Merchant"].includes(t)?(o+=e,r.push({label:`${t} Career (+1/term)`,value:e})):t==="Scout"&&(o+=e*2,r.push({label:"Scout Career (+2/term)",value:e*2}));let a=await this.diceDisplay.roll("Leaving Home Check",2,o,8,"",f=>f+o>=8?"SUCCESS":"NO MOTION",r,void 0,{phase:`HOMEWORLD TIES \xB7 TERM ${e}`,announcement:`After ${e} term(s) as a ${t}, the call of the wider universe beckons. Roll 2D6 + ${o} to see if you successfully leave your homeworld behind.`,successContext:"You leave your homeworld. New opportunities and adventures await across the stars.",failureContext:"You remain tied to your homeworld this term. Perhaps next time the stars will align in your favor."}),l=a+o,u=l>=8;return u&&(this.characterService.updateCharacter({hasLeftHome:!0}),this.characterService.log("**Left Home**: Character successfully left homeworld.")),{roll:a,bonus:o,total:l,success:u}}isNeuralJackEligible(t,e){let i=this.characterService.character();if(i.equipment.some(l=>l.includes("Neural Jack")))return!1;let o=At.find(l=>l.name===i.nationality)?.tier??3,a=["Navy","Marine"];return e<=3&&a.includes(t)&&o<=3}applyRankBonusRolls(t,e){let i=0;return e>=5?i=3:e>=3?i=2:e>=1&&(i=1),i>0&&(this.characterService.addBenefitRoll(t,i),this.characterService.log(`**Rank Bonus Benefits**: Gained +${i} rolls for Rank ${e}.`)),i}applyEliteSocBonus(){this.characterService.character().characteristics.soc.value>=10&&(this.characterService.modifyStat("SOC",1,!0),this.characterService.log("**Elite Status**: SOC increased by 1 (SOC 10+ bonus)."))}applyForeignLegionBenefits(){this.characterService.ensureSkillLevel("Language (French)",0),this.characterService.updateCharacter({nationality:"French Empire"}),this.characterService.log("**Foreign Legion Completion**: Granted French Citizenship and Language (French) 0.")}applyStatDeltas(t){for(let{stat:e,delta:i}of t)this.characterService.modifyStat(e,i)}static \u0275fac=function(e){return new(e||n)};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})};var cl={id:"neural_jack_install",type:"CHOICE",trigger:"DURING_CAREER_TERM",conditions:{nationTier:3,career:["Navy","Marine","Scout"],customCheck:n=>!n.hasNeuralJack},ui:{title:"Service Offer: Neural Interface",description:"Due to the high technological tier of your nation (Tier 3+), command offers the surgical installation of a Neural Jack to enhance your combat and piloting efficiency. This procedure is expensive and will cost you one future Mustering Out Benefit roll.",options:[{label:"Accept Installation",revealText:'You permanently lose 1 Benefit Roll at Mustering Out. In return you gain a Neural Jack (TL12) in your equipment and the "hasNeuralJack" flag on your character sheet, which may unlock special options in future events.',effects:[{type:"RESOURCE_MOD",target:"benefit_rolls",value:-1,note:"Sacrificed 1 Benefit Roll for Neural Jack."},{type:"ADD_ITEM",value:"Neural Jack (TL12)",note:"Neural Jack installed."},{type:"LOG_ENTRY",note:" underwent voluntary surgery for Neural Jack installation."},{type:"CUSTOM",customId:"SET_NEURAL_JACK"}]},{label:"Refuse",revealText:"No benefit rolls are spent. The offer is logged but no changes are made to your character.",effects:[{type:"LOG_ENTRY",note:"Refused Neural Jack installation offer."}]}]}};var bw=gn.musteringOutBenefits;function V_(n){let t=bw[n];if(t)return t;if(n.includes("INT +"))return[{type:"STAT_MOD",target:"INT",value:1}];if(n.includes("EDU +"))return[{type:"STAT_MOD",target:"EDU",value:1}];if(n.includes("SOC +"))return[{type:"STAT_MOD",target:"SOC",value:1}];if(n.includes("STR +"))return[{type:"STAT_MOD",target:"STR",value:1}];if(n.includes("DEX +"))return[{type:"STAT_MOD",target:"DEX",value:1}];if(n.includes("END +"))return[{type:"STAT_MOD",target:"END",value:1}];if(n.includes("Two Ship Shares"))return[{type:"RESOURCE_MOD",target:"shipShares",value:2}];if(n.includes("Ship Share"))return[{type:"RESOURCE_MOD",target:"shipShares",value:1}];if(n.includes("Ship's Boat"))return[{type:"RESOURCE_MOD",target:"shipShares",value:2}];let e={Deception:"Deception",Persuade:"Persuade",Stealth:"Stealth","Melee (unarmed)":"Melee (unarmed)",Recon:"Recon",Streetwise:"Streetwise"};for(let[i,r]of Object.entries(e))if(n===i)return[{type:"SKILL_MOD",target:r,value:1}];return n==="Personal Vehicle"?[{type:"ADD_ITEM",value:"Personal Vehicle"}]:n==="Yacht"?[{type:"ADD_ITEM",value:"Yacht"}]:n==="Cybernetic Implant"?[{type:"ADD_ITEM",value:"Cybernetic Implant"}]:n==="Armour"?[{type:"ADD_ITEM",value:"Combat Armour"}]:[{type:"LOG_ENTRY",note:`Benefit Gained: ${n}`},{type:"ADD_ITEM",value:n}]}var j_=[{name:"Rifle (Slug Thrower)",description:"Standard military or civilian rifle. Reliable and effective."},{name:"Pistol (Slug Thrower)",description:"Compact sidearm for close quarters. Easy to conceal."},{name:"Shotgun",description:"Scatter gun for close-range combat. High damage potential."},{name:"Submachine Gun",description:"Rapid-fire automatic weapon. Favored in urban combat."},{name:"Carbine",description:"Compact rifle variant. Good balance of firepower and mobility."},{name:"Laser Rifle",description:"Energy weapon. Silent, efficient, requires power cells.",restricted:"military"},{name:"Laser Pistol",description:"Compact energy weapon. Concealable and reliable.",restricted:"military"},{name:"Plasma Rifle",description:"Advanced energy weapon. Devastating at close range.",restricted:"military"}],B_=[{name:"Combat Armor (TL 10)",description:"Standard military-grade protection. Covers vitals."},{name:"Vacc Suit with Armor",description:"Vacuum-rated armor. Provides both pressure and ballistic protection."},{name:"Ballistic Jacket",description:"Civilian-grade light armor. Concealable under clothing."},{name:"Combat Suit",description:"Full-body protection. Military-grade materials and design."},{name:"Powered Armor Frame",description:"Exoskeleton frame without power source. Requires technical support."}],U_=[{name:"Grav ATV",description:"Small anti-gravity vehicle. Terrain-independent. (Lv 250,000)"},{name:"Ground Truck",description:"Reliable utility vehicle. Cargo capacity varies. (Lv 150,000)"},{name:"Hover Transport",description:"Air-cushion vehicle. Fast movement across most terrain. (Lv 200,000)"},{name:"Fast Bike",description:"High-speed personal transport. Minimal cargo. (Lv 100,000)"},{name:"Explorer Hangar",description:"Dedicated vehicle storage and repair facility. (Lv 300,000)"}];function ll(n,t){let e=["Army","Navy","Marine","Agent"].includes(t),i=["Spaceborne","Belter","Scout"].includes(t);return n.filter(r=>r.restricted?r.restricted==="military"?e:r.restricted==="spaceborne"?i:!1:!0)}var Br=class n{showDialog=N(!1);dialogTitle=N("");dialogDescription=N("");choices=N([]);selectedChoice=N(null);resolvePromise=null;showEquipmentDialog=N(!1);equipmentDialogTitle=N("");equipmentDialogDescription=N("");equipmentSelectionResolve=null;constructor(){}async selectWeapon(t){return this.showChoiceDialog("WEAPON SELECTION","Choose the type of weapon you receive as a benefit:",ll(j_,t))}async selectArmor(t){return this.showChoiceDialog("ARMOR SELECTION","Choose the type of armor you receive as a benefit:",ll(B_,t))}async selectVehicle(t){return this.showChoiceDialog("VEHICLE SELECTION","Choose the vehicle you receive as a benefit:",ll(U_,t))}async selectEquipment(t,e,i){return new Promise(r=>{this.equipmentDialogTitle.set(t),this.equipmentDialogDescription.set(i||"Select an item:"),this.showEquipmentDialog.set(!0),this.equipmentSelectionResolve=r})}confirmEquipmentSelection(t){this.showEquipmentDialog.set(!1),this.equipmentSelectionResolve&&(this.equipmentSelectionResolve(t),this.equipmentSelectionResolve=null)}cancelEquipmentSelection(){this.showEquipmentDialog.set(!1),this.equipmentSelectionResolve&&(this.equipmentSelectionResolve(null),this.equipmentSelectionResolve=null)}async showChoiceDialog(t,e,i){return new Promise(r=>{this.dialogTitle.set(t),this.dialogDescription.set(e),this.choices.set(i),this.selectedChoice.set(null),this.showDialog.set(!0),this.resolvePromise=r})}selectChoice(t){this.selectedChoice.set(t),this.confirmChoice()}confirmChoice(){let t=this.selectedChoice();this.showDialog.set(!1),this.resolvePromise&&(this.resolvePromise(t),this.resolvePromise=null)}cancelChoice(){this.showDialog.set(!1),this.resolvePromise&&(this.resolvePromise(null),this.resolvePromise=null)}isDialogOpen=this.showDialog.asReadonly();getDialogTitle=this.dialogTitle.asReadonly();getDialogDescription=this.dialogDescription.asReadonly();getChoices=this.choices.asReadonly();getSelectedChoice=this.selectedChoice.asReadonly();isEquipmentDialogOpen=this.showEquipmentDialog.asReadonly();getEquipmentDialogTitle=this.equipmentDialogTitle.asReadonly();getEquipmentDialogDescription=this.equipmentDialogDescription.asReadonly();static \u0275fac=function(e){return new(e||n)};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})};var dl=class n{characterService=C(de);showInheritanceChoice=N(!1);addInheritanceBonus(t){let e=this.characterService.character(),i=e.careerHistory.length,r={careerName:t,termReceived:i,used:!1},o=A(E({},e),{inheritanceBonuses:[...e.inheritanceBonuses||[],r]});this.characterService.updateCharacter(o),console.log(`\u2705 Inheritance Bonus Added for ${t}. Total available: ${this.getAvailableCount(t)}`)}getAvailableCount(t){return(this.characterService.character().inheritanceBonuses||[]).filter(i=>i.careerName===t&&!i.used).length}getAllBonuses(){return this.characterService.character().inheritanceBonuses||[]}useBonusForRoll(t){let e=this.characterService.character(),i=e.inheritanceBonuses||[],r=i.findIndex(a=>a.careerName===t&&!a.used);if(r===-1)return console.warn(`No available inheritance bonus for ${t}`),!1;let o=E({},e);return o.inheritanceBonuses=i.map((a,l)=>l===r?A(E({},a),{used:!0}):a),this.characterService.updateCharacter(o),console.log(`\u2705 Inheritance Bonus Used. Remaining for ${t}: ${this.getAvailableCount(t)}`),!0}canUseInheritanceBonus(t){return this.getAvailableCount(t)>0}setShowChoice(t){this.showInheritanceChoice.set(t)}getShowChoice=this.showInheritanceChoice;static \u0275fac=function(e){return new(e||n)};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})};var xw={Gun:{benefitName:"Gun",canDouble:!0,doubleDescription:"Take 2 guns instead of 1",hasAlternative:!0,alternativeDescription:"Increase Gun Combat skill by 1"},Blade:{benefitName:"Blade",canDouble:!0,doubleDescription:"Take 2 blades instead of 1",hasAlternative:!0,alternativeDescription:"Increase Melee (Blade) skill by 1"},Rifle:{benefitName:"Rifle",canDouble:!0,doubleDescription:"Take 2 rifles instead of 1",hasAlternative:!0,alternativeDescription:"Increase Gun Combat (Rifle) skill by 1"},Shotgun:{benefitName:"Shotgun",canDouble:!0,doubleDescription:"Take 2 shotguns instead of 1",hasAlternative:!0,alternativeDescription:"Increase Gun Combat (Shotgun) skill by 1"},"Combat Armor":{benefitName:"Combat Armor",canDouble:!0,doubleDescription:"Take 2 Combat Armor suits",hasAlternative:!0,alternativeDescription:"Upgrade to Advanced Combat Armor"},"Ship Share":{benefitName:"Ship Share",canDouble:!0,doubleDescription:"Take 2 Ship Shares instead of 1",hasAlternative:!0,alternativeDescription:"Increase Merchants skill by 1",affectedCareers:["Merchant","Rogue"]},"STR +1":{benefitName:"STR +1",canDouble:!0,doubleDescription:"STR +2 instead of STR +1",hasAlternative:!1},"END +1":{benefitName:"END +1",canDouble:!0,doubleDescription:"END +2 instead of END +1",hasAlternative:!1},"DEX +1":{benefitName:"DEX +1",canDouble:!0,doubleDescription:"DEX +2 instead of DEX +1",hasAlternative:!1},"INT +1":{benefitName:"INT +1",canDouble:!0,doubleDescription:"INT +2 instead of INT +1",hasAlternative:!1},"EDU +1":{benefitName:"EDU +1",canDouble:!0,doubleDescription:"EDU +2 instead of EDU +1",hasAlternative:!1},"SOC +1":{benefitName:"SOC +1",canDouble:!0,doubleDescription:"SOC +2 instead of SOC +1",hasAlternative:!1},"Cybernetic Implant":{benefitName:"Cybernetic Implant",canDouble:!0,doubleDescription:"Take a second Cybernetic Implant",hasAlternative:!0,alternativeDescription:"Improve the existing Cybernetic Implant"},Yacht:{benefitName:"Yacht",canDouble:!0,doubleDescription:"Add a second Yacht",hasAlternative:!0,alternativeDescription:"Upgrade Yacht to luxury-class vessel",affectedCareers:["Noble"]},Contact:{benefitName:"Contact",canDouble:!0,doubleDescription:"Generate an additional Contact",hasAlternative:!1},Ally:{benefitName:"Ally",canDouble:!0,doubleDescription:"Generate an additional Ally",hasAlternative:!1},Enemy:{benefitName:"Enemy",canDouble:!0,doubleDescription:"You have generated another Enemy (unfortunately)",hasAlternative:!1},Rival:{benefitName:"Rival",canDouble:!0,doubleDescription:"You have generated another Rival",hasAlternative:!1}};function Nf(n,t){let e=xw[n];return!e||e.affectedCareers&&t&&!e.affectedCareers.includes(t)?null:e}var Ur=class n{benefitRollHistory=N([]);showRerollDialog=N(!1);pendingReroll=null;rerollRule=null;userChoice=null;resolveRerollPromise=null;benefitHistory=this.benefitRollHistory;isRerollDialogOpen=this.showRerollDialog;async checkForReroll(t,e,i){let o=this.benefitRollHistory().filter(u=>u.benefitName===e&&u.careerName===t).length+1,a={careerName:t,benefitName:e,diceResult:i,timestamp:Date.now(),rollCount:o};if(this.benefitRollHistory.update(u=>[...u,a]),o===1)return null;let l=Nf(e,t);return!l||!l.canDouble?null:l.hasAlternative?(this.pendingReroll=a,this.rerollRule=l,this.showRerollChoiceDialog(l)):"double"}async showRerollChoiceDialog(t){return new Promise(e=>{this.showRerollDialog.set(!0),this.resolveRerollPromise=i=>{i&&e(i)}})}confirmDouble(){this.showRerollDialog.set(!1),this.resolveRerollPromise&&(this.resolveRerollPromise("double"),this.resolveRerollPromise=null)}confirmAlternative(){this.showRerollDialog.set(!1),this.resolveRerollPromise&&(this.resolveRerollPromise("alternative"),this.resolveRerollPromise=null)}getPendingRerollRule(){return this.rerollRule}getRerollRule(t,e){return Nf(t,e)}getBenefitRolls(t,e){return this.benefitRollHistory().filter(i=>i.benefitName===t&&(!e||i.careerName===e))}countBenefitRolls(t,e){return this.getBenefitRolls(t,e).length}clearHistory(){this.benefitRollHistory.set([]),this.showRerollDialog.set(!1),this.pendingReroll=null,this.rerollRule=null}getHistory(){return this.benefitRollHistory()}static \u0275fac=function(e){return new(e||n)};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})};function Mw(n,t){if(n&1&&(s(0,"li"),d(1),c()),n&2){let e=t.$implicit;p(),x(e)}}function Ow(n,t){if(n&1){let e=T();s(0,"div",13),O("click",function(){let r=S(e).$implicit,o=h(2);return P(o.onSelectShip(r))}),s(1,"div",14)(2,"h4"),d(3),c(),s(4,"span",15),d(5),c()(),s(6,"p",16),d(7),c(),s(8,"div",17)(9,"div",18)(10,"span",19),d(11,"TONNAGE"),c(),s(12,"span",20),d(13),c()(),s(14,"div",18)(15,"span",19),d(16,"J-DRIVE"),c(),s(17,"span",20),d(18),c()(),s(19,"div",18)(20,"span",19),d(21,"M-DRIVE"),c(),s(22,"span",20),d(23),c()(),s(24,"div",18)(25,"span",19),d(26,"CREW"),c(),s(27,"span",20),d(28),c()()(),s(29,"div",21)(30,"div",22)(31,"span",23),d(32,"Purchase:"),c(),s(33,"span",24),d(34),c()(),s(35,"div",25)(36,"span",23),d(37,"Annual Mortgage (25%):"),c(),s(38,"span",24),d(39),c()()(),s(40,"div",26)(41,"span",27),d(42,"SPECIFICATIONS:"),c(),s(43,"ul",28),b(44,Mw,2,1,"li",29),c()(),s(45,"button",30),d(46," SELECT_VESSEL "),s(47,"span",31),d(48,"\u2192"),c()()()}if(n&2){let e=t.$implicit,i=h(2);p(3),x(e.name),p(2),x(e.category),p(2),x(e.description),p(6),w("",e.tonnage,"t"),p(5),w("J-",e.jumpDrive),p(5),w("M-",e.manDrive),p(5),x(e.crew),p(6),x(i.formatCredits(e.cost)),p(5),w("",i.formatCredits(e.mortgage),"/year"),p(5),v("ngForOf",e.specs)}}function Ew(n,t){if(n&1){let e=T();s(0,"div",1)(1,"div",2)(2,"div",3)(3,"span",4),d(4,"SEL_SHIP"),c(),s(5,"h3"),d(6,"VESSEL_SELECTION_PROTOCOL"),c(),s(7,"span",5),d(8),c()(),s(9,"div",6)(10,"p",7),d(11," Select your "),s(12,"span",8),d(13,"muster-out vessel"),c(),d(14,". The mortgage (25% of cost) becomes an annual liability. "),c(),s(15,"div",9),b(16,Ow,49,10,"div",10),c()(),s(17,"div",11)(18,"button",12),O("click",function(){S(e);let r=h();return P(r.onCancel())}),d(19," CANCEL_SELECTION "),c()()()()}if(n&2){let e=h();p(8),w("Career: ",e.selectedCareer()),p(8),v("ngForOf",e.ships())}}var Ca=class n{showDialog=N(!1);selectedCareer=N("");ships=N([]);resolvePromise=null;isDialogOpen=this.showDialog;getSelectedCareer=this.selectedCareer;getShips=this.ships;async selectShip(t,e){return new Promise(i=>{this.selectedCareer.set(t),this.ships.set(e),this.showDialog.set(!0),this.resolvePromise=i})}selectShip_confirm(t){this.showDialog.set(!1),this.resolvePromise&&(this.resolvePromise(t),this.resolvePromise=null)}selectShip_cancel(){this.showDialog.set(!1),this.resolvePromise&&(this.resolvePromise(null),this.resolvePromise=null)}static \u0275fac=function(e){return new(e||n)};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})},ul=class n{constructor(t){this.shipService=t}get isOpen(){return this.shipService.isDialogOpen}get selectedCareer(){return this.shipService.getSelectedCareer}get ships(){return this.shipService.getShips}onSelectShip(t){this.shipService.selectShip_confirm(t)}onCancel(){this.shipService.selectShip_cancel()}formatCredits(t){return t>=1e6?`${(t/1e6).toFixed(1)} MCr`:t>=1e3?`${(t/1e3).toFixed(1)} kCr`:`Cr${t}`}static \u0275fac=function(e){return new(e||n)(W(Ca))};static \u0275cmp=G({type:n,selectors:[["app-ship-selection-dialog"]],decls:1,vars:1,consts:[["class","ship-selection-modal-overlay fade-in",4,"ngIf"],[1,"ship-selection-modal-overlay","fade-in"],[1,"ship-selection-modal","hud-module","success"],[1,"hud-box-header"],[1,"index"],[1,"subheader"],[1,"hud-content"],[1,"instruction"],[1,"highlight"],[1,"ships-grid"],["class","ship-card",3,"click",4,"ngFor","ngForOf"],[1,"hud-footer"],[1,"btn-secondary",3,"click"],[1,"ship-card",3,"click"],[1,"ship-header"],[1,"ship-category"],[1,"ship-desc"],[1,"ship-stats"],[1,"stat"],[1,"label"],[1,"value"],[1,"cost-section"],[1,"cost-line"],[1,"cost-label"],[1,"cost-value"],[1,"cost-line","mortgage"],[1,"specs-section"],[1,"specs-title"],[1,"specs-list"],[4,"ngFor","ngForOf"],[1,"btn-select"],[1,"arrow"]],template:function(e,i){e&1&&b(0,Ew,20,2,"div",0),e&2&&v("ngIf",i.isOpen())},dependencies:[Z,_e,ne],styles:['@charset "UTF-8";.ship-selection-modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#000c;display:flex;align-items:center;justify-content:center;z-index:1000;animation:_ngcontent-%COMP%_fadeIn .3s ease-in}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.ship-selection-modal[_ngcontent-%COMP%]{width:90%;max-width:1200px;max-height:90vh;overflow-y:auto;border:2px solid #00ff00;background:linear-gradient(135deg,#0a0e27,#1a1f3a);box-shadow:0 0 20px #00ff004d,inset 0 0 10px #00ff001a}.hud-box-header[_ngcontent-%COMP%]{padding:15px 20px;border-bottom:2px solid #00ff00;display:flex;align-items:center;justify-content:space-between;background:#00ff000d}.hud-box-header[_ngcontent-%COMP%]   .index[_ngcontent-%COMP%]{font-size:12px;color:#0f0;font-weight:700;letter-spacing:2px}.hud-box-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{flex:1;margin:0 20px;color:#0f0;font-size:18px;letter-spacing:2px;text-transform:uppercase}.hud-box-header[_ngcontent-%COMP%]   .subheader[_ngcontent-%COMP%]{font-size:12px;color:#4d4;background:#00ff001a;padding:4px 12px;border-radius:4px}.hud-content[_ngcontent-%COMP%]{padding:20px 30px}.hud-content[_ngcontent-%COMP%]   .instruction[_ngcontent-%COMP%]{font-size:14px;color:#aaa;margin-bottom:25px;line-height:1.6}.hud-content[_ngcontent-%COMP%]   .instruction[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{color:#0f0;font-weight:700}.ships-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:20px;margin-bottom:20px}.ship-card[_ngcontent-%COMP%]{border:2px solid #00aa00;padding:15px;background:#00320033;cursor:pointer;transition:all .3s ease;border-radius:4px;display:flex;flex-direction:column}.ship-card[_ngcontent-%COMP%]:hover{border-color:#0f0;background:#0064004d;box-shadow:0 0 10px #0f03;transform:translateY(-2px)}.ship-card[_ngcontent-%COMP%]   .ship-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px;padding-bottom:10px;border-bottom:1px solid #004400}.ship-card[_ngcontent-%COMP%]   .ship-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;color:#0f0;font-size:16px;text-transform:uppercase;letter-spacing:1px}.ship-card[_ngcontent-%COMP%]   .ship-header[_ngcontent-%COMP%]   .ship-category[_ngcontent-%COMP%]{font-size:11px;color:#6f6;background:#00ff0026;padding:2px 8px;border-radius:3px;text-transform:uppercase}.ship-card[_ngcontent-%COMP%]   .ship-desc[_ngcontent-%COMP%]{font-size:12px;color:#999;margin:10px 0;line-height:1.4}.ship-card[_ngcontent-%COMP%]   .ship-stats[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:10px;margin:15px 0;padding:10px;background:#0032004d;border:1px solid #004400;border-radius:3px}.ship-card[_ngcontent-%COMP%]   .ship-stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]{display:flex;flex-direction:column}.ship-card[_ngcontent-%COMP%]   .ship-stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:10px;color:#4a4;text-transform:uppercase;letter-spacing:.5px}.ship-card[_ngcontent-%COMP%]   .ship-stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:14px;color:#0f0;font-weight:700}.ship-card[_ngcontent-%COMP%]   .cost-section[_ngcontent-%COMP%]{margin:15px 0;padding:10px;background:#32320033;border:1px solid #444400;border-radius:3px}.ship-card[_ngcontent-%COMP%]   .cost-section[_ngcontent-%COMP%]   .cost-line[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font-size:12px;margin:5px 0;color:#cc0}.ship-card[_ngcontent-%COMP%]   .cost-section[_ngcontent-%COMP%]   .cost-line[_ngcontent-%COMP%]   .cost-label[_ngcontent-%COMP%]{color:#999}.ship-card[_ngcontent-%COMP%]   .cost-section[_ngcontent-%COMP%]   .cost-line[_ngcontent-%COMP%]   .cost-value[_ngcontent-%COMP%]{font-weight:700;color:#ff0}.ship-card[_ngcontent-%COMP%]   .cost-section[_ngcontent-%COMP%]   .cost-line.mortgage[_ngcontent-%COMP%]{color:#f66}.ship-card[_ngcontent-%COMP%]   .cost-section[_ngcontent-%COMP%]   .cost-line.mortgage[_ngcontent-%COMP%]   .cost-value[_ngcontent-%COMP%]{color:#f99}.ship-card[_ngcontent-%COMP%]   .specs-section[_ngcontent-%COMP%]{margin:15px 0;flex-grow:1}.ship-card[_ngcontent-%COMP%]   .specs-section[_ngcontent-%COMP%]   .specs-title[_ngcontent-%COMP%]{font-size:10px;color:#4a4;text-transform:uppercase;letter-spacing:.5px;display:block;margin-bottom:5px}.ship-card[_ngcontent-%COMP%]   .specs-section[_ngcontent-%COMP%]   .specs-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;font-size:11px;color:#666}.ship-card[_ngcontent-%COMP%]   .specs-section[_ngcontent-%COMP%]   .specs-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:3px 0 3px 12px;position:relative}.ship-card[_ngcontent-%COMP%]   .specs-section[_ngcontent-%COMP%]   .specs-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{content:"\\25c6";position:absolute;left:0;color:#0a0}.ship-card[_ngcontent-%COMP%]   .btn-select[_ngcontent-%COMP%]{background:linear-gradient(90deg,#00c8004d,#0064004d);border:1px solid #00aa00;color:#0f0;padding:8px 15px;cursor:pointer;margin-top:auto;font-size:11px;text-transform:uppercase;letter-spacing:1px;border-radius:3px;transition:all .2s ease;display:flex;align-items:center;justify-content:center;gap:10px}.ship-card[_ngcontent-%COMP%]   .btn-select[_ngcontent-%COMP%]:hover{background:linear-gradient(90deg,#00ff0080,#00960080);border-color:#0f0;box-shadow:0 0 8px #00ff004d}.ship-card[_ngcontent-%COMP%]   .btn-select[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]{font-size:12px}.hud-footer[_ngcontent-%COMP%]{padding:15px 30px;border-top:2px solid #00ff00;background:#00ff000d;display:flex;justify-content:flex-end;gap:10px}.hud-footer[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{background:linear-gradient(90deg,#6464644d,#5050504d);border:1px solid #666666;color:#999;padding:8px 20px;cursor:pointer;font-size:11px;text-transform:uppercase;letter-spacing:1px;border-radius:3px;transition:all .2s ease}.hud-footer[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:hover{border-color:#999;color:#ccc;background:linear-gradient(90deg,#78787866,#64646466)}@media(max-width:768px){.ships-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.ship-card[_ngcontent-%COMP%]   .ship-stats[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr}.hud-box-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:10px}.hud-box-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:10px 0}}']})},Lf={FREE_TRADER:{id:"free-trader",name:"Free Trader",category:"Merchant",description:"TL10 trading vessel. The workhorse of merchant servicemembers.",tonnage:100,jumpDrive:1,manDrive:1,cost:1e7,mortgage:25e5,crew:4,specs:["4 Staterooms","Cargo Hold ~16t","Fuel Scoop","Basic Bridge"]},SCOUT_SHIP:{id:"scout-ship",name:"Scout/Courier",category:"Scout",description:"TL10 exploration vessel. Made famous by the Scout Service.",tonnage:100,jumpDrive:2,manDrive:2,cost:1e7,mortgage:25e5,crew:2,specs:["5 Staterooms","Advanced Bridge","Fuel Scoop","Improved Sensors"]},LAB_SHIP:{id:"lab-ship",name:"Scientific Research Ship",category:"Scholar",description:"TL10 research vessel. Designed for long exploration missions.",tonnage:100,jumpDrive:1,manDrive:1,cost:1e7,mortgage:25e5,crew:6,specs:["2 Staterooms","Lab Module","Cargo 20t","Basic Bridge","Fuel Scoop"]},YACHT:{id:"yacht",name:"Yacht (Large)",category:"Noble",description:"TL10 luxury vessel. Status symbol for the rich and powerful.",tonnage:100,jumpDrive:1,manDrive:1,cost:11e6,mortgage:275e4,crew:2,specs:["8 Staterooms (luxury)","Entertainment Suite","Bar/Lounge","Small Cargo"]},SHIPS_BOAT:{id:"ships-boat",name:"Ship's Boat",category:"Navy",description:"TL10 small vessel. Typically carried by larger ships.",tonnage:4,jumpDrive:0,manDrive:1,cost:2e5,mortgage:5e4,crew:1,specs:["Tender Vessel","Carried by 100t+ ships","Atmospheric Landing"]}};function Sw(n,t){if(n&1){let e=T();s(0,"div",18),O("click",function(){S(e);let r=h(2);return P(r.selectAlternative())}),s(1,"div",10),d(2,"\u2295"),c(),s(3,"div",11),d(4,"TAKE ALTERNATIVE"),c(),s(5,"div",12),d(6),c(),s(7,"button",19),d(8," ALTERNATIVE "),s(9,"span",14),d(10,"\u2192"),c()()()}if(n&2){let e,i=h(2);p(6),w(" ",((e=i.rule())==null?null:e.alternativeDescription)||"Take a different benefit instead"," ")}}function Pw(n,t){if(n&1){let e=T();s(0,"div",1)(1,"div",2)(2,"div",3)(3,"span",4),d(4,"REROLL"),c(),s(5,"h3"),d(6,"DUPLICATE_BENEFIT_DETECTION"),c()(),s(7,"div",5)(8,"p",6),d(9," You have rolled the "),s(10,"span",7),d(11,"same benefit"),c(),d(12," previously. What would you like to do? "),c(),s(13,"div",8)(14,"div",9),O("click",function(){S(e);let r=h();return P(r.selectDouble())}),s(15,"div",10),d(16,"2\xD7"),c(),s(17,"div",11),d(18,"TAKE DOUBLE VALUE"),c(),s(19,"div",12),d(20),c(),s(21,"button",13),d(22," DOUBLE "),s(23,"span",14),d(24,"\u2192"),c()()(),b(25,Sw,11,1,"div",15),c()(),s(26,"div",16)(27,"p",17),d(28,"Rulebook: If you roll a benefit again, take it at twice the normal value OR take the alternative."),c()()()()}if(n&2){let e,i,r=h();p(20),w(" ",((e=r.rule())==null?null:e.doubleDescription)||"Take the benefit twice"," "),p(5),v("ngIf",(i=r.rule())==null?null:i.hasAlternative)}}var pl=class n{rerollService=C(Ur);isOpen=this.rerollService.isRerollDialogOpen;rule=this.rerollService.getPendingRerollRule;selectDouble(){this.rerollService.confirmDouble()}selectAlternative(){this.rerollService.confirmAlternative()}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=G({type:n,selectors:[["app-benefit-reroll-dialog"]],decls:1,vars:1,consts:[["class","reroll-modal-overlay fade-in",4,"ngIf"],[1,"reroll-modal-overlay","fade-in"],[1,"reroll-modal","hud-module","warning"],[1,"hud-box-header"],[1,"index"],[1,"hud-content"],[1,"instruction"],[1,"highlight"],[1,"choice-options"],[1,"choice-card","double-card",3,"click"],[1,"choice-icon"],[1,"choice-title"],[1,"choice-desc"],[1,"btn-choice"],[1,"arrow"],["class","choice-card alternative-card",3,"click",4,"ngIf"],[1,"hud-footer"],[1,"note"],[1,"choice-card","alternative-card",3,"click"],[1,"btn-choice","alt"]],template:function(e,i){e&1&&b(0,Pw,29,2,"div",0),e&2&&v("ngIf",i.isOpen())},dependencies:[Z,ne],styles:[".reroll-modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#000000d9;display:flex;align-items:center;justify-content:center;z-index:2000;animation:_ngcontent-%COMP%_fadeIn .3s ease-in}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.reroll-modal[_ngcontent-%COMP%]{width:90%;max-width:700px;border:2px solid #ffaa00;background:linear-gradient(135deg,#2a1a0a,#3a2a1a);box-shadow:0 0 30px #fa06,inset 0 0 20px #ffaa001a}.hud-box-header[_ngcontent-%COMP%]{padding:15px 20px;border-bottom:2px solid #ffaa00;display:flex;align-items:center;gap:15px;background:#ffaa0014}.hud-box-header[_ngcontent-%COMP%]   .index[_ngcontent-%COMP%]{font-size:12px;color:#fa0;font-weight:700;letter-spacing:2px}.hud-box-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{flex:1;margin:0;color:#fa0;font-size:16px;letter-spacing:2px;text-transform:uppercase}.hud-content[_ngcontent-%COMP%]{padding:25px 30px}.hud-content[_ngcontent-%COMP%]   .instruction[_ngcontent-%COMP%]{font-size:14px;color:#aaa;margin-bottom:20px;line-height:1.6}.hud-content[_ngcontent-%COMP%]   .instruction[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{color:#fa0;font-weight:700}.choice-options[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:20px;margin:20px 0}@media(max-width:600px){.choice-options[_ngcontent-%COMP%]{grid-template-columns:1fr}}.choice-card[_ngcontent-%COMP%]{border:2px solid #ff8800;padding:20px;background:#ff88001a;cursor:pointer;transition:all .3s ease;border-radius:6px;display:flex;flex-direction:column;align-items:center;text-align:center}.choice-card[_ngcontent-%COMP%]:hover{border-color:#fa0;background:#ffaa0026;box-shadow:0 0 15px #fa03;transform:translateY(-2px)}.choice-card.alternative-card[_ngcontent-%COMP%]{border-color:#8f0}.choice-card.alternative-card[_ngcontent-%COMP%]:hover{border-color:#af0;background:#aaff0026;box-shadow:0 0 15px #af03}.choice-card.alternative-card[_ngcontent-%COMP%]   .choice-icon[_ngcontent-%COMP%], .choice-card.alternative-card[_ngcontent-%COMP%]   .choice-title[_ngcontent-%COMP%]{color:#af0}.choice-card.alternative-card[_ngcontent-%COMP%]   .btn-choice[_ngcontent-%COMP%]{border-color:#8f0;color:#af0}.choice-card.alternative-card[_ngcontent-%COMP%]   .btn-choice[_ngcontent-%COMP%]:hover{background:#8f03;box-shadow:0 0 10px #88ff004d}.choice-card[_ngcontent-%COMP%]   .choice-icon[_ngcontent-%COMP%]{font-size:40px;color:#fa0;margin-bottom:10px;font-weight:700}.choice-card[_ngcontent-%COMP%]   .choice-title[_ngcontent-%COMP%]{font-size:14px;color:#fa0;font-weight:700;text-transform:uppercase;letter-spacing:1px;margin-bottom:8px}.choice-card[_ngcontent-%COMP%]   .choice-desc[_ngcontent-%COMP%]{font-size:12px;color:#999;margin-bottom:15px;line-height:1.5;flex-grow:1;display:flex;align-items:center;justify-content:center}.choice-card[_ngcontent-%COMP%]   .btn-choice[_ngcontent-%COMP%]{background:#f803;border:1px solid #ff8800;color:#fa0;padding:10px 20px;cursor:pointer;font-size:12px;text-transform:uppercase;letter-spacing:1px;border-radius:4px;transition:all .2s ease;display:flex;align-items:center;gap:8px;width:100%;justify-content:center}.choice-card[_ngcontent-%COMP%]   .btn-choice[_ngcontent-%COMP%]:hover{background:#ff88004d;border-color:#fa0;box-shadow:0 0 10px #ff88004d}.choice-card[_ngcontent-%COMP%]   .btn-choice[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]{font-size:12px}.hud-footer[_ngcontent-%COMP%]{padding:15px 30px;border-top:2px solid #ffaa00;background:#ffaa000d;text-align:center}.hud-footer[_ngcontent-%COMP%]   .note[_ngcontent-%COMP%]{font-size:11px;color:#888;margin:0;font-style:italic}"]})};var ww=()=>["STR","DEX","END","INT","EDU","SOC"],Dw=()=>[1,2,3];function Iw(n,t){if(n&1){let e=T();s(0,"button",19),O("click",function(){let r=S(e).index,o=h(2);return P(o.eventEngine.selectOption(r))}),d(1),c()}if(n&2){let e=t.$implicit;p(),w(" ",e.label," ")}}function Tw(n,t){if(n&1&&(s(0,"div",12)(1,"div",13)(2,"span",14),d(3,"EVENT"),c(),s(4,"h3"),d(5),c()(),s(6,"div",15)(7,"p",16),d(8),c()(),s(9,"div",17),b(10,Iw,2,1,"button",18),c()()),n&2){let e=h();p(5),x(e.activeEvent.ui.title),p(3),x(e.activeEvent.ui.description),p(2),v("ngForOf",e.activeEvent.ui.options)}}function kw(n,t){if(n&1&&(s(0,"div",51)(1,"span",52),d(2,"\u26A0"),c(),d(3),c()),n&2){let e=h(2).$implicit,i=h(2);p(3),w(" ",i.getDisabledReason(e)," ")}}function Aw(n,t){if(n&1){let e=T();s(0,"label",53)(1,"input",54),O("change",function(){let r=S(e).$implicit,o=h(4);return P(o.selectAssignment(r))}),c(),s(2,"div",55),M(3,"span",56),s(4,"div",57)(5,"span",58),d(6),c(),s(7,"span",59),d(8),c()(),M(9,"div",60),c()()}if(n&2){let e=t.$implicit,i=h(4);p(),v("value",e)("checked",i.selectedAssignment===e),p(5),x(e.name),p(2),te("SRV ",e.survivalStat," ",e.survivalTarget,"+")}}function Rw(n,t){if(n&1){let e=T();s(0,"div",41),O("click",function(r){return S(e),P(r.stopPropagation())}),s(1,"div",42)(2,"p",43),d(3),c(),b(4,kw,4,1,"div",44),c(),s(5,"div",45)(6,"span",46),d(7,"[ SELECT_ASSIGNMENT_SPECIALIZATION ]"),c(),s(8,"div",47),b(9,Aw,10,5,"label",48),c(),s(10,"div",49)(11,"button",50),O("click",function(){S(e);let r=h(3);return P(r.qualify())}),d(12),c()()()()}if(n&2){let e=h().$implicit,i=h(2);p(3),x(e.description),p(),v("ngIf",i.isCareerDisabled(e)),p(5),v("ngForOf",e.assignments),p(2),v("disabled",!i.selectedAssignment),p(),w(" ",i.characterService.character().forcedCareer===i.selectedCareer.name?"CONFIRM_ENROLLMENT":"ATTEMPT_QUALIFICATION"," ")}}function Nw(n,t){if(n&1){let e=T();s(0,"div",29),O("click",function(){let r=S(e).$implicit,o=h(2);return P(o.selectCareer(r))}),s(1,"div",30)(2,"span",31),d(3),ie(4,"number"),c(),M(5,"div",32),s(6,"span",33),d(7),c(),s(8,"span",34)(9,"span",35),d(10),c(),s(11,"span",36),d(12,"/"),c(),s(13,"span",37),d(14),c()(),s(15,"span",38),d(16),c(),s(17,"span",39),d(18,"\u25B8"),c()(),b(19,Rw,13,5,"div",40),c()}if(n&2){let e=t.$implicit,i=t.index,r=h(2);I("row-selected",r.selectedCareer===e)("row-disabled",r.isCareerDisabled(e)),p(3),x(Dt(4,20,i+1,"2.0-0")),p(2),I("led-active",r.selectedCareer===e)("led-locked",r.isCareerDisabled(e)),p(2),x(e.name),p(3),x(e.qualificationStat),p(4),w("",e.qualificationTarget,"+"),p(),I("st-selected",r.selectedCareer===e)("st-locked",r.isCareerDisabled(e)),p(),w(" ",r.isCareerDisabled(e)?"LOCKED":r.selectedCareer===e?"SELECTED":"AVAILABLE"," "),p(),I("open",r.selectedCareer===e),p(2),v("ngIf",r.selectedCareer===e)}}function Lw(n,t){if(n&1){let e=T();s(0,"div",61),M(1,"div",62),s(2,"button",63),O("click",function(){S(e);let r=h(2);return P(r.startMusteringOut())}),d(3," FINALIZE_SERVICE_RECORD & MUSTER_OUT "),c()()}}function Fw(n,t){if(n&1&&(s(0,"div",20)(1,"div",13)(2,"span",14),d(3,"SEC_04"),c(),s(4,"h3"),d(5,"CAREER_SELECTION_PROTOCOL"),c()(),s(6,"div",21)(7,"div",22)(8,"span",23),d(9,"ID"),c(),s(10,"span",24),d(11,"DESIGNATION"),c(),s(12,"span",25),d(13,"QUAL_REQ"),c(),s(14,"span",26),d(15,"STATUS"),c()(),b(16,Nw,20,23,"div",27),c(),b(17,Lw,4,0,"div",28),c()),n&2){let e=h();p(16),v("ngForOf",e.careers()),p(),v("ngIf",e.characterService.character().careerHistory.length>0)}}function Vw(n,t){if(n&1){let e=T();s(0,"div",64),M(1,"div",65)(2,"div",66)(3,"div",67)(4,"div",68),s(5,"div",13)(6,"span",14),d(7,"SEC_04A"),c(),s(8,"h3"),d(9,"QUALIFICATION_FAILURE_FALLBACK"),c()(),s(10,"div",15)(11,"p",69),d(12,"ENTRY_DENIED: Personnel failed to qualify for the selected career path."),c(),s(13,"p",70),d(14,"In accordance with 2300AD Service Protocols, select one fallback vector:"),c(),s(15,"div",71)(16,"button",72),O("click",function(){S(e);let r=h();return P(r.chooseDraft())}),s(17,"span",73),d(18,"THE_DRAFT"),c(),s(19,"span",74),d(20),c()(),s(21,"button",19),O("click",function(){S(e);let r=h();return P(r.chooseDrifter())}),s(22,"span",73),d(23,"DRIFTER_LIFE"),c(),s(24,"span",74),d(25,"VOLUNTARY_UNSKILLED_SERVICE"),c()()()(),s(26,"div",17)(27,"p",75),d(28,"[ NOTE ]: Draft: 1=Navy, 2=Army, 3=Marine, 4=Merchant, 5=Scout, 6=Agent. May only be used once per lifetime."),c()()()}if(n&2){let e=h();p(16),v("disabled",e.characterService.character().hasDrafted)("title",e.characterService.character().hasDrafted?"Already used the Draft once this lifetime":""),p(4),x(e.characterService.character().hasDrafted?"UNAVAILABLE \u2014 USED ONCE":"RANDOM_PLACEMENT (1D6)")}}function jw(n,t){n&1&&(s(0,"p",75),d(1,"[ INITIAL_QUALIFICATION_RECOGNIZED ]: All Service Skills acquired at Level 0."),c())}function Bw(n,t){if(n&1){let e=T();s(0,"button",80),O("click",function(){S(e);let r=h(2);return P(r.attemptCommission())}),d(1,"ATTEMPT_COMMISSION"),c()}}function Uw(n,t){if(n&1){let e=T();s(0,"div",76),M(1,"div",65)(2,"div",66)(3,"div",67)(4,"div",68),s(5,"div",13)(6,"span",14),d(7,"SEC_04B"),c(),s(8,"h3"),d(9,"BASIC_TRAINING_PROTOCOL"),c()(),s(10,"div",15)(11,"p"),d(12,"Personnel has successfully matriculated into the "),s(13,"span",77),d(14),c(),d(15,". "),c(),b(16,jw,2,0,"p",78),c(),s(17,"div",17)(18,"button",19),O("click",function(){S(e);let r=h();return P(r.performBasicTraining())}),d(19,"PROCEED_TO_TRAINING"),c(),b(20,Bw,2,0,"button",79),c()()}if(n&2){let e=h();p(14),x(e.selectedCareer==null?null:e.selectedCareer.name),p(2),v("ngIf",e.currentTerm()===1),p(4),v("ngIf",e.canAttemptCommission())}}function Hw(n,t){if(n&1&&(s(0,"div",90)(1,"span",91),d(2),c(),d(3),c()),n&2){let e=t.$implicit,i=t.index;p(2),x(i+1),p(),w(" ",e," ")}}function $w(n,t){if(n&1&&(s(0,"div",90)(1,"span",91),d(2),c(),d(3),c()),n&2){let e=t.$implicit,i=t.index;p(2),x(i+1),p(),w(" ",e," ")}}function zw(n,t){if(n&1&&(s(0,"div",90)(1,"span",91),d(2),c(),d(3),c()),n&2){let e=t.$implicit,i=t.index;p(2),x(i+1),p(),w(" ",e," ")}}function Gw(n,t){if(n&1&&(s(0,"div",85),b(1,zw,4,2,"div",86),c()),n&2){let e=h(2);p(),v("ngForOf",e.selectedAssignment.skillTable)}}function qw(n,t){if(n&1&&(s(0,"div",90)(1,"span",91),d(2),c(),d(3),c()),n&2){let e=t.$implicit,i=t.index;p(2),x(i+1),p(),w(" ",e," ")}}function Ww(n,t){if(n&1){let e=T();s(0,"button",87),O("click",function(){S(e);let r=h(2);return P(r.rollSkill("Advanced"))}),s(1,"span",83),d(2,"ADVANCED_EDUCATION"),c(),s(3,"span",84),d(4,"Requires EDU 8+"),c(),s(5,"div",85),b(6,qw,4,2,"div",86),c()()}if(n&2){let e=h(2);v("disabled",e.characterService.character().characteristics.edu.value+e.characterService.character().characteristics.edu.modifier<8),p(6),v("ngForOf",e.selectedCareer==null?null:e.selectedCareer.advancedEducation)}}function Yw(n,t){if(n&1&&(s(0,"div",90)(1,"span",91),d(2),c(),d(3),c()),n&2){let e=t.$implicit,i=t.index;p(2),x(i+1),p(),w(" ",e," ")}}function Kw(n,t){if(n&1){let e=T();s(0,"button",87),O("click",function(){S(e);let r=h(2);return P(r.rollSkill("Officer"))}),s(1,"span",83),d(2,"OFFICER_TRAINING"),c(),s(3,"span",84),d(4,"Command & Management skills"),c(),s(5,"div",85),b(6,Yw,4,2,"div",86),c()()}if(n&2){let e=h(2);v("disabled",!e.isCommissioned()),p(6),v("ngForOf",e.selectedCareer==null?null:e.selectedCareer.officerSkills)}}function Jw(n,t){if(n&1){let e=T();s(0,"div",12),M(1,"div",65)(2,"div",66)(3,"div",67)(4,"div",68),s(5,"div",13)(6,"span",14),d(7,"SEC_04C"),c(),s(8,"h3"),d(9),c()(),s(10,"div",15)(11,"p",70),d(12,"Select development vector for skill enhancement:"),c(),s(13,"div",81)(14,"button",82),O("click",function(){S(e);let r=h();return P(r.rollSkill("Personal"))}),s(15,"span",83),d(16,"PERSONAL_DEVELOPMENT"),c(),s(17,"span",84),d(18,"Str, Dex, End, Int..."),c(),s(19,"div",85),b(20,Hw,4,2,"div",86),c()(),s(21,"button",82),O("click",function(){S(e);let r=h();return P(r.rollSkill("Service"))}),s(22,"span",83),d(23,"SERVICE_SKILLS"),c(),s(24,"span",84),d(25,"Basic training & field experience"),c(),s(26,"div",85),b(27,$w,4,2,"div",86),c()(),s(28,"button",87),O("click",function(){S(e);let r=h();return P(r.rollSkill("Specialist"))}),s(29,"span",83),d(30,"SPECIALIST_KNOWLEDGE"),c(),s(31,"span",84),d(32),c(),b(33,Gw,2,1,"div",88),c(),b(34,Ww,7,2,"button",89)(35,Kw,7,2,"button",89),c()()()}if(n&2){let e=h();p(9),x(e.bonusSkillRolls()>0?"BONUS_SKILL_ACQUISITION":"SKILL_DEVELOPMENT_PROTOCOL"),p(11),v("ngForOf",e.selectedCareer==null?null:e.selectedCareer.personalSkills),p(7),v("ngForOf",e.selectedCareer==null?null:e.selectedCareer.serviceSkills),p(),v("disabled",!e.selectedAssignment),p(4),w("",(e.selectedAssignment==null?null:e.selectedAssignment.name)||"Assignments"," Specific Skills"),p(),v("ngIf",e.selectedAssignment),p(),v("ngIf",e.hasAdvancedEducation),p(),v("ngIf",e.selectedCareer==null?null:e.selectedCareer.officerSkills)}}function Qw(n,t){if(n&1){let e=T();s(0,"button",80),O("click",function(){let r=S(e).$implicit,o=h(2);return P(o.confirmSpecialization(r))}),d(1),c()}if(n&2){let e=t.$implicit;p(),w(" ",e," ")}}function Zw(n,t){if(n&1&&(s(0,"div",92)(1,"div",93)(2,"div",13)(3,"h3"),d(4),c()(),s(5,"div",94),b(6,Qw,2,1,"button",95),c()()()),n&2){let e=h();p(4),w("SPECIALIZATION_REQUIRED: ",e.pendingSkillName),p(2),v("ngForOf",e.skillSelectionOptions)}}function Xw(n,t){if(n&1){let e=T();s(0,"div",69)(1,"span",104),d(2,"SURVIVAL_CRITICAL_FAILURE"),c(),s(3,"p"),d(4,"Mishap detected. Personnel may accept Cybernetic Integration to maintain career status."),c(),s(5,"div",17)(6,"button",80),O("click",function(){S(e);let r=h(2);return P(r.resolveSurvivalFailure(!0))}),d(7,"ACCEPT_INTEGRATION"),c(),s(8,"button",105),O("click",function(){S(e);let r=h(2);return P(r.resolveSurvivalFailure(!1))}),d(9,"INITIATE_TERMINATION"),c()()()}}function eD(n,t){if(n&1){let e=T();s(0,"div",17)(1,"button",106),O("click",function(){S(e);let r=h(2);return P(r.rollSurvival())}),d(2," EXECUTE_SURVIVAL_ROLL "),s(3,"span",107),d(4),c()()()}if(n&2){let e=h(2);p(),v("disabled",e.isProcessingRoll),p(3),w("2D6 + ",e.selectedAssignment==null?null:e.selectedAssignment.survivalStat," DM")}}function tD(n,t){if(n&1&&(s(0,"div",96),M(1,"div",65)(2,"div",66)(3,"div",67)(4,"div",68),s(5,"div",13)(6,"span",14),d(7,"SEC_04D"),c(),s(8,"h3"),d(9,"SURVIVAL_STRESS_TEST"),c(),s(10,"span",97),d(11),c()(),s(12,"div",15)(13,"div",98)(14,"div",99)(15,"span",100),d(16,"PRIMARY_VECTOR"),c(),s(17,"span",101),d(18),c()(),s(19,"div",99)(20,"span",100),d(21,"ASSIGNMENT"),c(),s(22,"span",101),d(23),c()()(),s(24,"p",75),d(25,"[ MONITORING_VITAL_SIGNS ]: Risk assessment mandatory for term duration."),c(),b(26,Xw,10,0,"div",102),c(),b(27,eD,5,2,"div",103),c()),n&2){let e=h();p(11),w("TRG: ",e.selectedAssignment==null?null:e.selectedAssignment.survivalTarget,"+"),p(7),x(e.selectedAssignment==null?null:e.selectedAssignment.survivalStat),p(5),x(e.selectedAssignment==null?null:e.selectedAssignment.name),p(3),v("ngIf",e.showCyberneticOption),p(),v("ngIf",!e.showCyberneticOption)}}function nD(n,t){if(n&1){let e=T();s(0,"button",19),O("click",function(){S(e);let r=h(2);return P(r.currentEventText.includes("AGING")?r.transitionToEndOfTerm():r.proceedToAdvancement())}),d(1,"ACKNOWLEDGE_PROCEED"),c()}}function iD(n,t){if(n&1){let e=T();s(0,"button",105),O("click",function(){S(e);let r=h(2);return P(r.finishTerm("MUSTER"))}),d(1,"TERMINATE_SERVICE_RECORD"),c()}}function rD(n,t){if(n&1&&(s(0,"div",108),M(1,"div",65)(2,"div",66)(3,"div",67)(4,"div",68),s(5,"div",13)(6,"span",14),d(7,"SEC_04E"),c(),s(8,"h3"),d(9),c()(),s(10,"div",15)(11,"div",109)(12,"p",110),d(13),c()()(),s(14,"div",17),b(15,nD,2,0,"button",111)(16,iD,2,0,"button",112),c()()),n&2){let e=h();I("mishap",e.currentState()==="MISHAP"),p(9),x(e.currentState()==="MISHAP"?"CRITICAL_MISHAP_REPORT":"SERVICE_LIFE_EVENT"),p(4),x(e.currentEventText),p(2),v("ngIf",e.currentState()==="EVENT"),p(),v("ngIf",e.currentState()==="MISHAP")}}function oD(n,t){if(n&1){let e=T();s(0,"div",12),M(1,"div",65)(2,"div",66)(3,"div",67)(4,"div",68),s(5,"div",13)(6,"span",14),d(7,"SEC_04F"),c(),s(8,"h3"),d(9,"ADVANCEMENT_EVALUATION"),c(),s(10,"span",97),d(11),c()(),s(12,"div",15)(13,"div",98)(14,"div",99)(15,"span",100),d(16,"EVALUATION_STAT"),c(),s(17,"span",101),d(18),c()()(),s(19,"p",75),d(20,"[ PERFORMANCE_METRICS_READY ]: Evaluating promotion eligibility."),c()(),s(21,"div",17)(22,"button",113),O("click",function(){S(e);let r=h();return P(r.rollAdvancement())}),d(23," EXECUTE_ADVANCEMENT_ROLL "),s(24,"span",107),d(25),c()()()()}if(n&2){let e=h();p(11),w("TRG: ",e.selectedAssignment==null?null:e.selectedAssignment.advancementTarget,"+"),p(7),x(e.selectedAssignment==null?null:e.selectedAssignment.advancementStat),p(7),w("2D6 + ",e.selectedAssignment==null?null:e.selectedAssignment.advancementStat," DM")}}function aD(n,t){if(n&1){let e=T();s(0,"div",118),O("click",function(){let r=S(e).$implicit,o=h(2);return P(o.verifyAssignmentChange(r))}),s(1,"div",119)(2,"div",120)(3,"h3",121),d(4),c()(),s(5,"div",122)(6,"span",123),d(7,"QUALIFICATION:"),c(),s(8,"span",124),d(9),c()(),s(10,"button",125),d(11,"SELECT_ASSIGNMENT"),c()()()}if(n&2){let e=t.$implicit,i=h(2);p(4),x(e.name),p(5),te("",i.selectedCareer==null?null:i.selectedCareer.qualificationStat," ",i.selectedCareer==null?null:i.selectedCareer.qualificationTarget,"+")}}function sD(n,t){if(n&1){let e=T();s(0,"div",20)(1,"div",13)(2,"span",14),d(3,"SEC_04G"),c(),s(4,"h3"),d(5,"ASSIGNMENT_RECONFIGURATION"),c()(),s(6,"p",114),d(7,"Select new operational specialization. Qualification required."),c(),s(8,"div",115),b(9,aD,12,3,"div",116),c(),s(10,"div",117)(11,"button",80),O("click",function(){S(e);let r=h();return P(r.finishTerm("CONTINUE"))}),d(12,"ABORT_CHANGE & STAY_CURRENT"),c()()()}if(n&2){let e=h();p(9),v("ngForOf",e.selectedCareer==null?null:e.selectedCareer.assignments)}}function cD(n,t){if(n&1){let e=T();s(0,"div",108),M(1,"div",65)(2,"div",66)(3,"div",67)(4,"div",68),s(5,"div",13)(6,"span",14),d(7,"SEC_04H"),c(),s(8,"h3"),d(9,"HOMESTEAD_TETHR_DECOUPLING"),c()(),s(10,"div",15)(11,"p"),d(12,"Independence verification required. Breaking gravitational ties to hometerm."),c(),s(13,"div",98)(14,"div",99)(15,"span",100),d(16,"TARGET_THRESHOLD"),c(),s(17,"span",101),d(18,"8+"),c()(),s(19,"div",99)(20,"span",100),d(21,"COHESION_MODIFIER"),c(),s(22,"span",101),d(23),c()()()(),s(24,"div",17)(25,"button",19),O("click",function(){S(e);let r=h();return P(r.rollLeavingHome())}),d(26,"EXECUTE_DECOUPLING"),c()()()}if(n&2){let e=h();p(23),w("+",e.currentTerm()," (Terms)")}}function lD(n,t){if(n&1){let e=T();s(0,"div",132)(1,"div",149)(2,"span",150),d(3,"\u2726"),c(),s(4,"span",151),d(5,"NOBLE INHERITANCE BONUS"),c()(),s(6,"div",152)(7,"label",153)(8,"input",154),O("change",function(){S(e);let r=h(2);return P(r.useInheritanceBonus.set(!r.useInheritanceBonus()))}),c(),s(9,"span",155),d(10,"Apply +1 DM to Next Benefit Roll"),c(),s(11,"span",156),d(12),c()()()()}if(n&2){let e=h(2);p(8),v("checked",e.useInheritanceBonus()),p(4),w("(",e.inheritanceBonusCount()," available)")}}function dD(n,t){if(n&1&&(s(0,"div",157)(1,"div",140),d(2),c(),s(3,"div",141),d(4),c()()),n&2){let e=t.$implicit,i=t.$index;p(2),x(i+1),p(2),x(e)}}function uD(n,t){if(n&1&&wn(0,dD,5,2,"div",157,Hs),n&2){let e=h(2);Dn(e.musterOutCashLog())}}function pD(n,t){n&1&&(s(0,"div",143)(1,"div",140),d(2,"\u2014"),c(),s(3,"div",141),d(4,"[No cash rolls yet]"),c()())}function fD(n,t){if(n&1&&(s(0,"div",158)(1,"div",140),d(2),c(),s(3,"div",145),d(4),c()()),n&2){let e=t.$implicit,i=t.$index;p(2),x(i+1),p(2),x(e.replace("Benefit: ",""))}}function gD(n,t){if(n&1&&wn(0,fD,5,2,"div",158,Hs),n&2){let e=h(2);Dn(e.musterOutMaterialLog())}}function mD(n,t){n&1&&(s(0,"div",143)(1,"div",140),d(2,"\u2014"),c(),s(3,"div",145),d(4,"[No material rolls yet]"),c()())}function hD(n,t){n&1&&(s(0,"p",75),d(1,"[ AWAITING_ROLLS ]: Allocate benefit rolls using CASH_ROLL and MATERIAL_ROLL."),c())}function vD(n,t){if(n&1){let e=T();s(0,"div",76),M(1,"div",65)(2,"div",66)(3,"div",67)(4,"div",68),s(5,"div",13)(6,"span",14),d(7,"SEC_04Z"),c(),s(8,"h3"),d(9,"MUSTERING_OUT_BENEFITS_ROLLOVER"),c(),s(10,"span",97),d(11),c()(),s(12,"div",15)(13,"p",70),d(14,"Rolling mustering out benefits for "),s(15,"span",77),d(16),c(),d(17,"..."),c(),s(18,"div",126)(19,"div",127)(20,"div",128)(21,"span",129),d(22,"TERMS SERVED"),c(),s(23,"span",130),d(24),c()(),s(25,"div",128)(26,"span",129),d(27,"PROMOTIONS"),c(),s(28,"span",130),d(29),c()(),s(30,"div",128)(31,"span",129),d(32,"TOTAL ROLLS"),c(),s(33,"span",130),d(34),c()()(),s(35,"div",127)(36,"div",128)(37,"span",129),d(38,"ALLOCATED"),c(),s(39,"span",130),d(40),c()(),s(41,"div",128)(42,"span",129),d(43,"REMAINING"),c(),s(44,"span",130),d(45),c()(),s(46,"div",131)(47,"span",129),d(48,"CASH ROLLS"),c(),s(49,"span",130),d(50),c()()()(),ge(51,lD,13,2,"div",132),s(52,"div",133)(53,"div",134)(54,"div",135)(55,"span",136),d(56,"$"),c(),s(57,"span",137),d(58,"CASH BENEFITS"),c()(),s(59,"div",138)(60,"div",139)(61,"div",140),d(62,"ROLL"),c(),s(63,"div",141),d(64,"AMOUNT"),c()(),s(65,"div",142),ge(66,uD,2,0)(67,pD,5,0,"div",143),c()()(),s(68,"div",144)(69,"div",135)(70,"span",136),d(71,"\u2694"),c(),s(72,"span",137),d(73,"MATERIAL BENEFITS"),c()(),s(74,"div",138)(75,"div",139)(76,"div",140),d(77,"ROLL"),c(),s(78,"div",145),d(79,"BENEFIT"),c()(),s(80,"div",142),ge(81,gD,2,0)(82,mD,5,0,"div",143),c()()()(),b(83,hD,2,0,"p",78),c(),s(84,"div",17)(85,"button",146),O("click",function(){S(e);let r=h();return P(r.rollBenefit("Cash"))}),d(86),c(),s(87,"button",147),O("click",function(){S(e);let r=h();return P(r.rollBenefit("Material"))}),d(88," MATERIAL_ROLL "),c(),s(89,"button",148),O("click",function(){S(e);let r=h();return P(r.currentState.set("CHOOSE_CAREER"))}),d(90," CONTINUE_CAREER_SELECTION "),c()()()}if(n&2){let e=h();p(11),w("CAREER: ",e.selectedMusterOutCareer()),p(5),x(e.selectedMusterOutCareer()),p(8),x(e.currentTerm()-1),p(5),x(e.currentRank()),p(5),x(e.currentTerm()-1+e.currentRank()),p(6),x(e.musterOutBenefitsLog().length),p(5),x(e.musterOutRemainingRolls()),p(5),te("",e.musterOutCashRolls(),"/",e.musterOutMaxCashRolls),p(),me(e.showInheritanceBonus()?51:-1),p(15),me(e.musterOutCashLog().length>0?66:67),p(15),me(e.musterOutMaterialLog().length>0?81:82),p(2),v("ngIf",e.musterOutBenefitsLog().length===0),p(2),v("disabled",e.musterOutCashRolls()>=e.musterOutMaxCashRolls)("title",e.musterOutCashRolls()>=e.musterOutMaxCashRolls?"Cash rolls limit reached":"Roll for cash benefit"),p(),te(" CASH_ROLL (",e.musterOutCashRolls(),"/",e.musterOutMaxCashRolls,") "),p(3),v("disabled",e.musterOutBenefitsLog().length===0)}}function _D(n,t){n&1&&(s(0,"div",161)(1,"span",162),d(2,"RELOCATION"),c(),s(3,"span",163),d(4,"DECOUPLED"),c()())}function CD(n,t){n&1&&(s(0,"div",172)(1,"span",104),d(2,"MANDATORY_EXTENSION_ORDER"),c(),s(3,"p"),d(4,"Exceptional performance (NAT_12) triggered a non-negotiable term extension."),c()())}function yD(n,t){n&1&&(s(0,"p",174),d(1,"SENTENCED: Transitioning to Prisoner Protocol."),c())}function bD(n,t){if(n&1&&(s(0,"div",69)(1,"span",104),d(2,"FORCED_SEPARATION_NOTICE"),c(),s(3,"p"),d(4,"Operational necessity or failure results in immediate service termination."),c(),b(5,yD,2,0,"p",173),c()),n&2){let e=h(2);p(5),v("ngIf",e.characterService.character().history.join("").includes("Forced: Prisoner"))}}function xD(n,t){if(n&1&&(s(0,"div",175)(1,"span",176),d(2,">>"),c(),d(3),c()),n&2){let e=t.$implicit;p(3),w(" ",e," ")}}function MD(n,t){if(n&1){let e=T();s(0,"div",159),M(1,"div",65)(2,"div",66)(3,"div",67)(4,"div",68),s(5,"div",13)(6,"span",14),d(7,"SEC_04X"),c(),s(8,"h3"),d(9),c()(),s(10,"div",15)(11,"div",160)(12,"div",161)(13,"span",162),d(14,"PROMOTION_STATUS"),c(),s(15,"span",163),d(16),c()(),b(17,_D,5,0,"div",164),c(),b(18,CD,5,0,"div",165)(19,bD,6,1,"div",102),s(20,"div",166)(21,"span",46),d(22,"[ FIELD_MISSION_LOG ]"),c(),s(23,"div",167),b(24,xD,4,1,"div",168),c()()(),s(25,"div",17)(26,"button",169),O("click",function(){S(e);let r=h();return P(r.continueCareer())}),d(27,"START_NEXT_TERM"),c(),s(28,"button",170),O("click",function(){S(e);let r=h();return P(r.startChangeAssignment())}),d(29,"RECONFIG_ASSIGNMENT"),c(),s(30,"button",171),O("click",function(){S(e);let r=h();return P(r.finishTerm("MUSTER"))}),d(31,"MUSTER_OUT"),c()()()}if(n&2){let e=h();p(9),w("SERVICE_TERM_SUMMARY [ T-",e.currentTerm()-1," ]"),p(3),I("promoted",e.success),p(4),x(e.success?"PROMOTED":"STAGNANT"),p(),v("ngIf",e.leavingHomeSuccess),p(),v("ngIf",e.mandatoryContinue),p(),v("ngIf",e.forcedOut),p(5),v("ngForOf",e.termEventLog()),p(2),v("disabled",e.forcedOut),p(2),v("disabled",e.mandatoryContinue||e.forcedOut),p(2),v("disabled",e.mandatoryContinue)}}function OD(n,t){if(n&1){let e=T();s(0,"button",80),O("click",function(){let r=S(e).$implicit,o=h(2);return P(o.selectInjuryStat(r))}),d(1),c()}if(n&2){let e=t.$implicit;p(),w(" ",e," ")}}function ED(n,t){if(n&1&&(s(0,"div",177)(1,"div",178)(2,"div",13)(3,"h3"),d(4,"INJURY_SEVERITY_REPORT"),c()(),s(5,"div",15)(6,"p",69),d(7),c(),s(8,"p",70),d(9),c(),s(10,"div",94),b(11,OD,2,1,"button",95),c()()()()),n&2){let e=h();p(7),w("SEVERITY: ",e.injurySeverity),p(2),w("Select attribute for primary degradation (",e.injuryMajorLoss," pts):"),p(2),v("ngForOf",e.pendingInjuryStats)}}function SD(n,t){if(n&1){let e=T();s(0,"div",177)(1,"div",179)(2,"div",13)(3,"h3"),d(4,"TREATMENT_PROTOCOL_SELECTION"),c()(),s(5,"div",15)(6,"div",98)(7,"div",99)(8,"span",100),d(9,"COVERAGE"),c(),s(10,"span",101),d(11),c()(),s(12,"div",99)(13,"span",100),d(14,"TOTAL_COST"),c(),s(15,"span",101),d(16),c()()(),s(17,"div",172)(18,"p"),d(19,"Option A: Cyber-Augment. Cost: 1 Benefit Roll Debt. No stat loss."),c(),s(20,"p"),d(21),c()()(),s(22,"div",17)(23,"button",19),O("click",function(){S(e);let r=h();return P(r.resolveInjury(!0))}),d(24,"ACCEPT_AUGMENTATION (Option A)"),c(),s(25,"button",80),O("click",function(){S(e);let r=h();return P(r.resolveInjury(!1))}),d(26,"CONFIRM_STANDARD_CARE (Option B)"),c()()()()}if(n&2){let e=h();p(11),w("",e.medicalCoverage*100,"%"),p(5),w("",e.medicalRestorationCost," Lv"),p(5),w("Option B: Standard Care. Cost: ",e.medicalDebtCalculated," Lv Debt. Permanent Stat Loss.")}}function PD(n,t){if(n&1){let e=T();s(0,"button",80),O("click",function(){let r=S(e).$implicit,o=h(2);return P(o.selectStatReduction(r))}),d(1),c()}if(n&2){let e=t.$implicit;p(),w(" ",e," ")}}function wD(n,t){n&1&&(s(0,"div",177)(1,"div",178)(2,"div",13)(3,"h3"),d(4,"CHARACTERISTIC_DEGRADATION_CHOICE"),c()(),s(5,"div",15)(6,"p",70),d(7),c(),s(8,"div",94),b(9,PD,2,1,"button",95),c()()()()),n&2&&(p(7),w("Select one characteristic to reduce by ",1,":"),p(2),v("ngForOf",wt(2,ww)))}function DD(n,t){if(n&1){let e=T();s(0,"button",80),O("click",function(){let r=S(e).$implicit,o=h(2);return P(o.confirmSkillChoice(r))}),d(1),c()}if(n&2){let e=t.$implicit;p(),w(" ",e," ")}}function ID(n,t){if(n&1&&(s(0,"div",177)(1,"div",180)(2,"div",13)(3,"h3"),d(4,"ADVANCED_TRAINING_PROTOCOL"),c()(),s(5,"div",15)(6,"p"),d(7,"Your advanced training allows you to increase any known skill by +1 level. Select a skill:"),c(),s(8,"div",94),b(9,DD,2,1,"button",95),c()()()()),n&2){let e=h();p(9),v("ngForOf",e.skillChoices)}}function TD(n,t){if(n&1){let e=T();s(0,"button",182),O("click",function(){let r=S(e).$implicit,o=h(2);return P(o.resolveGambling(r))}),d(1),c()}if(n&2){let e=t.$implicit,i=h(2);v("hidden",e>i.benefitRollsToBet),p(),w(" BET_",e,"_ROLLS ")}}function kD(n,t){if(n&1){let e=T();s(0,"div",177)(1,"div",180)(2,"div",13)(3,"h3"),d(4,"GAMBLING_PROTOCOL_AVAILABLE"),c()(),s(5,"div",15)(6,"p"),d(7),c(),s(8,"div",94)(9,"button",80),O("click",function(){S(e);let r=h();return P(r.resolveGambling(0))}),d(10,"DECLINE_GAMBLING"),c(),b(11,TD,2,2,"button",181),c()()()()}if(n&2){let e=h();p(7),w("You may bet up to ",e.benefitRollsToBet," benefit rolls to increase rewards (risk of losing all benefits this term)."),p(4),v("ngForOf",wt(2,Dw))}}function AD(n,t){if(n&1){let e=T();s(0,"button",80),O("click",function(){let r=S(e).$implicit,o=h(2);return P(o.confirmNpcGeneration(r.name))}),d(1),c()}if(n&2){let e=t.$implicit;p(),te(" ",e.name," (",e.type,") ")}}function RD(n,t){if(n&1){let e=T();s(0,"div",177)(1,"div",178)(2,"div",13)(3,"h3"),d(4,"SELECT_TARGET_NPC"),c()(),s(5,"div",15)(6,"p"),d(7,"An existing NPC has crossed paths with you: "),s(8,"span",77),d(9),c()(),s(10,"div",94),b(11,AD,2,2,"button",95),s(12,"button",105),O("click",function(){S(e);let r=h();return P(r.applyEventEffect({type:"injury"}))}),d(13,"NONE_AVAILABLE (Suffer Injury)"),c()()()()()}if(n&2){let e=h();p(9),x(e.pendingNpcOrigin),p(2),v("ngForOf",e.characterService.character().npcs)}}function ND(n,t){n&1&&(s(0,"span"),d(1," Select "),s(2,"span",77),d(3,"ALL"),c(),d(4," available benefits: "),c())}function LD(n,t){n&1&&(s(0,"span"),d(1,"s"),c())}function FD(n,t){if(n&1&&(s(0,"span"),d(1," Select "),s(2,"span",77),d(3),c(),d(4," benefit"),b(5,LD,2,0,"span",183),d(6,": "),c()),n&2){let e=h(2);p(3),x(e.pendingBenefitChoice==null?null:e.pendingBenefitChoice.choose),p(2),v("ngIf",(e.pendingBenefitChoice==null?null:e.pendingBenefitChoice.choose)!==1)}}function VD(n,t){if(n&1){let e=T();s(0,"button",80),O("click",function(){let r=S(e).$implicit,o=h(2);return P(o.selectBenefitOption(r))}),d(1),c()}if(n&2){let e=t.$implicit,i=h(2);I("selected",i.selectedBenefitOptions.includes(e)),p(),w(" ",e," ")}}function jD(n,t){if(n&1){let e=T();s(0,"div",177)(1,"div",180)(2,"div",13)(3,"h3"),d(4,"BENEFIT_SELECTION_PROTOCOL"),c()(),s(5,"div",15)(6,"p",70),b(7,ND,5,0,"span",183)(8,FD,7,2,"span",183),c(),s(9,"div",94),b(10,VD,2,3,"button",184),c()(),s(11,"div",17)(12,"button",169),O("click",function(){S(e);let r=h();return P(r.confirmBenefitChoice())}),d(13," CONFIRM_SELECTION "),c(),s(14,"button",80),O("click",function(){S(e);let r=h();return P(r.cancelBenefitChoice())}),d(15," CANCEL "),c()()()()}if(n&2){let e=h();p(7),v("ngIf",(e.pendingBenefitChoice==null?null:e.pendingBenefitChoice.choose)==="all"),p(),v("ngIf",(e.pendingBenefitChoice==null?null:e.pendingBenefitChoice.choose)!=="all"),p(2),v("ngForOf",e.benefitChoiceOptions()),p(2),v("disabled",!e.canConfirmBenefitChoice())}}var Ff=["Army","Navy","Marine"];var fl=class n{characterService=C(de);diceService=C(Ye);diceDisplay=C(Ke);eventEngine=C(ii);Math=Math;careerService=C(ti);wizardFlow=C(De);careerTermService=C(sl);npcInteractionService=C(Rt);benefitChoiceService=C(Br);inheritanceBonusService=C(dl);rerollService=C(Ur);shipSelectionService=C(Ca);careers=le(()=>this.careerService.getAllCareers());currentState=N("CHOOSE_CAREER");currentTerm=le(()=>this.characterService.character().careerHistory.length+1);currentAge=le(()=>this.characterService.character().age);selectedCareer=null;selectedAssignment=null;selectedTable="service";rollLog=[];lastRoll=0;lastTarget=0;lastDm=0;success=!1;leavingHomeSuccess=!1;termEventLog=N([]);currentEventText="";showCyberneticOption=!1;benefitRollsTotal=0;benefitRollsRemaining=0;cashRollsTaken=0;benefitsLog=[];bonusSkillRolls=N(0);currentRank=N(0);isCommissionedCurrent=N(!1);mandatoryContinue=!1;forcedOut=!1;isCommissionAttempt=!1;nextAssignment=null;isSkillChoicePrompt=!1;skillChoices=[];isNpcPrompt=!1;pendingNpcType="contact";pendingNpcOrigin="";npcNameInput="";isSkillCheckOutcome=!1;skillCheckMessage="";isConnectionsRuleEligible=!1;connectionsSkillChoices=[];isLifeEventChoice=!1;lifeEventChoiceNote="";lifeEventChoiceOptions=[];currentLifeEventRoll=0;isSubRollActive=!1;subRollTable=[];subRollTitle="";isInjuryPrompt=!1;injuryRoll=0;injurySeverity="";injuryMajorLoss=0;pendingInjuryStats=[];selectedInjuryStat="";isInjuryDecisionActive=!1;medicalCoverage=0;medicalRestorationCost=0;medicalDebtCalculated=0;isForeignLegionActive=!1;isNeuralJackPrompt=!1;isNpcConversionPrompt=!1;revealedOptions=new Set;toggleReveal(t){this.revealedOptions.has(t)?this.revealedOptions.delete(t):this.revealedOptions.add(t)}isDirectRollCheck(){let t=this.eventEngine.currentEvent();if(!t||!t.ui.options||t.ui.options.length!==1)return!1;let e=t.ui.options[0];if(!e.effects)return!1;let i=e.effects.find(r=>r.type==="ROLL_CHECK");return!!(i&&i.announcement||e.effects&&e.effects.length>0&&!e.effects.some(o=>o.type==="ROLL_CHECK"||o.type==="ROLL_TABLE"))}neuralJackCostType="cash";paroleThreshold=N(7);isStatReductionChoice=!1;statReductionValue=0;benefitRollsToBet=0;isGamblingPrompt=!1;eventFlowActive=!1;musterOutCareerName=null;wasEjected=N(!1);selectedMusterOutCareer=N(null);musterOutBenefitsLog=N([]);musterOutCashLog=N([]);musterOutMaterialLog=N([]);musterOutCashRolls=le(()=>this.characterService.character().finances.cashRollsSpent||0);musterOutMaxCashRolls=3;musterOutRemainingRolls=le(()=>{let t=this.musterOutCareerName;if(!t)return 0;let e=this.characterService.character().finances.benefitRollsAllocated||{};return(e[t]||0)+(e.General||0)});showInheritanceBonus=N(!1);useInheritanceBonus=N(!1);inheritanceBonusCount=le(()=>this.inheritanceBonusService.getAvailableCount("Noble"));isBenefitChoicePrompt=N(!1);benefitChoiceOptions=N([]);pendingBenefitChoice=null;selectedBenefitOptions=[];lastAutoExecutedEventId="";isProcessingRoll=!1;constructor(){Ot(()=>{this.eventEngine.currentEvent()?this.eventFlowActive=!0:this.eventFlowActive&&(this.eventFlowActive=!1,this.onEventFlowComplete())}),Ot(()=>{let t=this.eventEngine.currentEvent();this.revealedOptions.clear(),t&&t.id!==this.lastAutoExecutedEventId&&this.isDirectRollCheck()&&(this.lastAutoExecutedEventId=t.id,Promise.resolve().then(()=>{this.eventEngine.selectOption(0)}))})}ngOnDestroy(){this.wizardFlow.unregisterStep(6)}async onEventFlowComplete(){if(this.isProcessingRoll=!1,this.currentState()==="SURVIVAL"&&(!this.forcedOut&&!this.characterService.character().ejectedCareers?.includes(this.selectedCareer?.name||"")?(this.currentState.set("ADVANCEMENT"),this.log("Moved to Advancement Phase.")):(this.log("Ejected/Forced Out. Finalizing term records before Mustering Out."),await this.finishTerm("MUSTER"))),this.currentState()==="NEURAL_JACK_EVENT"){this.log("Neural Jack protocol complete. Resuming post-term checks.");let t=this.currentAge();await this.checkAging(t)}}async ngOnInit(){this.wizardFlow.registerValidator(6,()=>this.canProceedToNext()),this.wizardFlow.registerFinishAction(6,()=>this.startMusteringOut()),this.eventEngine.currentEvent.set(null),this.eventEngine.eventStack.set([]),this.eventEngine.registerCustomHandler("ADVANCE_STATE",e=>{this.currentState.set(e),this.log(`State Advanced to ${e}`)}),this.eventEngine.registerEvent(k_()),this.eventEngine.registerEvent(A_()),this.eventEngine.registerEvent(R_()),this.eventEngine.registerCustomHandler("SET_PSIONIC_POTENTIAL",e=>{this.characterService.setPsionicPotential(e.value)}),this.eventEngine.registerCustomHandler("BETRAYAL_LOGIC",e=>{this.characterService.character().npcs.filter(o=>o.type==="contact"||o.type==="ally").length>0?(this.pendingNpcType="rival",this.pendingNpcOrigin="Betrayal",this.isNpcPrompt=!0):(this.characterService.addNpc({id:`npc_${Date.now()}`,name:"Unknown Betrayer",type:"enemy",origin:"Betrayal Event",notes:"An unknown figure who worked against you from the shadows."}),this.characterService.log("**Betrayal**: An unknown enemy has acted against you."))}),this.eventEngine.registerCustomHandler("INJURY_PROCESS",async e=>{let i=e.severity,r=N_(i,this.selectedCareer?.name||"Unknown");this.eventEngine.registerEvent(r),this.eventEngine.triggerEvent(r.id,!0)}),this.eventEngine.registerCustomHandler("SET_NEURAL_JACK",e=>{this.characterService.setNeuralJackInstalled(!0)}),this.eventEngine.registerCustomHandler("INHERITANCE_BONUS",()=>{this.inheritanceBonusService.addInheritanceBonus("Noble"),this.characterService.log("**Inheritance Bonus**: Gain DM+1 to any one future benefit roll.")}),this.eventEngine.registerCustomHandler("ANY_SKILL_UP",()=>{let e=this.characterService.character();this.skillChoices=e.skills.map(i=>i.name),this.skillChoices.length===0&&(this.skillChoices=["Athletics","Gun Combat (any)","Recon"]),this.isSkillChoicePrompt=!0,this.characterService.log("**Advanced Training**: Choose any known skill to increase.")}),this.eventEngine.registerCustomHandler("APPLY_INJURY_DAMAGE",e=>{this.handleInjuryDamage(e.severity,e.method)}),this.eventEngine.registerCustomHandler("LUCRATIVE_DEAL_BET",e=>{this.handleLucrativeDealBet(e.amountRisked)});let t=this.characterService.character();if(t.forcedCareer){let e=this.careers().find(i=>i.name.toLowerCase()===t.forcedCareer?.toLowerCase());e&&(this.characterService.log(`**Enforcing Forced Career**: ${e.name}`),this.selectCareer(e),e.name)}}get activeEvent(){return this.eventEngine.currentEvent()}addToEventLog(t){this.termEventLog.update(e=>[...e,t])}async selectCareer(t){if(this.isCareerDisabled(t)){this.log(`REJECTED: ${this.getDisabledReason(t)}`);return}this.termEventLog.set([]),this.selectedCareer=t,this.selectedAssignment=null,this.characterService.currentCareer.set(t.name);let e=Af(t.name,t.eventTable);this.eventEngine.registerEvent(e);let i=kf(t.name,t.mishapTable,!1);this.eventEngine.registerEvent(i),this.currentRank.set(0),this.isCommissionedCurrent.set(!1),this.isNpcConversionPrompt=!1,this.isNeuralJackPrompt=!1;let r=this.characterService.character();r.education?.academy&&r.education?.honors&&this.isMilitaryCareer()&&(this.currentRank.set(1),this.isCommissionedCurrent.set(!0))}isCareerDisabled(t){let e=this.characterService.character(),r=At.find(a=>a.name===e.nationality)?.tier||3;if(t.name==="Prisoner"&&!e.forcedCareer||this.currentTerm()===1&&r>=5&&["Scout","Merchant","Navy"].includes(t.name)||e.ejectedCareers?.includes(t.name)||e.forcedCareer&&e.forcedCareer!==t.name)return!0;let o=t.minAttributes;if(o)for(let[a,l]of Object.entries(o)){if(a.includes(" or ")){if(a.split(" or ").map(m=>m.trim().toLowerCase()).map(m=>e.characteristics[m]?.value||0).every(m=>m<l))return!0;continue}let u=e.characteristics[a.toLowerCase()];if(u&&u.value<l||a.includes("dex or int")&&e.characteristics.dex.value<5&&e.characteristics.int.value<5)return!0}return this.currentTerm()===1&&e.originType==="Spacer"&&t.name==="Army"}getDisabledReason(t){let e=this.characterService.character(),r=At.find(a=>a.name===e.nationality)?.tier||3;if(t.name==="Prisoner"&&!e.forcedCareer)return"Prisoner is a forced career only, cannot be selected voluntarily.";if(this.currentTerm()===1&&r>=5&&["Scout","Merchant","Navy"].includes(t.name))return`Requires Tier 4 nation (Current: Tier ${r})`;if(e.ejectedCareers?.includes(t.name))return"Ejected - barred permanently during career phase";if(e.forcedCareer&&e.forcedCareer!==t.name)return`SERVICE_OBLIGATION: Academy graduate must serve in ${e.forcedCareer}.`;let o=t.minAttributes;if(o)for(let[a,l]of Object.entries(o)){if(a.includes(" or ")){if(a.split(" or ").map(m=>m.trim().toLowerCase()).map(m=>e.characteristics[m]?.value||0).every(m=>m<l))return`Requires ${a.toUpperCase()} ${l}`;continue}let u=e.characteristics[a.toLowerCase()];if(u&&u.value<l)return`Requires ${a.toUpperCase()} ${l}`;if(a.includes("dex or int")&&e.characteristics.dex.value<5&&e.characteristics.int.value<5)return"Requires DEX or INT 5"}return this.currentTerm()===1&&e.originType==="Spacer"&&t.name==="Army"?"Spacers cannot join Army in Term 1":""}selectAssignment(t){this.selectedAssignment=t;let e=this.characterService.character();this.selectedCareer?.name==="Army"&&["French Empire","Generic Tier 3"].includes(e.nationality)&&(this.lifeEventChoiceNote="The French Foreign Legion offers immediate enlistment. (Qual DM+1, Survival DM-1). Do you wish to join?",this.lifeEventChoiceOptions=["Join Foreign Legion","Standard Enlistment"],this.isLifeEventChoice=!0)}async qualify(){let t=this.selectedCareer;if(!t)return;this.log(`Qualification Attempt: ${t.name}`);let e=this.characterService.character(),i=!1,o=At.find(re=>re.name===e.nationality)?.tier||3;if(this.currentTerm()===1&&o>=5&&["Scout","Merchant","Navy"].includes(t.name)){this.log(`REJECTED: ${e.nationality} (Tier ${o}) does not have the infrastructure for ${t.name} careers yet.`),this.currentState.set("QUALIFICATION_FAILURE");return}if(t.qualificationTarget===0&&(i=!0),t.name==="Prisoner"&&(i=!0),t.name==="Spaceborne"&&e.originType==="Spacer"&&(i=!0),e.forcedCareer===t.name&&(i=!0),i){this.characterService.log(`**Automatic Qualification for ${t.name}**`),this.log("Qualified!"),e.forcedCareer===t.name&&this.characterService.updateCharacter({forcedCareer:""}),this.applyRankBonus(0),this.currentState.set("BASIC_TRAINING");return}this.log(`Attempting to join ${t.name}...`);let a=e.careerHistory||[],u=-1*new Set(a.map(re=>re.careerName)).size,f=t.name==="Navy"?34:30;e.age>=f&&Ff.includes(t.name)&&(u-=2,this.log(`Age ${f}+ Military Penalty: -2 DM to Qualification.`));let g=t.qualificationStat.toLowerCase(),m=g;if(g.includes(" or ")){let re=g.split(" or "),Ie=this.diceService.getModifier(e.characteristics[re[0]].value+e.characteristics[re[0]].modifier),$e=this.diceService.getModifier(e.characteristics[re[1]].value+e.characteristics[re[1]].modifier);m=Ie>=$e?re[0]:re[1],this.log(`Dual-Qualification Choice: Using ${m.toUpperCase()} (Better Modifier)`)}let _=e.characteristics[m],y=this.diceService.getModifier(_.value+_.modifier),D=t.qualificationTarget,L=[];u!==0&&L.push({label:"Previous Careers",value:u}),y!==0&&L.push({label:`Stat (${m.toUpperCase()})`,value:y}),this.isForeignLegionActive&&L.push({label:"French Foreign Legion",value:1});let R=e.nextQualificationDm||0;R!==0&&L.push({label:"Event Bonus",value:R});let V=0;if(e.education?.university===!0){let re=t.name,Ie=this.selectedAssignment?.name||"",$e=["Agent","Army","Marine","Scholar","Scout"].includes(re);if(re==="Citizen"&&Ie==="Corporate"&&($e=!0),re==="Entertainer"&&Ie==="Journalist"&&($e=!0),$e){V=e.education.honors?2:1;let Y_=e.education.honors?"University Honors":"University Grad";L.push({label:Y_,value:V})}}let ee=this.currentTerm()===1?"Failed Qualification. You are subject to the Draft \u2014 a random military career will be assigned.":"Failed Qualification. You have no choice but to become a Drifter this term.",K=await this.diceDisplay.roll(`Qualification: ${t.name}`,2,y+u+V+R+(this.isForeignLegionActive?1:0),D,m.toUpperCase(),void 0,L,void 0,{phase:`QUALIFICATION \xB7 ${t.name.toUpperCase()}`,announcement:`You are applying to join the ${t.name} (${this.selectedAssignment?.name}). Roll ${m.toUpperCase()} ${D}+ on 2D6 to be accepted into service.`,successContext:`Qualified! You are accepted into the ${t.name} and will begin Basic Training.`,failureContext:ee})+y+u+V+R+(this.isForeignLegionActive?1:0);this.log(`Rolled ${K} vs ${D}`),K>=D?(this.success=!0,this.characterService.log(`**Qualified for ${t.name}** (${this.selectedAssignment?.name})`),this.log("Qualified!"),this.characterService.updateCharacter({nextQualificationDm:0,forcedCareer:""}),e.education?.academy&&e.education?.honors&&this.isMilitaryCareer()?(this.characterService.log("**Academy Honors**: Automatic Commission to Rank 1 (Officer)"),this.log("Honors Commission Applied."),this.isCommissionedCurrent.set(!0),this.currentRank.set(1),this.applyRankBonus(1),this.currentState.set("BASIC_TRAINING")):e.nationality==="Japan"&&e.japaneseRankBonus&&this.isMilitaryCareer()&&e.careerHistory.length===0?(this.characterService.log("**Japanese Bonus**: Automatic Commission to Rank 1 (Officer)"),this.log("Japanese Rank Bonus Applied."),this.isCommissionedCurrent.set(!0),this.currentRank.set(1),this.characterService.updateCharacter({japaneseRankBonus:!1}),this.applyRankBonus(1),this.currentState.set("BASIC_TRAINING")):(this.applyRankBonus(0),this.currentState.set("BASIC_TRAINING"))):(this.success=!1,this.characterService.log(`**Failed Qualification** for ${t.name}.`),this.log("Failed Qualification."),this.characterService.updateCharacter({nextQualificationDm:0,forcedCareer:""}),this.currentState.set("QUALIFICATION_FAILURE"))}async chooseDraft(){if(this.characterService.character().hasDrafted){this.log("Cannot enter the Draft again \u2014 already used once this lifetime.");return}this.characterService.log("Choosing the Draft..."),await this.runDraft()}async chooseDrifter(){this.characterService.log("Choosing Drifter path...");let t=this.careers().find(e=>e.name==="Drifter");t&&(this.selectedCareer=t,this.selectedAssignment=t.assignments[0],this.applyRankBonus(0),this.currentState.set("BASIC_TRAINING"))}applyRankBonus(t){if(!this.selectedCareer||!this.selectedAssignment)return;let e=null;if(this.isCommissioned()&&this.selectedCareer.officerRanks&&(e=this.selectedCareer.officerRanks.find(o=>o.level===t)),e||(e=this.selectedAssignment.ranks.find(o=>o.level===t)),!e||!e.bonusSkill)return;let i=e.bonusSkill,r=e.bonusValue;if(i.includes("(trait)")){this.characterService.log(`**Rank ${t} Bonus** (${this.selectedCareer.name}): Gained Trait ${i}`),this.log(`Rank ${t} Bonus: ${i}`);return}if(typeof r=="number")this.characterService.ensureSkillLevel(i,r),this.characterService.log(`**Rank ${t} Bonus** (${this.selectedCareer.name}): ${i} set to ${r}`),this.log(`Rank ${t} Bonus: ${i} ${r}`);else if(typeof r=="string"){if(r.includes("+1"))this.increaseStat(i,1),this.characterService.log(`**Rank ${t} Bonus** (${this.selectedCareer.name}): ${i} +1`),this.log(`Rank ${t} Bonus: ${i} +1`);else if(r.includes("10 or +1")||r.includes("12 or +1")){let o=r.includes("12")?12:10,a=this.characterService.character(),l=i.toLowerCase(),u=a.characteristics[l]?.value||0;u<o?(this.increaseStat(i,o-u),this.characterService.log(`**Rank ${t} Bonus** (${this.selectedCareer.name}): ${i} set to ${o}`)):(this.increaseStat(i,1),this.characterService.log(`**Rank ${t} Bonus** (${this.selectedCareer.name}): ${i} +1`)),this.log(`Rank ${t} Bonus: ${i} ${r}`)}}}isMilitaryCareer(){return!!this.selectedCareer&&Ff.includes(this.selectedCareer.name)}basicTrainingGrantedThisTerm=!1;grantBasicTrainingSkills(){let t=this.currentTerm();if(this.log(`grantBasicTrainingSkills: Term ${t}`),t===1){if(this.basicTrainingGrantedThisTerm){this.log("Basic Training already granted this term. Skipping.");return}let e=this.selectedCareer?.serviceSkills||[],i=[...e];this.selectedCareer?.name==="Citizen"&&this.selectedAssignment&&(i=[...e,...this.selectedAssignment.skillTable]),this.log(`grantBasicTrainingSkills: Skills found: ${i.length} (${i.join(", ")})`),i.length>0&&(i.forEach(r=>{this.log(`Adding Skill: ${r} at Level 0`),this.characterService.addSkill(r,0,!0)}),this.log("Basic Training: Acquired ALL Service Skills at Level 0."),this.characterService.log(`**Basic Training** (${this.selectedCareer?.name}): Received all Service Skills at Level 0`),this.basicTrainingGrantedThisTerm=!0)}}performBasicTraining(){this.grantBasicTrainingSkills(),this.currentState.set("SKILL_TRAINING")}async attemptCommission(){if(!this.selectedCareer||!this.selectedAssignment)return;this.grantBasicTrainingSkills(),this.isCommissionAttempt=!0,this.success=!1;let t=this.selectedAssignment.advancementStat.toLowerCase(),e=this.selectedAssignment.advancementTarget,i=this.characterService.character(),r=i.characteristics[t],o=this.diceService.getModifier(r.value+r.modifier),a=[];o!==0&&a.push({label:`Stat (${t.toUpperCase()})`,value:o});let l=0;i.education?.academy&&!i.education?.honors&&this.isMilitaryCareer()&&(l=2,a.push({label:"Academy Grad",value:2}));let u=0,f=this.selectedCareer.name.toLowerCase(),g=i.careerHistory.filter(L=>L.careerName.toLowerCase()===f&&L.commissioned).length;g>0&&(u=-g,a.push({label:`Commission Penalty (${g} prev attempts)`,value:u}));let m=o+l+u,_=m!==o?`Commission Check (${m>o?"+":""}${m-o})`:"Commission Check",D=await this.diceDisplay.roll(_,2,m,e,t.toUpperCase(),void 0,a,void 0,{phase:`COMMISSION \xB7 ${this.selectedCareer?.name.toUpperCase()}`,announcement:`You are applying for an Officer's Commission in the ${this.selectedCareer?.name}. Roll ${t.toUpperCase()} ${e}+ to be promoted to Officer Rank 1.`,successContext:"Commission granted! You are now an Officer Rank 1 and gain 1 extra Skill Roll this term.",failureContext:"Commission denied. You continue as Enlisted personnel and proceed to Skill Training."})+m;if(this.log(`Commission Check: ${D} vs ${e}`),D>=e){this.success=!0,this.isCommissionedCurrent.set(!0),this.currentRank.set(1);let L=this.getOfficerRankTitle(1);this.characterService.log(`**Commission Granted** (${this.selectedCareer.name}): Promoted to ${L} (Officer Rank 1)`),this.log(`Commissioned! You are now a ${L} (Officer Rank 1).`),this.applyRankBonus(1),this.bonusSkillRolls.update(R=>R+1),this.characterService.log("Commission grants **1 Extra Skill Roll**"),this.log("Commission successful! Gain 1 Extra Skill Roll."),this.currentState.set("SKILL_TRAINING")}else this.success=!1,this.characterService.log(`**Commission Failed** (${this.selectedCareer.name})`),this.log("Commission failed."),this.currentState.set("SKILL_TRAINING")}canAttemptCommission(){if(!this.selectedCareer||!Ff.includes(this.selectedCareer.name)||!this.selectedCareer.officerSkills||this.isCommissioned()||this.isCommissionAttempt)return!1;let e=this.characterService.character().characteristics.soc.value;return this.currentTerm()===1||e>=9}isCommissioned(){return this.isCommissionedCurrent()}getOfficerRankTitle(t){if(!this.selectedCareer?.officerRanks)return`Officer Rank ${t}`;let e=this.selectedCareer.officerRanks.find(i=>i.level===t);return e?e.title:`Officer Rank ${t}`}async runDraft(){let t=[{roll:1,career:"Navy"},{roll:2,career:"Army"},{roll:3,career:"Marine"},{roll:4,career:"Merchant"},{roll:5,career:"Scout"},{roll:6,career:"Agent"}],i=await this.diceDisplay.roll("Draft Table",1,0,0,"",void 0,[],t,{phase:"MILITARY DRAFT",announcement:"You failed to qualify and submitted to the Draft. Roll 1D6: 1=Navy, 2=Army, 3=Marine, 4=Merchant, 5=Scout, 6=Agent.",successContext:"Your assigned service begins Basic Training immediately.",failureContext:""});this.characterService.updateCharacter({hasDrafted:!0});let r="";i===1?r="Navy":i===2?r="Army":i===3?r="Marine":i===4?r="Merchant":i===5?r="Scout":r="Agent";let o=this.careers().find(a=>a.name===r);if(o||(o=this.careers().find(a=>a.name.includes(r))),o)this.characterService.log(`**Drafted** into ${o.name} (${o.assignments[0].name})`),this.log(`Drafted into ${o.name}.`),this.selectedCareer=o,this.selectedAssignment=o.assignments[0],this.applyRankBonus(0),this.currentState.set("BASIC_TRAINING");else{this.log("Draft failed. You are a Drifter.");let a=this.careers().find(l=>l.name==="Drifter");a&&(this.characterService.log(`**Draft Fallback**: Assigned to ${a.name}`),this.selectedCareer=a,this.selectedAssignment=a.assignments[0],this.applyRankBonus(0),this.currentState.set("BASIC_TRAINING"))}}GENERIC_SKILLS={Art:["Holography","Instrument","Performer","Visual Media","Write"],Drive:["Hover","Mole","Track","Walker","Wheel"],Electronics:["Comms","Computers","Remote Ops","Sensors"],Engineer:["Life Support","M-Drive","Power","Stutterwarp"],Flyer:["Airship","Ornithopter","Rotor","Vectored Thrust","Wing"],"Gun Combat":["Archaic","Energy","Slug"],Gunner:["Capital","Ortillery","Screen","Turret"],"Heavy Weapons":["Artillery","Man Portable","Vehicle"],Language:["French","German","Spanish","Pentapod","Zhargon","English","Japanese"],Melee:["Blade","Bludgeon","Unarmed"],Pilot:["Capital Ships","Small Craft","Spacecraft"],Profession:["Belter","Biologicals","Civil Engineering","Construction","Hydroponics","Polymers"],Science:["Archaeology","Astronomy","Biology","Chemistry","Cosmology","Cybernetics","Economics","Genetics","History","Linguistics","Philosophy","Physics","Planetology","Psionicology","Psychology","Robotics","Sophontology","Xenology"],Seafarer:["Ocean Ship","Personal","Sail","Submarine"],Animals:["Handling","Training","Veterinary"],Athletics:["Dexterity","Endurance","Strength"],Tactics:["Military","Naval"]};showSkillSelection=!1;skillSelectionOptions=[];pendingSkillName="";pendingSkillLevel=1;async handleSkillReward(t,e){let i=this.characterService.addSkill(t,e);i&&this.GENERIC_SKILLS[t]?(this.pendingSkillName=t,this.pendingSkillLevel=e,this.skillSelectionOptions=this.GENERIC_SKILLS[t],this.showSkillSelection=!0,this.log(`Select specialization for ${t}...`)):i&&this.log(`Warning: Specialization required for ${t} but no options found.`)}confirmSpecialization(t){let e=`${this.pendingSkillName} (${t})`;this.characterService.addSkill(e,this.pendingSkillLevel),this.showSkillSelection=!1,this.log(`Selected info: ${e}`)}async rollSkill(t){if(!this.selectedCareer)return;let e=this.characterService.character();if(t==="Advanced"&&e.characteristics.edu.value+e.characteristics.edu.modifier<8){this.log("Education 8+ required for Advanced Education.");return}if(t==="Officer"&&this.selectedCareer.officerSkills&&!this.isCommissioned()){this.log("Commission required for Officer skills.");return}let i=[];t==="Personal"?i=this.selectedCareer.personalSkills:t==="Service"?i=this.selectedCareer.serviceSkills:t==="Advanced"?i=this.selectedCareer.advancedEducation:t==="Officer"&&this.selectedCareer.officerSkills?i=this.selectedCareer.officerSkills:t==="Specialist"&&this.selectedAssignment&&(i=this.selectedAssignment.skillTable);let r=this.selectedCareer.name,o=this.currentTerm(),a=this.currentState(),u=this.bonusSkillRolls()>0?"Advancement Bonus Roll":a==="POST_TERM_SKILL_TRAINING"?`Post-Term Training \xB7 Term ${o}`:`Term ${o} Skill Training`,f=i.map((D,L)=>`**${L+1}.** ${D}`).join("  \xB7  "),g=await this.diceDisplay.roll(`${t} Skill`,1,0,0,"",D=>{let L=D-1;return i[L]||"Unknown"},[],i,{phase:`SKILL TRAINING \xB7 ${r.toUpperCase()} \xB7 ${t.toUpperCase()}`,announcement:`**${r} \u2014 ${t} Skills** (${u})

Roll 1D6 to determine your development this term:

${f}

The result is applied immediately to your character sheet.`,successContext:"Skill development recorded. Your character advances.",failureContext:""}),m=i[g-1];if(!m)return;if(this.log(`Rolled ${g} on ${t}: ${m}`),this.characterService.log(`**Skill Roll** (${t}): Rolled ${g} \u2192 ${m}`),m.includes("+1")&&(m.includes("STR")||m.includes("DEX")||m.includes("END")||m.includes("INT")||m.includes("EDU")||m.includes("SOC"))){let D=m.split(" ")[0];this.characterService.log(`**Skill Table Stat Bonus**: ${D} +1`),this.increaseStat(D,1)}else await this.handleSkillReward(m,1);let _=this.currentState();if(this.bonusSkillRolls()>0){this.bonusSkillRolls.update(L=>L-1);let D=this.bonusSkillRolls();if(this.log(`Bonus Roll Used. Remaining: ${D}`),_==="POST_TERM_SKILL_TRAINING"&&D===0){await this.transitionToEndOfTerm();return}return}_==="POST_TERM_SKILL_TRAINING"?await this.transitionToEndOfTerm():_==="SKILL_TRAINING"||_==="BASIC_TRAINING"&&this.currentTerm()===1?this.currentState.set("SURVIVAL"):this.log(`Warning: rollSkill flow triggered in state: ${_}`)}getRank(){return this.currentRank()}async rollSurvival(){if(this.isProcessingRoll||!this.selectedAssignment||!this.selectedCareer)return;this.isProcessingRoll=!0;let t=this.selectedAssignment.survivalStat,e=this.selectedAssignment.survivalTarget;this.log(`Initiating Survival Check: ${t} ${e}+`);let i=L_(this.selectedCareer.name,t,e),r=this.characterService.character(),o=0;if(r.isSoftPath?o=-1:o=1,!r.hasLeftHome&&r.homeworld?.survivalDm&&(o+=r.homeworld.survivalDm,this.log(`Homeworld Survival DM Applied: ${r.homeworld.survivalDm}`)),o!==0){let m=i.ui.options[0].effects?.find(_=>_.type==="ROLL_CHECK");if(m){m.dm=o;let _=[];r.isSoftPath?_.push("Soft Path (-1)"):_.push("Hard Path (+1)"),!r.hasLeftHome&&r.homeworld?.survivalDm&&_.push(`Homeworld (+${r.homeworld.survivalDm})`),m.dmLabel=_.join(", ")||"Path DM"}}let a=!["Drifter","Spaceborne"].includes(this.selectedCareer.name),l=kf(this.selectedCareer.name,this.selectedCareer.mishapTable,a),u=Af(this.selectedCareer.name,this.selectedCareer.eventTable);this.eventEngine.registerEvent(i),this.eventEngine.registerEvent(l),this.eventEngine.registerEvent(u);let f=u.id;if(this.careerTermService.isNeuralJackEligible(this.selectedCareer.name,this.currentTerm())){console.log("Injecting Neural Jack Event into chain.");let m=E({},cl);m.ui.options=m.ui.options.map(_=>A(E({},_),{nextEventId:u.id,replaceNext:!0})),this.eventEngine.registerEvent(m),f=m.id}let g=i.ui.options[0].effects?.find(m=>m.type==="ROLL_CHECK");g&&(g.onPass=f),this.eventEngine.triggerEvent(i.id)}handleInjuryDamage(t,e){if(e==="augment")this.characterService.spendBenefitRoll(void 0,1),this.characterService.updateCharacter({augments:[...this.characterService.character().augments||[],{name:"Cybernetic Replacement (Injury)",type:"Cybernetic",location:"TBD",techLevel:10,effects:"Restores function of lost limb/organ.",cost:0,isNatural:!1}],history:[...this.characterService.character().history||[],"**Augmentation**: Accepted cybernetics to treat injury. Cost: 1 Benefit Roll."]}),this.log("Injury treated with cybernetics.");else{let i=this.characterService.character(),r=["str","dex","end"],o=r[Math.floor(Math.random()*r.length)],a=i.characteristics[o].value,l=0,u=0;if(t===1){let f=Math.floor(Math.random()*6)+1;l=f;let g=r.filter(m=>m!==o);this.characterService.updateCharacteristics(A(E({},i.characteristics),{[o]:A(E({},i.characteristics[o]),{value:Math.max(1,a-f)}),[g[0]]:A(E({},i.characteristics[g[0]]),{value:Math.max(1,i.characteristics[g[0]].value-2)}),[g[1]]:A(E({},i.characteristics[g[1]]),{value:Math.max(1,i.characteristics[g[1]].value-2)})})),u=(f+4)*5e3,this.characterService.log(`**Nearly Killed**: STR/DEX/END reduced. Medical Bill: Lv ${u}`)}else if(t===2){let f=Math.floor(Math.random()*6)+1;l=f,this.characterService.updateCharacteristics(A(E({},i.characteristics),{[o]:A(E({},i.characteristics[o]),{value:Math.max(1,a-f)})})),u=f*5e3,this.characterService.log(`**Severely Injured**: ${o.toUpperCase()} -${f}. Medical Bill: Lv ${u}`)}else t===3?(l=2,this.characterService.updateCharacteristics(A(E({},i.characteristics),{[o]:A(E({},i.characteristics[o]),{value:Math.max(1,a-l)})})),u=1e4,this.characterService.log(`**Missing Limb/Eye**: ${o.toUpperCase()} -2. Medical Bill: Lv ${u}`)):t===4?(l=2,this.characterService.updateCharacteristics(A(E({},i.characteristics),{[o]:A(E({},i.characteristics[o]),{value:Math.max(1,a-l)})})),u=2*5e3,this.characterService.log(`**Scarred**: ${o.toUpperCase()} -2. Medical Bill: Lv ${u}`)):t===5&&(l=1,this.characterService.updateCharacteristics(A(E({},i.characteristics),{[o]:A(E({},i.characteristics[o]),{value:Math.max(1,a-l)})})),u=5e3,this.characterService.log(`**Injured**: ${o.toUpperCase()} -1. Medical Bill: Lv ${u}`));if(u>0){let f=this.currentRank(),g=Math.floor(Math.random()*6)+1+Math.floor(Math.random()*6)+1+f,m=0;this.isMilitaryCareer()?g>=12||g>=8?m=1:g>=4?m=.75:m=0:g>=12?m=1:g>=8?m=.75:g>=4?m=.5:m=0;let _=Math.floor(u*m),y=u-_;this.characterService.updateFinances({debt:(this.characterService.character().finances.debt||0)+y}),this.characterService.log(`**Medical Costs**: Total Lv ${u}. Covered: Lv ${_}. Debt: Lv ${y}.`)}}}handleLucrativeDealBet(t){this.lucrrativelyRisked=t;let e={id:`lucrative_deal_skill_choice_${Date.now()}`,type:"CHOICE",trigger:"DURING_CAREER_TERM",ui:{title:"Lucrative Deal - Choose Skill",description:`You are risking ${t} Benefit Roll${t>1?"s":""}. Which skill will you use?`,options:[{label:"Risk with Gambler 8+",effects:[{type:"ROLL_CHECK",stat:"Gambler",checkTarget:8,onPass:`lucrative_deal_success_${t}_gambler`,onFail:`lucrative_deal_failure_${t}_gambler`}]},{label:"Risk with Broker 8+",effects:[{type:"ROLL_CHECK",stat:"Broker",checkTarget:8,onPass:`lucrative_deal_success_${t}_broker`,onFail:`lucrative_deal_failure_${t}_broker`}]}]}},i={id:`lucrative_deal_success_${t}_gambler`,type:"REWARD",trigger:"DURING_CAREER_TERM",ui:{title:"Deal Succeeds!",description:`The deal pays off! You gain ${Math.ceil(t/2)} Benefit Roll${Math.ceil(t/2)>1?"s":""} back and Gambler +1.`,options:[{label:"Collect Winnings",effects:[{type:"RESOURCE_MOD",target:"benefit_rolls",value:Math.ceil(t/2)},{type:"SKILL_MOD",target:"Gambler",value:1}]}]}},r={id:`lucrative_deal_failure_${t}_gambler`,type:"INFO",trigger:"DURING_CAREER_TERM",ui:{title:"Deal Fails...",description:`The deal collapses. You lose all ${t} risked Benefit Roll${t>1?"s":""}, but gain Gambler +1 for the experience.`,options:[{label:"Accept Loss",effects:[{type:"LOSE_BENEFIT",value:t},{type:"SKILL_MOD",target:"Gambler",value:1}]}]}},o={id:`lucrative_deal_success_${t}_broker`,type:"REWARD",trigger:"DURING_CAREER_TERM",ui:{title:"Deal Succeeds!",description:`The deal pays off! You gain ${Math.ceil(t/2)} Benefit Roll${Math.ceil(t/2)>1?"s":""} back and Broker +1.`,options:[{label:"Collect Winnings",effects:[{type:"RESOURCE_MOD",target:"benefit_rolls",value:Math.ceil(t/2)},{type:"SKILL_MOD",target:"Broker",value:1}]}]}},a={id:`lucrative_deal_failure_${t}_broker`,type:"INFO",trigger:"DURING_CAREER_TERM",ui:{title:"Deal Fails...",description:`The deal collapses. You lose all ${t} risked Benefit Roll${t>1?"s":""}, but gain Broker +1 for the experience.`,options:[{label:"Accept Loss",effects:[{type:"LOSE_BENEFIT",value:t},{type:"SKILL_MOD",target:"Broker",value:1}]}]}};this.eventEngine.registerEvent(e),this.eventEngine.registerEvent(i),this.eventEngine.registerEvent(r),this.eventEngine.registerEvent(o),this.eventEngine.registerEvent(a),this.eventEngine.triggerEvent(e.id,!0),this.characterService.log(`**Lucrative Deal**: Risking ${t} Benefit Roll${t>1?"s":""}.`)}resolveSurvivalFailure(t){if(this.showCyberneticOption=!1,t){this.success=!0,this.characterService.log("**Cybernetic Implant** accepted. Avoided Mishap. Debt: -1 Benefit Roll."),this.log("Accepted Cybernetic Implant. Avoided Mishap. Debt: -1 Benefit Roll.");let e=this.injurySeverity==="Missing Eye or Limb"?"Cybernetic Limb":"Cybernetic Augment",i=this.characterService.character();this.characterService.updateCharacter({equipment:[...i.equipment,`${e} (Benefit Debt)`]}),this.characterService.spendBenefitRoll(void 0,1),this.currentState.set("EVENT"),this.generateEvent()}else{let e=this.selectedCareer?.name==="Drifter",i=this.selectedCareer?.name||"Unknown",r=e?"**Survival Check Failed** but stayed in career (Drifter Rule). Rolling Mishap...":`**Mishap!** Injured and ejected from ${i}.`;this.characterService.log(r),this.log(e?"Survival Check Failed! Rolling Mishap (Stay in Career).":"Mishap! You are injured and ejected from the career."),!e&&i!=="Spaceborne"&&(this.forcedOut=!0,this.characterService.ejectCareer(i)),this.currentState.set("MISHAP"),this.generateMishap()}}async generateEvent(){this.selectedCareer&&(this.currentEventText="Resolving Term Event via Event Protocol...",this.eventEngine.triggerEvent("term_event_roll"))}checkSpecial2300ADConstraints(){if(!this.selectedCareer)return;let t=this.characterService.character();this.currentTerm()<=3&&this.isMilitaryCareer()&&["French Empire","America","Generic Tier 3"].includes(t.nationality)}async generateLifeEvent(){this.eventEngine.triggerEvent("life_event_roll")}selectStatReduction(t){this.isStatReductionChoice=!1,this.increaseStat(t,this.statReductionValue),this.characterService.log(`**Choice Selected**: Reduced ${t} by ${Math.abs(this.statReductionValue)}.`)}resolveGambling(t){this.isGamblingPrompt=!1,t>0?(this.characterService.spendBenefitRoll(this.selectedCareer?.name,t),this.characterService.setGambler(!0),this.characterService.log(`**Gambling Choice**: Bet ${t} benefit rolls.`)):this.characterService.log("**Gambling Choice**: Declined.")}confirmSkillChoice(t){this.handleSkillReward(t,1),this.isSkillChoicePrompt=!1,this.skillChoices=[]}async confirmNpcGeneration(t){let{createNpc:e}=await import("./chunk-7WEHJILB.js"),i=t||this.npcNameInput,r=e(this.pendingNpcType,this.pendingNpcOrigin,"",i);this.characterService.addNpc(r),this.isNpcPrompt=!1,this.npcNameInput=""}async convertNpc(t){this.characterService.convertNpc(t,this.pendingNpcType),this.isNpcConversionPrompt=!1,this.characterService.log(`**Betrayal**: An NPC has been converted to ${this.pendingNpcType}.`)}async resolveNeuralJack(t){if(this.isNeuralJackPrompt=!1,!t){this.log("Neural Jack opportunity declined.");return}let e=this.characterService.character();if(e.equipment.includes("Neural Jack")){this.log("Neural Jack is already installed."),this.characterService.log("**Neural Jack**: Attempted to install duplicate hardware. Operation aborted.");return}if(this.neuralJackCostType==="cash")e.finances.cash<1e4?(this.characterService.updateFinances({debt:(e.finances.debt||0)+1e4}),this.characterService.log("**Neural Jack**: Procedure accepted. Incurred 10,000 Lv debt.")):(this.characterService.updateFinances({cash:e.finances.cash-1e4}),this.characterService.log("**Neural Jack**: Procedure accepted. Paid 10,000 Lv."));else{let i=this.selectedCareer?.name||"Unknown";this.characterService.spendBenefitRoll(i,1),this.characterService.log(`**Neural Jack**: Procedure accepted. Sacrificed 1 Benefit Roll from ${i}.`)}this.increaseStat("SOC",-2),this.increaseStat("EDU",-2),this.characterService.updateDm("advancement",1),this.characterService.updateCharacter({equipment:[...e.equipment,"Neural Jack"]}),this.log("Neural Jack installed. +1 DM to Advancement rolls. SOC/EDU reduced by 2.")}applyConnectionsRule(t){this.characterService.addSkill(t,1),this.characterService.updateCharacter({connectionsUsed:this.characterService.character().connectionsUsed+1}),this.characterService.log(`**Connections Rule**: Applied to ${t}. (Used ${this.characterService.character().connectionsUsed}/2)`),this.isConnectionsRuleEligible=!1}skipConnectionsRule(){this.isConnectionsRuleEligible=!1}log(t){this.addToEventLog(t)}increaseStat(t,e){let i=this.characterService.character(),r=t.toLowerCase(),o=i.characteristics[r].value,a=E({},i.characteristics);a[r]=A(E({},a[r]),{value:o+e}),this.characterService.updateCharacteristics(a)}async generateInjury(){this.eventEngine.triggerEvent("injury_roll")}async selectInjuryStat(t){if(this.selectedInjuryStat=t,this.injuryMajorLoss===100){let e=await this.diceDisplay.roll("Injury Severity",1,0,0,"",void 0,[],void 0,{phase:`INJURY SEVERITY \xB7 ${t.toUpperCase()}`,announcement:`You suffered a serious injury to your ${t}. Roll 1D6 to determine the permanent characteristic loss from this wound.`,successContext:"Wound assessment complete. Characteristic reduced accordingly.",failureContext:""});this.injuryMajorLoss=e,this.characterService.log(`**Injury Severity Roll**: Rolled ${e} for stat reduction.`)}this.calculateMedicalCosts(),this.isInjuryPrompt=!1,this.isInjuryDecisionActive=!0}async calculateMedicalCosts(){let t=this.selectedCareer?.name||"",e=this.getRank(),i=await this.careerTermService.calculateMedicalCoverage(t,e);this.medicalCoverage=i;let r=this.careerTermService.calculateMedicalDebt(this.injuryRoll,this.injuryMajorLoss,i);this.medicalRestorationCost=r.restorationCost,this.medicalDebtCalculated=r.debtAmount}async resolveInjury(t){this.isInjuryDecisionActive=!1;let e=this.characterService.character();if(t){let i=this.selectedCareer?.name||"Unknown";this.characterService.spendBenefitRoll(i,1),this.characterService.updateCharacter({equipment:[...e.equipment,`Cyber-Augment (${this.injurySeverity})`]}),this.characterService.log(`**Augmentation Rule**: Sacrificed one Benefit Roll from ${i} to nullify ${this.injurySeverity}.`),this.log("Accepted cybernetic augmentation. No stat loss applied. No medical debt incurred."),this.forcedOut=!1}else{this.characterService.updateFinances({medicalDebt:(e.finances.medicalDebt||0)+this.medicalDebtCalculated});let i=E({},e.characteristics),r=this.selectedInjuryStat.toLowerCase();i[r].value-=this.injuryMajorLoss,this.injuryRoll===1&&["str","dex","end"].filter(o=>o!==r).forEach(o=>{i[o].value-=2}),this.characterService.updateCharacteristics(i),this.characterService.addInjury(this.injurySeverity,this.selectedInjuryStat,this.injuryMajorLoss,this.medicalRestorationCost),this.characterService.log(`**Medical Treatment**: Incurred Lv ${this.medicalDebtCalculated} in debt. ${this.injurySeverity} stats applied.`),this.log(`Applied medical debt of Lv ${this.medicalDebtCalculated}. Stat losses recorded.`),this.currentState()==="MISHAP"&&(this.forcedOut=!0)}}async generateMishap(){this.selectedCareer&&(this.currentEventText="CRITICAL FAILURE: Mishap Protocol Initiated.",this.eventEngine.triggerEvent("mishap_roll"))}async applyEventEffect(t){t.type==="injury"?this.eventEngine.triggerEvent("injury_roll"):(console.warn("Unhandled manual effect:",t),this.log(`Manual effect triggered: ${t.type}`))}proceedToAdvancement(){this.isCommissionAttempt?(this.log("Commission attempted this term. Skipping Advancement Roll."),this.transitionToEndOfTerm()):(this.currentState.set("ADVANCEMENT"),setTimeout(()=>{let t=document.querySelector(".wizard-content");t&&(t.scrollTop=t.scrollHeight)},100))}async rollAdvancement(){if(!this.selectedAssignment||!this.selectedCareer)return;let t=this.characterService.character(),e=this.selectedAssignment.advancementStat.toLowerCase(),i=this.selectedAssignment.advancementTarget,r=t.characteristics[e],o=this.diceService.getModifier(r.value+r.modifier),a=[];o!==0&&a.push({label:`Stat (${e.toUpperCase()})`,value:o});let l=0;if(this.selectedCareer.name==="Prisoner"){let R=t.paroleThresholdDelta||0;l=7-(this.paroleThreshold()+R),l!==0&&a.push({label:"Parole Record",value:l})}let u=t.nextAdvancementDm||0;u!==0&&a.push({label:"Event Bonus DM",value:u}),t.equipment.some(R=>R.includes("Neural Jack"))&&a.push({label:"Neural Jack",value:1});let f=this.selectedCareer.name==="Prisoner",g=f?"Release Check":"Advancement Check",m=f?`Your parole board reviews your record. Roll ${e.toUpperCase()} ${i}+ on 2D6 to be released from prison this term.`:`Your service record this term is being evaluated for promotion. Roll ${e.toUpperCase()} ${i}+ on 2D6 to advance in rank.`,_=f?"Released! You are free and will Muster Out immediately.":"Promoted! Your rank increases and you gain 1 bonus Skill Roll. A Natural 12 obligates you to continue one more term.",y=f?"Parole denied. You remain in prison. If the result is \u2264 terms served, you lose a stat point.":"No promotion this term. If the result is \u2264 terms served, you will be forced out of service.",D=await this.diceDisplay.roll(g,2,o+l+u,i,e.toUpperCase(),void 0,a,void 0,{phase:f?"PAROLE REVIEW \xB7 TERM "+this.currentTerm():`ADVANCEMENT EVALUATION \xB7 TERM ${this.currentTerm()}`,announcement:m,successContext:_,failureContext:y}),L=D+o+l+u;if(this.characterService.updateCharacter({nextAdvancementDm:0,paroleThresholdDelta:0}),L>=i||f&&D>=12){this.success=!0,this.addToEventLog(`ADVANCEMENT: Successful (${L} vs ${i})`);let R=this.getRank()+1;this.currentRank.set(R);let V=this.isCommissioned()?this.getOfficerRankTitle(R):this.getRankTitleFor(R);f?(this.characterService.log(`**Released from Prison** (Rank ${R}: ${V})`),this.log(`Released! You are now a ${V}.`),this.forcedOut=!0):(this.characterService.log(`**Promoted** to ${V} (Rank ${R}) in ${this.selectedCareer.name}`),this.log(`Promoted to ${V} (Rank ${R})!`),this.applyRankBonus(R)),D===12&&!f&&(this.mandatoryContinue=!0,this.characterService.log("**Natural 12**: Mandatory career extension"),this.log("Natural 12! You are indispensable and MUST continue this career.")),f||(this.bonusSkillRolls.update(ee=>ee+1),this.addToEventLog("Gain 1 Bonus Skill Roll. You must take this now."),this.currentState.set("POST_TERM_SKILL_TRAINING"))}else{this.success=!1,this.characterService.log(`**Advancement Failed** in ${this.selectedCareer.name}`),this.log("No motion this term.");let R=this.currentTerm();L<=R&&(this.forcedOut=!0,this.characterService.log(`**Forced Out** (Result ${L} <= Terms ${R})`),this.log(`Forced Out! (Result ${L} <= Terms ${R}). Must Muster Out.`)),this.transitionToEndOfTerm()}}async transitionToEndOfTerm(){this.currentState.set("LEAVING_HOME"),await this.checkPostTermFlow()}async checkPostTermFlow(){let t=this.characterService.character(),i=At.find(l=>l.name===t.nationality)?.tier||3,r=this.selectedCareer?.name||"";if(this.careerTermService.isNeuralJackEligible(r,this.currentTerm())&&!t.equipment.some(l=>l.includes("Neural Jack"))){this.log("Neural Jack installation opportunity available."),this.currentState.set("NEURAL_JACK_EVENT"),this.eventEngine.registerEvent(cl),this.eventEngine.triggerEvent(cl.id);return}let a=this.currentAge();await this.checkAging(a)}async checkAging(t){let e=this.currentTerm(),i=await this.careerTermService.checkAging(t,e);if(!i){await this.rollLeavingHome();return}this.log(`Aging Check Result: ${i.total} (${i.description})`),this.addToEventLog(`AGING_CHECK: Roll ${i.roll} - ${e} Terms = ${i.total}`),this.currentEventText=i.description,i.endCareer?this.currentState.set("MISHAP"):i.total===1?this.currentState.set("EVENT"):await this.rollLeavingHome(),setTimeout(()=>{let r=document.querySelector(".wizard-content");r&&(r.scrollTop=r.scrollHeight)},100)}async rollLeavingHome(){if(this.characterService.character().hasLeftHome){this.leavingHomeSuccess=!0,this.currentState()==="LEAVING_HOME"&&this.currentState.set("TERM_END");return}let e=this.selectedCareer?.name||"",i=this.currentTerm(),r=await this.careerTermService.rollLeavingHome(e,i);r&&(this.leavingHomeSuccess=r.success,this.addToEventLog(`LEAVING_HOME: ${r.success?"Success":"No Motion"} (Roll ${r.roll} + Mod ${r.bonus} = ${r.total} vs 8)`),r.success?this.log("You successfully left home!"):this.log("Still tied to homeworld.")),(this.currentState()==="LEAVING_HOME"||this.currentState()==="ADVANCEMENT"||this.currentState()==="SKILL_TRAINING")&&(this.currentState.set("TERM_END"),setTimeout(()=>{let o=document.querySelector(".wizard-content");o&&(o.scrollTop=o.scrollHeight)},100))}startChangeAssignment(){this.currentState.set("CHANGE_ASSIGNMENT")}async verifyAssignmentChange(t){this.log(`Attempting to change assignment to ${t.name}...`);let e=this.characterService.character(),i=this.selectedCareer?.qualificationStat.toLowerCase()||"int",r=this.selectedCareer?.qualificationTarget||7,o=e.characteristics[i],a=this.diceService.getModifier(o.value+o.modifier),l=0,u=[],f=await this.diceDisplay.roll(`Qualify: ${t.name}`,2,a,l,i.toUpperCase(),_=>_+a+l>=r?"PASS":"FAIL",u,void 0,{phase:`ASSIGNMENT CHANGE \xB7 ${t.name.toUpperCase()}`,announcement:`You are requesting a transfer to the ${t.name} assignment. Roll ${i.toUpperCase()} ${r}+ on 2D6 to gain approval.`,successContext:`Transfer approved! You will serve in the ${t.name} specialization starting next term.`,failureContext:"Transfer denied. You continue in your current assignment."}),g=f+a+l,m=g>=r;this.addToEventLog(`ASSIGNMENT_CHANGE: ${m?"Success":"Failure"} (Roll ${f} + Mod ${a+l} = ${g} vs ${r})`),m?(this.log("Assignment change successful!"),this.nextAssignment=t,this.finishTerm("CONTINUE")):(this.log("Assignment change failed. Must remain in current assignment."),this.nextAssignment=null,this.finishTerm("CONTINUE"))}async finishTerm(t="CONTINUE"){let e=this.characterService.character(),i=this.selectedCareer?.name||"Unknown",r=this.getRank(),o=this.currentState()==="MISHAP";this.success&&!o&&(this.isCommissionAttempt?r<1&&(r=1):r++),this.isForeignLegionActive&&this.careerTermService.applyForeignLegionBenefits(),e.characteristics.soc.value>=10&&this.careerTermService.applyEliteSocBonus();let a=e.age+4,l=i;this.characterService.log(`### Term ${this.currentTerm()} Complete (${l})
- Rank: ${r}
- Age: ${e.age} \u2192 ${a}
- Survived: ${!o}`),this.characterService.addBenefitRoll(l,1);let u=this.selectedCareer?.id||l.toLowerCase();this.characterService.updateCharacter({age:a,careerHistory:[...e.careerHistory,{termNumber:this.currentTerm(),careerName:u,careerLabel:l,rank:r,rankTitle:this.getRankTitle(),assignment:this.selectedAssignment?.name,assignmentLabel:this.selectedAssignment?.name,events:[...this.termEventLog()],benefits:[],ageStart:e.age,ageEnd:a,survived:!o,commissioned:this.isCommissionedCurrent(),advanced:this.success&&!o&&!this.isCommissionAttempt,leavingHome:this.leavingHomeSuccess,benefitRollsGained:1}]}),this.success=!1,this.leavingHomeSuccess=!1,this.currentEventText="",this.bonusSkillRolls.set(0),this.isCommissionAttempt=!1,this.basicTrainingGrantedThisTerm=!1,this.isForeignLegionActive=!1,t==="MUSTER"||o||this.forcedOut?(this.wasEjected.set(o||this.forcedOut),this.careerTermService.applyRankBonusRolls(l,r),this.selectedCareer=null,this.selectedAssignment=null,this.characterService.currentCareer.set(null),this.musterOutCareerName=l,this.selectedMusterOutCareer.set(l),this.musterOutBenefitsLog.set([]),this.musterOutCashLog.set([]),this.musterOutMaterialLog.set([]),this.currentState.set("MUSTER_OUT_ROLLING"),this.eventEngine.currentEvent.set(null),this.forcedOut=!1,this.characterService.log(`**Mustered Out** of ${l}`),this.log("Rolling mustering out benefits for "+l+"...")):(this.nextAssignment&&(this.characterService.log(`**Assignment Changed** to ${this.nextAssignment.name}`),this.selectedAssignment=this.nextAssignment,this.nextAssignment=null),this.currentState.set("SKILL_TRAINING"),this.characterService.currentCareer.set(this.selectedCareer?.name||null),this.termEventLog.set([])),this.mandatoryContinue=!1}handleInjuryProcess(t){let e=t.severity;switch(this.injurySeverity=`Level ${e}`,this.injuryRoll=e,this.pendingInjuryStats=["STR","DEX","END"],e){case 1:this.injuryMajorLoss=100,this.characterService.log("**Injury**: Nearly Killed. Major reduction + others -2.");break;case 2:this.injuryMajorLoss=100,this.characterService.log("**Injury**: Severely Injured. Major reduction (1d6).");break;case 3:this.injuryMajorLoss=2,this.pendingInjuryStats=["STR","DEX"],this.characterService.log("**Injury**: Missing Eye/Limb. STR or DEX -2.");break;case 4:this.injuryMajorLoss=2,this.characterService.log("**Injury**: Scarred. Physical Char -2.");break;case 5:this.injuryMajorLoss=1,this.characterService.log("**Injury**: Injured. Physical Char -1.");break;default:this.injuryMajorLoss=0;break}this.injuryMajorLoss>0?this.isInjuryPrompt=!0:this.characterService.log("**Injury**: Light. No permanent loss.")}async calculateMedicalCoverage(){let t=this.getRank(),e=this.selectedCareer?.name||"",i=await this.careerTermService.calculateMedicalCoverage(e,t);return this.medicalCoverage=i*100,this.log(`Medical Coverage: ${this.medicalCoverage}%`),this.medicalCoverage}continueCareer(){let i=[...this.characterService.character().careerHistory].reverse().find(r=>r.careerName===this.selectedCareer?.name);i&&(this.currentRank.set(i.rank),this.isCommissionedCurrent.set(i.commissioned||!1)),this.finishTerm("CONTINUE")}async rollBenefit(t){let e=this.characterService.character(),i=this.musterOutCareerName;if(!i)return;let r=e.finances.benefitRollsAllocated||{},o=(r[i]||0)>0,a=(r.General||0)>0;if(!o&&!a||t==="Cash"&&this.musterOutCashRolls()>=this.musterOutMaxCashRolls)return;let l=this.careerService.getCareer(i);if(!l)return;let u=[],f=0;e.isSoftPath?(f-=1,u.push({label:"Soft Path",value:-1})):(f+=1,u.push({label:"Hard Path",value:1})),e.education?.offworld&&(f-=1,u.push({label:"Off-World Edu",value:-1}));let g=e.careerHistory.filter(Q=>Q.careerName===i);if(Math.max(...g.map(Q=>Q.rank),0)>=5&&(f+=1,u.push({label:"Rank 5+ Bonus",value:1})),t==="Cash"){let Q=e.skills.find(K=>K.name.includes("Gambler"));Q&&Q.level>=1&&(f+=1,u.push({label:"Gambler Skill",value:1}))}let _=i==="Noble"&&this.inheritanceBonusService.canUseInheritanceBonus(i);_?(this.showInheritanceBonus.set(!0),this.useInheritanceBonus()&&(f+=1,u.push({label:"Inheritance Bonus",value:1}))):(this.showInheritanceBonus.set(!1),this.useInheritanceBonus.set(!1));let y=t==="Cash"?l.musteringOutCash:l.musteringOutBenefits,L=await this.diceDisplay.roll("Benefit: "+t+" ("+i+")",1,f,0,"",Q=>{let K=Q+f;K<1&&(K=1),K>7&&(K=7);let re=K-1;return t==="Cash"?`Cash: Lv ${l.musteringOutCash[re]}`:`Benefit: ${l.musteringOutBenefits[re]}`},u,y)+f;L>7&&(L=7),L<1&&(L=1);let R=L-1,V=o?i:"General";if(t==="Cash"){let Q=l.musteringOutCash[R],K=V===i?i:`General (via ${i})`,re=`Cr${Q}k from ${K}`;this.characterService.updateFinances({cash:e.finances.cash+Q}),this.musterOutBenefitsLog.update(Ie=>[...Ie,re]),this.musterOutCashLog.update(Ie=>[...Ie,re]),this.characterService.spendBenefitRoll(V,1,!0)}else{let Q=l.musteringOutBenefits[R];if(typeof Q=="object"&&Q&&"choose"in Q){this.pendingBenefitChoice={options:Q.options,choose:Q.choose},this.benefitChoiceOptions.set(Q.options),this.isBenefitChoicePrompt.set(!0);return}let K=typeof Q=="string"?Q:JSON.stringify(Q),re=await this.rerollService.checkForReroll(i,K,L),Ie=[K];if(re==="double")Ie=[K,K];else if(re==="alternative"){let $e=await this.rerollService.getRerollRule(K,i);$e?.alternativeDescription?Ie=[$e.alternativeDescription]:Ie=[K]}await this.applyBenefits(Ie,i,V),_&&this.useInheritanceBonus()&&(this.inheritanceBonusService.useBonusForRoll(i),this.useInheritanceBonus.set(!1),this.showInheritanceBonus.set(!1))}let ee=this.characterService.character().finances.benefitRollsAllocated||{};(ee[i]||0)<=0&&(Object.values(ee).some(Q=>Q>0)?(this.currentState.set("CHOOSE_CAREER"),this.musterOutCareerName=null,this.selectedMusterOutCareer.set(null)):this.wasEjected()?(this.wasEjected.set(!1),this.currentState.set("TERM_END")):(await this.applyFinalBenefits(),this.wizardFlow.advance()))}async applyBenefits(t,e,i){let r=this.characterService.character(),o={Yacht:"YACHT","Free Trader":"FREE_TRADER","Scout Ship":"SCOUT_SHIP","Scout/Courier":"SCOUT_SHIP","Lab Ship":"LAB_SHIP","Scientific Research Ship":"LAB_SHIP","Ship's Boat":"SHIPS_BOAT"};for(let a of t){let l=V_(a);this.eventEngine.registerCustomHandler("AWARD_VEHICLE",async()=>{let g=o[a];if(g&&Lf[g])try{let m=[Lf[g]],_=await this.shipSelectionService.selectShip(e,m);if(_){this.characterService.addItem(_.name);let y=Math.ceil(_.mortgage);this.characterService.log(`**Ship Acquired**: ${_.name} (${_.tonnage}t, Cr${_.cost}M, 25% mortgage: Cr${y}k annually).`)}}catch{let _=await this.benefitChoiceService.selectVehicle(e);_&&(this.characterService.addItem(_.name),this.characterService.log(`**Vehicle Acquired**: ${_.name}.`))}else{let m=await this.benefitChoiceService.selectVehicle(e);m&&(this.characterService.addItem(m.name),this.characterService.log(`**Vehicle Acquired**: ${m.name}.`))}}),this.eventEngine.registerCustomHandler("AWARD_NPC",async g=>{let m=g.type||"Contact",_=await this.npcInteractionService.promptForNpc({role:m,notes:`Gained during Muster Out from ${e}`});_&&(this.characterService.addNpc(_),this.characterService.log(`**${m} Established**: ${_.name}.`))}),this.eventEngine.registerCustomHandler("SET_NEURAL_JACK",()=>{this.characterService.updateCharacter({hasNeuralJack:!0}),this.characterService.log("**Cybernetics**: Neural Jack interface installed.")}),await this.eventEngine.applyEffects(l);let u=i===e?e:`General (via ${e})`,f=`Benefit: ${a} from ${u}`;this.musterOutBenefitsLog.update(g=>[...g,f]),this.musterOutMaterialLog.update(g=>[...g,f]),this.characterService.spendBenefitRoll(i,1,!1),this.characterService.log(`**Muster-Out Benefit**: ${a}`)}}async applyFinalBenefits(){let t=this.characterService.character(),e=0;if(t.nationality==="Germany"){let l=(Math.floor(Math.random()*3)+1)*1e3;e+=l,this.characterService.log(`**German Bonus**: Gained extra Lv ${l} (1D3 kLv)`)}if(t.characteristics.soc.value>=10){let l=t.careerHistory.length,u=l*1e3;e+=u,this.characterService.log(`**High SOC Bonus**: Gained extra Lv ${u} (SOC 10+ bonus x ${l} terms)`)}let i=["Hand Comp (TL 10)","Link Phone (TL 10)","Standard Clothing"],o=[...t.equipment||[]];i.forEach(l=>{o.includes(l)||o.push(l)});let a=this.characterService.pension();this.characterService.updateCharacter({finances:A(E({},t.finances),{pension:a,cash:t.finances.cash+e}),equipment:o})}selectBenefitOption(t){if(this.pendingBenefitChoice){if(this.pendingBenefitChoice.choose==="all")this.selectedBenefitOptions=[...this.benefitChoiceOptions()];else if(typeof this.pendingBenefitChoice.choose=="number"){let e=this.pendingBenefitChoice.choose,i=this.selectedBenefitOptions.indexOf(t);i>=0?this.selectedBenefitOptions.splice(i,1):this.selectedBenefitOptions.length<e&&this.selectedBenefitOptions.push(t)}}}canConfirmBenefitChoice(){return this.pendingBenefitChoice?this.pendingBenefitChoice.choose==="all"?this.selectedBenefitOptions.length===this.benefitChoiceOptions().length:typeof this.pendingBenefitChoice.choose=="number"?this.selectedBenefitOptions.length===this.pendingBenefitChoice.choose:!1:!1}async confirmBenefitChoice(){if(!this.canConfirmBenefitChoice())return;let t=this.musterOutCareerName||"Unknown";await this.applyBenefits(this.selectedBenefitOptions,t,t),this.selectedBenefitOptions=[],this.isBenefitChoicePrompt.set(!1),this.pendingBenefitChoice=null}cancelBenefitChoice(){this.selectedBenefitOptions=[],this.isBenefitChoicePrompt.set(!1),this.pendingBenefitChoice=null}canProceedToNext(){return this.currentState()==="CHOOSE_CAREER"&&this.characterService.character().careerHistory.length>0}startMusteringOut(){this.log("Finalizing Career Phase..."),this.wizardFlow.advance()}getRankTitle(){if(!this.selectedAssignment)return"Rank 0";let t=this.currentRank();return this.isCommissioned()?this.getOfficerRankTitle(t):this.getRankTitleFor(t)}getRankTitleFor(t){if(!this.selectedAssignment)return`Rank ${t}`;let e=this.selectedAssignment.ranks.find(i=>i.level===t);return e?e.title:`Rank ${t}`}get hasAdvancedEducation(){return!!this.selectedCareer?.advancedEducation&&this.selectedCareer.advancedEducation.length>0}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=G({type:n,selectors:[["app-career"]],decls:24,vars:23,consts:[[1,"career-container"],["stepSymbol","SEC","stepNumber","06","superLabel","SERVICE_HISTORY_PROTOCOL","topLabel","CHRONOS_STATUS","title","CAREER_SERVICE_RECORDS",3,"subtitle"],["class","hud-module info fade-in",4,"ngIf"],["class","career-stack fade-in",4,"ngIf"],["class","hud-module error fade-in",4,"ngIf"],["class","hud-module success fade-in",4,"ngIf"],["class","modal-overlay",4,"ngIf"],["class","hud-module warning fade-in",4,"ngIf"],["class","hud-module fade-in",3,"mishap",4,"ngIf"],["class","hud-module fade-in",4,"ngIf"],["class","hud-module status fade-in",4,"ngIf"],["class","modal-overlay fade-in",4,"ngIf"],[1,"hud-module","info","fade-in"],[1,"hud-box-header"],[1,"index"],[1,"hud-content"],[1,"description"],[1,"hud-footer"],["class","btn-action",3,"click",4,"ngFor","ngForOf"],[1,"btn-action",3,"click"],[1,"career-stack","fade-in"],[1,"career-roster"],[1,"roster-header"],[1,"rh-id"],[1,"rh-name"],[1,"rh-qual"],[1,"rh-status"],["class","roster-row",3,"row-selected","row-disabled","click",4,"ngFor","ngForOf"],["class","global-actions",4,"ngIf"],[1,"roster-row",3,"click"],[1,"row-strip"],[1,"rs-id"],[1,"rs-led"],[1,"rs-name"],[1,"rs-qual"],[1,"qs-stat"],[1,"qs-sep"],[1,"qs-tgt"],[1,"rs-status"],[1,"rs-chevron"],["class","row-expand",3,"click",4,"ngIf"],[1,"row-expand",3,"click"],[1,"expand-info"],[1,"expand-desc"],["class","disabled-reason",4,"ngIf"],[1,"expand-config"],[1,"hud-label"],[1,"assign-chips"],["class","assign-chip",4,"ngFor","ngForOf"],[1,"expand-actions"],[1,"btn-action","enroll",3,"click","disabled"],[1,"disabled-reason"],[1,"icon"],[1,"assign-chip"],["type","radio","name","assignment",3,"change","value","checked"],[1,"chip-face"],[1,"chip-led"],[1,"chip-text"],[1,"chip-name"],[1,"chip-stat"],[1,"chip-corner"],[1,"global-actions"],[1,"divider"],[1,"btn-action","finalize",3,"click"],[1,"hud-module","error","fade-in"],[1,"corner-detail","tl"],[1,"corner-detail","tr"],[1,"corner-detail","bl"],[1,"corner-detail","br"],[1,"hud-alert","error"],[1,"instruction"],[1,"action-grid"],[1,"btn-action","warn",3,"click","disabled","title"],[1,"primary"],[1,"secondary"],[1,"status-msg"],[1,"hud-module","success","fade-in"],[1,"highlight"],["class","status-msg",4,"ngIf"],["class","btn-secondary",3,"click",4,"ngIf"],[1,"btn-secondary",3,"click"],[1,"skill-vector-grid"],[1,"vector-btn",3,"click"],[1,"v-label"],[1,"v-desc"],[1,"skill-preview"],["class","skill-item",4,"ngFor","ngForOf"],[1,"vector-btn",3,"click","disabled"],["class","skill-preview",4,"ngIf"],["class","vector-btn",3,"disabled","click",4,"ngIf"],[1,"skill-item"],[1,"num"],[1,"modal-overlay"],[1,"modal"],[1,"grid-options"],["class","btn-secondary",3,"click",4,"ngFor","ngForOf"],[1,"hud-module","warning","fade-in"],[1,"difficulty-badge"],[1,"tactical-row"],[1,"t-item"],[1,"t-label"],[1,"t-val"],["class","hud-alert error",4,"ngIf"],["class","hud-footer",4,"ngIf"],[1,"hud-label-vivid"],[1,"btn-danger",3,"click"],[1,"btn-action","large",3,"click","disabled"],[1,"sub-text"],[1,"hud-module","fade-in"],[1,"event-log-box"],[1,"event-text"],["class","btn-action",3,"click",4,"ngIf"],["class","btn-danger",3,"click",4,"ngIf"],[1,"btn-action","large",3,"click"],[1,"assignment-instruction"],[1,"assignment-grid"],["class","assignment-card",3,"click",4,"ngFor","ngForOf"],[1,"assignment-footer"],[1,"assignment-card",3,"click"],[1,"assignment-inner"],[1,"assignment-header"],[1,"assignment-name"],[1,"assignment-detail"],[1,"qual-label"],[1,"qual-value"],[1,"btn-action","btn-select-assignment"],[1,"allocation-summary"],[1,"summary-block"],[1,"summary-row"],[1,"label"],[1,"value"],[1,"summary-row","cash-row"],[1,"inheritance-bonus-panel"],[1,"benefits-grid"],[1,"benefits-column","cash-column"],[1,"column-header"],[1,"header-icon"],[1,"header-title"],[1,"benefits-table"],[1,"table-header"],[1,"col-roll"],[1,"col-amount"],[1,"table-body"],[1,"table-row","no-data"],[1,"benefits-column","material-column"],[1,"col-benefit"],[1,"btn-action",3,"click","disabled","title"],["title","Roll for material benefit",1,"btn-action",3,"click"],[1,"btn-secondary",3,"click","disabled"],[1,"bonus-header"],[1,"bonus-icon"],[1,"bonus-title"],[1,"bonus-content"],[1,"checkbox-container"],["type","checkbox",3,"change","checked"],[1,"checkbox-label"],[1,"bonus-count"],[1,"table-row","cash-entry"],[1,"table-row","material-entry"],[1,"hud-module","status","fade-in"],[1,"term-summary-mfd"],[1,"s-card"],[1,"s-label"],[1,"s-val"],["class","s-card",4,"ngIf"],["class","hud-alert info",4,"ngIf"],[1,"mission-log-container"],[1,"mission-log-entries"],["class","log-entry",4,"ngFor","ngForOf"],[1,"btn-action",3,"click","disabled"],[1,"btn-reconfig",3,"click","disabled"],[1,"btn-danger",3,"click","disabled"],[1,"hud-alert","info"],["class","highlight-vivid",4,"ngIf"],[1,"highlight-vivid"],[1,"log-entry"],[1,"prefix"],[1,"modal-overlay","fade-in"],[1,"modal","hud-module","warning"],[1,"modal","hud-module","status"],[1,"modal","hud-module","info"],["class","btn-action",3,"hidden","click",4,"ngFor","ngForOf"],[1,"btn-action",3,"click","hidden"],[4,"ngIf"],["class","btn-secondary",3,"selected","click",4,"ngFor","ngForOf"]],template:function(e,i){e&1&&(s(0,"div",0),M(1,"app-step-header",1),b(2,Tw,11,3,"div",2)(3,Fw,18,2,"div",3)(4,Vw,29,3,"div",4)(5,Uw,21,3,"div",5)(6,Jw,36,8,"div",2)(7,Zw,7,2,"div",6)(8,tD,28,5,"div",7)(9,rD,17,6,"div",8)(10,oD,26,3,"div",2)(11,sD,13,1,"div",3)(12,cD,27,1,"div",9)(13,vD,91,18,"div",5)(14,MD,32,11,"div",10)(15,ED,12,3,"div",11)(16,SD,27,3,"div",11)(17,wD,10,3,"div",11)(18,ID,10,1,"div",11)(19,kD,12,3,"div",11)(20,RD,14,2,"div",11)(21,jD,16,4,"div",11),c(),M(22,"app-ship-selection-dialog")(23,"app-benefit-reroll-dialog")),e&2&&(p(),v("subtitle",mp("Term ",i.currentTerm()," (Age ",i.currentAge(),")")),p(),v("ngIf",i.activeEvent&&!i.isDirectRollCheck()),p(),v("ngIf",i.currentState()==="CHOOSE_CAREER"),p(),v("ngIf",i.currentState()==="QUALIFICATION_FAILURE"),p(),v("ngIf",i.currentState()==="BASIC_TRAINING"),p(),v("ngIf",i.currentState()==="SKILL_TRAINING"||i.currentState()==="POST_TERM_SKILL_TRAINING"),p(),v("ngIf",i.showSkillSelection),p(),v("ngIf",i.currentState()==="SURVIVAL"&&!(i.activeEvent&&!i.isDirectRollCheck())),p(),v("ngIf",i.currentState()==="EVENT"||i.currentState()==="MISHAP"),p(),v("ngIf",i.currentState()==="ADVANCEMENT"),p(),v("ngIf",i.currentState()==="CHANGE_ASSIGNMENT"),p(),v("ngIf",i.currentState()==="LEAVING_HOME"),p(),v("ngIf",i.currentState()==="MUSTER_OUT_ROLLING"),p(),v("ngIf",i.currentState()==="TERM_END"),p(),v("ngIf",i.isInjuryPrompt),p(),v("ngIf",i.isInjuryDecisionActive),p(),v("ngIf",i.isStatReductionChoice),p(),v("ngIf",i.isSkillChoicePrompt),p(),v("ngIf",i.isGamblingPrompt),p(),v("ngIf",i.isNpcPrompt&&i.characterService.character().npcs.length>0&&i.pendingNpcType==="rival"),p(),v("ngIf",i.isBenefitChoicePrompt()))},dependencies:[Z,_e,ne,rt,Fe,ul,pl,Wt],styles:['.career-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem;padding:1.5rem 1.5rem 5rem;max-width:1200px;margin:0 auto;position:relative;box-sizing:border-box}.event-content[_ngcontent-%COMP%]{display:flex;flex-direction:column}.event-content[_ngcontent-%COMP%]   .event-description[_ngcontent-%COMP%]{font-size:1.1rem;line-height:1.6;color:#fff;margin-bottom:1.5rem;text-shadow:0 0 5px rgba(0,0,0,.8);border-left:2px solid var(--neon-cyan-glow);padding-left:1rem;background:linear-gradient(90deg,rgba(0,243,255,.05) 0%,transparent 100%);padding:1rem}.event-content[_ngcontent-%COMP%]   .visual-rep[_ngcontent-%COMP%]{margin-top:1rem;display:flex;justify-content:center}.event-content[_ngcontent-%COMP%]   .visual-rep[_ngcontent-%COMP%]   .img-frame[_ngcontent-%COMP%]{position:relative;border:1px solid var(--neon-cyan-glow);padding:4px;background:#0000004d}.event-content[_ngcontent-%COMP%]   .visual-rep[_ngcontent-%COMP%]   .img-frame[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:250px;display:block;filter:sepia(20%) hue-rotate(180deg) contrast(1.1) saturate(.8);mix-blend-mode:luminosity;transition:all .5s}.event-content[_ngcontent-%COMP%]   .visual-rep[_ngcontent-%COMP%]   .img-frame[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{filter:none;mix-blend-mode:normal}.event-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;flex-wrap:wrap;justify-content:center;width:100%}.career-header[_ngcontent-%COMP%]{margin-bottom:1rem}.career-header[_ngcontent-%COMP%]   .hud-label-tiny[_ngcontent-%COMP%]{font-family:var(--font-mono);font-size:.5rem;color:var(--neon-cyan);letter-spacing:3px;opacity:.6;display:block;margin-bottom:.4rem}.career-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:var(--text-main);font-size:1.1rem;margin:0;font-family:var(--font-accent);text-transform:uppercase;letter-spacing:4px;display:flex;align-items:center;gap:1rem}.career-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]:before{content:"";width:14px;height:14px;background:var(--neon-cyan);clip-path:polygon(0 0,100% 0,80% 100%,0 100%);box-shadow:0 0 10px var(--neon-cyan-glow)}.hud-box-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;margin-bottom:1.5rem;border-left:3px solid var(--neon-cyan);padding-left:1rem;background:linear-gradient(90deg,rgba(0,243,255,.05) 0%,transparent 100%)}.hud-box-header[_ngcontent-%COMP%]   .index[_ngcontent-%COMP%]{font-family:var(--font-mono);font-size:.7rem;color:var(--neon-cyan);opacity:.6}.hud-box-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#fff;font-family:var(--font-header);font-size:1.2rem;text-transform:uppercase;letter-spacing:3px}.career-stack[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;width:100%}.career-roster[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;border:1px solid rgba(0,243,255,.12);background:#00000073;position:relative;overflow:hidden}.career-roster[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:linear-gradient(rgba(0,243,255,.018) 1px,transparent 1px),linear-gradient(90deg,rgba(0,243,255,.018) 1px,transparent 1px);background-size:40px 7px;pointer-events:none;z-index:0}.roster-header[_ngcontent-%COMP%]{display:grid;grid-template-columns:38px 12px 1fr 110px 120px;gap:0;padding:.3rem 1rem .3rem .8rem;background:#00f3ff0a;border-bottom:1px solid rgba(0,243,255,.15);font-family:var(--font-mono);font-size:.45rem;letter-spacing:3px;color:var(--neon-cyan);opacity:.5;position:relative;z-index:1;text-transform:uppercase}.roster-row[_ngcontent-%COMP%]{position:relative;z-index:1;border-bottom:1px solid rgba(0,243,255,.07);cursor:pointer;transition:background .2s}.roster-row[_ngcontent-%COMP%]:before{content:"";position:absolute;left:0;top:0;bottom:0;width:2px;background:var(--neon-cyan);opacity:0;transition:opacity .2s}.roster-row[_ngcontent-%COMP%]:hover:not(.row-disabled){background:#00f3ff08}.roster-row[_ngcontent-%COMP%]:hover:not(.row-disabled):before{opacity:.5}.roster-row[_ngcontent-%COMP%]:hover:not(.row-disabled)   .rs-name[_ngcontent-%COMP%]{color:#fff}.roster-row[_ngcontent-%COMP%]:hover:not(.row-disabled)   .rs-chevron[_ngcontent-%COMP%]{opacity:.8}.roster-row.row-selected[_ngcontent-%COMP%]{background:linear-gradient(90deg,#ffee000d,#0000 60%)}.roster-row.row-selected[_ngcontent-%COMP%]:before{background:var(--cyber-yellow);opacity:1}.roster-row.row-disabled[_ngcontent-%COMP%]{opacity:.38;cursor:not-allowed;filter:grayscale(.6)}.row-strip[_ngcontent-%COMP%]{display:grid;grid-template-columns:38px 12px 1fr 110px 120px 20px;gap:0;align-items:center;padding:.55rem 1rem .55rem .8rem;min-height:42px}.rs-id[_ngcontent-%COMP%]{font-family:var(--font-mono);font-size:.65rem;color:#00f3ff59;letter-spacing:1px}.rs-led[_ngcontent-%COMP%]{width:7px;height:7px;border-radius:50%;background:#ffffff1f;border:1px solid rgba(255,255,255,.15);transition:all .3s;flex-shrink:0}.rs-led.led-active[_ngcontent-%COMP%]{background:var(--cyber-yellow);border-color:var(--cyber-yellow);box-shadow:0 0 6px var(--cyber-yellow),0 0 14px #fe06}.rs-led.led-locked[_ngcontent-%COMP%]{background:#641e1e99;border-color:#b4282866}.rs-name[_ngcontent-%COMP%]{font-family:var(--font-header);font-size:.9rem;color:#ffffffbf;letter-spacing:2px;text-transform:uppercase;padding-left:.8rem;transition:color .2s}.row-selected[_ngcontent-%COMP%]   .rs-name[_ngcontent-%COMP%]{color:#fff;text-shadow:0 0 12px rgba(255,238,0,.25)}.rs-qual[_ngcontent-%COMP%]{display:flex;align-items:baseline;gap:3px;font-family:var(--font-mono)}.rs-qual[_ngcontent-%COMP%]   .qs-stat[_ngcontent-%COMP%]{font-size:.65rem;color:var(--text-dim);opacity:.6;text-transform:uppercase}.rs-qual[_ngcontent-%COMP%]   .qs-sep[_ngcontent-%COMP%]{font-size:.5rem;color:#fff3}.rs-qual[_ngcontent-%COMP%]   .qs-tgt[_ngcontent-%COMP%]{font-size:.75rem;color:var(--neon-cyan);font-weight:700}.rs-status[_ngcontent-%COMP%]{font-family:var(--font-mono);font-size:.5rem;letter-spacing:2px;text-transform:uppercase;color:#00f3ff66;text-align:right;padding-right:.8rem;white-space:nowrap}.rs-status.st-selected[_ngcontent-%COMP%]{color:var(--cyber-yellow)}.rs-status.st-locked[_ngcontent-%COMP%]{color:#c83c3c99}.rs-chevron[_ngcontent-%COMP%]{font-size:.7rem;color:#00f3ff4d;transition:all .25s;text-align:right;opacity:.4}.rs-chevron.open[_ngcontent-%COMP%]{transform:rotate(90deg);color:var(--cyber-yellow);opacity:1}.row-expand[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1.2fr;gap:0;border-top:1px solid rgba(255,238,0,.12);background:linear-gradient(90deg,#ffee0005,#00f3ff05);animation:_ngcontent-%COMP%_expand-in .2s ease-out;overflow:hidden}@media(max-width:700px){.row-expand[_ngcontent-%COMP%]{grid-template-columns:1fr}}@keyframes _ngcontent-%COMP%_expand-in{0%{opacity:0;transform:translateY(-6px)}to{opacity:1;transform:translateY(0)}}.expand-info[_ngcontent-%COMP%]{padding:1rem 1.2rem 1rem 1rem;border-right:1px solid rgba(0,243,255,.1);display:flex;flex-direction:column;gap:.6rem}.expand-info[_ngcontent-%COMP%]   .expand-desc[_ngcontent-%COMP%]{font-family:var(--font-mono);font-size:.7rem;line-height:1.55;color:var(--text-dim);opacity:.75;margin:0}.expand-info[_ngcontent-%COMP%]   .disabled-reason[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.35rem .7rem;background:#ff000014;border:1px solid rgba(255,0,0,.2);border-left:2px solid var(--power-red);font-family:var(--font-mono);font-size:.62rem;color:var(--power-red);text-transform:uppercase;letter-spacing:1px}.expand-info[_ngcontent-%COMP%]   .disabled-reason[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:.75rem}.expand-config[_ngcontent-%COMP%]{padding:1rem 1.2rem;display:flex;flex-direction:column;gap:.8rem;background:#0003}.expand-config[_ngcontent-%COMP%]   .hud-label[_ngcontent-%COMP%]{font-family:var(--font-mono);font-size:.42rem;color:var(--vivid-orange);letter-spacing:2px;text-transform:uppercase}.assign-chips[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem}.assign-chip[_ngcontent-%COMP%]{cursor:pointer;flex:1;min-width:130px}.assign-chip[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}.assign-chip[_ngcontent-%COMP%]   .chip-face[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.55rem .8rem;background:#ffffff08;border:1px solid rgba(255,255,255,.1);clip-path:polygon(6px 0,100% 0,calc(100% - 6px) 100%,0 100%);transition:all .2s;position:relative;overflow:hidden}.assign-chip[_ngcontent-%COMP%]   .chip-face[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:-100%;width:60%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.04),transparent);transition:left .35s;pointer-events:none}.assign-chip[_ngcontent-%COMP%]   .chip-face[_ngcontent-%COMP%]   .chip-led[_ngcontent-%COMP%]{width:5px;height:5px;border-radius:50%;background:#ffffff26;border:1px solid rgba(255,255,255,.2);flex-shrink:0;transition:all .2s}.assign-chip[_ngcontent-%COMP%]   .chip-face[_ngcontent-%COMP%]   .chip-text[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px;flex:1}.assign-chip[_ngcontent-%COMP%]   .chip-face[_ngcontent-%COMP%]   .chip-text[_ngcontent-%COMP%]   .chip-name[_ngcontent-%COMP%]{font-family:var(--font-header);font-size:.75rem;color:#ffffffa6;text-transform:uppercase;letter-spacing:1px;line-height:1}.assign-chip[_ngcontent-%COMP%]   .chip-face[_ngcontent-%COMP%]   .chip-text[_ngcontent-%COMP%]   .chip-stat[_ngcontent-%COMP%]{font-family:var(--font-mono);font-size:.55rem;color:var(--neon-cyan);opacity:.6}.assign-chip[_ngcontent-%COMP%]   .chip-face[_ngcontent-%COMP%]   .chip-corner[_ngcontent-%COMP%]{position:absolute;bottom:0;right:0;width:8px;height:8px;background:#00f3ff1a;clip-path:polygon(100% 0,100% 100%,0 100%)}.assign-chip[_ngcontent-%COMP%]:hover   .chip-face[_ngcontent-%COMP%]{border-color:#00f3ff59;background:#00f3ff0d}.assign-chip[_ngcontent-%COMP%]:hover   .chip-face[_ngcontent-%COMP%]:before{left:140%}.assign-chip[_ngcontent-%COMP%]:hover   .chip-face[_ngcontent-%COMP%]   .chip-name[_ngcontent-%COMP%]{color:#fff}.assign-chip[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .chip-face[_ngcontent-%COMP%]{background:#ff8c001a;border-color:var(--vivid-orange);box-shadow:0 0 10px #ff8c001a,inset 0 0 8px #ff8c000a}.assign-chip[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .chip-face[_ngcontent-%COMP%]   .chip-led[_ngcontent-%COMP%]{background:var(--vivid-orange);border-color:var(--vivid-orange);box-shadow:0 0 6px var(--vivid-orange)}.assign-chip[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .chip-face[_ngcontent-%COMP%]   .chip-name[_ngcontent-%COMP%]{color:#fff}.assign-chip[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .chip-face[_ngcontent-%COMP%]   .chip-stat[_ngcontent-%COMP%]{opacity:1;color:var(--vivid-orange)}.assign-chip[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .chip-face[_ngcontent-%COMP%]   .chip-corner[_ngcontent-%COMP%]{background:#ff8c004d}.expand-actions[_ngcontent-%COMP%]{margin-top:auto;display:flex;justify-content:flex-end}.expand-actions[_ngcontent-%COMP%]   .btn-action.enroll[_ngcontent-%COMP%]{padding:.65rem 2rem;font-size:.72rem;letter-spacing:2px;clip-path:polygon(8px 0,100% 0,calc(100% - 8px) 100%,0 100%)}.career-card[_ngcontent-%COMP%]{background:#0006;border:1px solid rgba(0,243,255,.1);cursor:pointer;transition:all .3s cubic-bezier(.4,0,.2,1);-webkit-backdrop-filter:blur(var(--backdrop-blur));backdrop-filter:blur(var(--backdrop-blur));position:relative;overflow:hidden;min-height:80px;display:flex;flex-direction:column}.career-card[_ngcontent-%COMP%]:after{content:"[ CAREER_DATA ]";position:absolute;top:8px;right:12px;font-family:var(--font-mono);font-size:.45rem;color:var(--neon-cyan);opacity:.2}.career-card[_ngcontent-%COMP%]:hover{border-color:#00f3ff66;background:#00f3ff08}.career-card.selected[_ngcontent-%COMP%]{border-color:var(--cyber-yellow);background:#ffee000d;min-height:250px}.career-card.selected[_ngcontent-%COMP%]   .index[_ngcontent-%COMP%]{color:var(--cyber-yellow)}.career-card.disabled[_ngcontent-%COMP%]{opacity:.5;filter:grayscale(.8);cursor:not-allowed;border-color:#ffffff0d}.career-card.disabled[_ngcontent-%COMP%]:hover{background:transparent;border-color:#ffffff0d}.career-card.disabled[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{opacity:.5}.career-card.disabled[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{color:var(--text-dim)!important;opacity:.5}.card-layout[_ngcontent-%COMP%]{display:flex;flex:1;width:100%}.card-layout[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}@media(min-width:800px){.card-layout[_ngcontent-%COMP%]{flex-direction:row}}.info-column[_ngcontent-%COMP%]{flex:1;padding:1rem;border-right:1px dashed rgba(0,243,255,.1);display:flex;flex-direction:column;gap:.8rem}.info-column[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.8rem}.info-column[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .index[_ngcontent-%COMP%]{font-family:var(--font-mono);font-size:.7rem;color:var(--neon-cyan)}.info-column[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#fff;font-family:var(--font-header);font-size:1.1rem;text-transform:uppercase}.info-column[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 .5rem;font-size:.75rem;font-family:var(--font-mono);color:var(--text-dim)}.info-column[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{opacity:.5}.info-column[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{color:var(--neon-cyan);font-weight:700;margin-left:.5rem}.info-column[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .description-text[_ngcontent-%COMP%]{font-size:.75rem;line-height:1.4;color:var(--text-dim);opacity:.8;margin-top:.4rem;max-width:500px}.info-column[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .disabled-reason[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin-top:.8rem;padding:.4rem .8rem;background:#ff00001a;border:1px solid rgba(255,0,0,.2);font-family:var(--font-mono);font-size:.65rem;color:var(--power-red);text-transform:uppercase;letter-spacing:1px;clip-path:polygon(0 0,100% 0,95% 100%,0 100%)}.info-column[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .disabled-reason[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:.8rem}.config-column[_ngcontent-%COMP%]{width:380px;padding:1rem;background:#0003;display:flex;flex-direction:column;gap:1rem;position:relative}.config-column.action-centered[_ngcontent-%COMP%]{justify-content:center;align-items:center}.config-column[_ngcontent-%COMP%]   .hud-label[_ngcontent-%COMP%]{font-family:var(--font-mono);font-size:.45rem;color:var(--vivid-orange);letter-spacing:1px;margin-bottom:.4rem;display:block}.radio-tab-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;overflow-y:auto;max-height:180px;padding-right:4px}.radio-tab-group[_ngcontent-%COMP%]::-webkit-scrollbar{width:4px}.radio-tab-group[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#ff8c0033}.radio-tab[_ngcontent-%COMP%]{cursor:pointer;position:relative}.radio-tab[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;opacity:0}.radio-tab[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.6rem .8rem;background:#ffffff08;border:1px solid rgba(255,255,255,.1);font-family:var(--font-mono);transition:all .2s;clip-path:polygon(4px 0,100% 0,calc(100% - 4px) 100%,0 100%)}.radio-tab[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .primary[_ngcontent-%COMP%]{font-size:.75rem;color:#fff}.radio-tab[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .secondary[_ngcontent-%COMP%]{font-size:.65rem;color:var(--neon-cyan);opacity:.8}.radio-tab[_ngcontent-%COMP%]:hover   .tab-content[_ngcontent-%COMP%]{border-color:#ff8c004d}.radio-tab[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .tab-content[_ngcontent-%COMP%]{background:#ff8c001a;border-color:var(--vivid-orange)}.btn-action[_ngcontent-%COMP%]{padding:.8rem 1.8rem;background:#00f3ff14;border:2px solid var(--neon-cyan);color:var(--neon-cyan);font-size:.75rem;font-weight:900;font-family:var(--font-accent);text-transform:uppercase;cursor:pointer;transition:all .3s cubic-bezier(.34,1.56,.64,1);letter-spacing:2px;clip-path:polygon(8px 0,100% 0,calc(100% - 8px) 100%,0 100%);display:flex;flex-direction:column;align-items:center;line-height:1.2;position:relative;overflow:hidden;text-shadow:0 0 10px rgba(0,243,255,.3)}.btn-action[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(0,243,255,.3),transparent);transition:left .5s ease}.btn-action[_ngcontent-%COMP%]   .sub-text[_ngcontent-%COMP%]{font-size:.6rem;font-family:var(--font-mono);opacity:.6;letter-spacing:0;margin-top:2px}.btn-action[_ngcontent-%COMP%]   .primary[_ngcontent-%COMP%]{display:block;font-size:.9rem;letter-spacing:2px;transition:letter-spacing .3s ease}.btn-action[_ngcontent-%COMP%]   .secondary[_ngcontent-%COMP%]{display:block;font-size:.6rem;opacity:.75;margin-top:2px;letter-spacing:1px}.btn-action[_ngcontent-%COMP%]:hover:not(:disabled){background:#00f3ff33;color:#fff;box-shadow:0 0 30px #00f3ff99,0 0 60px #00f3ff4d,inset 0 0 20px #00f3ff1a;border-color:#fff;transform:scale(1.06) translateY(-2px);text-shadow:0 0 15px rgba(0,243,255,.8)}.btn-action[_ngcontent-%COMP%]:hover:not(:disabled):before{left:100%}.btn-action[_ngcontent-%COMP%]:hover:not(:disabled)   .primary[_ngcontent-%COMP%]{letter-spacing:3px}.btn-action[_ngcontent-%COMP%]:active:not(:disabled){transform:scale(.98);background:#00f3ff4d;box-shadow:0 0 40px #00f3ff80,inset 0 0 30px #00f3ff26}.btn-action[_ngcontent-%COMP%]:disabled{opacity:.25;cursor:not-allowed;box-shadow:none;transform:none}.btn-action.warn[_ngcontent-%COMP%]{border-color:var(--vivid-orange);color:var(--vivid-orange);background:#ff8c0014;text-shadow:0 0 10px rgba(255,140,0,.3)}.btn-action.warn[_ngcontent-%COMP%]:before{background:linear-gradient(90deg,transparent,rgba(255,140,0,.3),transparent)}.btn-action.warn[_ngcontent-%COMP%]:hover:not(:disabled){background:#ff8c0033;color:#fff;box-shadow:0 0 30px #ff8c0099,0 0 60px #ff8c004d,inset 0 0 20px #ff8c001a;border-color:#fff;text-shadow:0 0 15px rgba(255,140,0,.8)}.btn-action.finalize[_ngcontent-%COMP%]{border-color:var(--cyber-yellow);color:var(--cyber-yellow);background:#ffee0014;text-shadow:0 0 10px rgba(255,230,0,.3)}.btn-action.finalize[_ngcontent-%COMP%]:before{background:linear-gradient(90deg,transparent,rgba(255,238,0,.3),transparent)}.btn-action.finalize[_ngcontent-%COMP%]:hover:not(:disabled){background:#fe03;color:#000;box-shadow:0 0 30px #ffe60099,0 0 60px #ffe6004d,inset 0 0 20px #ffe6001a;border-color:#fff;text-shadow:0 0 15px rgba(255,230,0,.8)}.btn-secondary[_ngcontent-%COMP%]{padding:.7rem 1.5rem;background:#ffffff14;border:2px solid rgba(255,255,255,.2);color:var(--text-dim);font-family:var(--font-header);font-size:.7rem;font-weight:700;text-transform:uppercase;cursor:pointer;transition:all .3s cubic-bezier(.34,1.56,.64,1);letter-spacing:1px;clip-path:polygon(6px 0,100% 0,calc(100% - 6px) 100%,0 100%);position:relative;overflow:hidden;text-shadow:0 0 8px rgba(255,255,255,.2)}.btn-secondary[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.2),transparent);transition:left .5s ease}.btn-secondary[_ngcontent-%COMP%]:hover:not(:disabled){border-color:#fff;color:#fff;background:#ffffff26;box-shadow:0 0 20px #fff3,inset 0 0 15px #ffffff0d;transform:scale(1.04) translateY(-2px);text-shadow:0 0 12px rgba(255,255,255,.5)}.btn-secondary[_ngcontent-%COMP%]:hover:not(:disabled):before{left:100%}.btn-secondary[_ngcontent-%COMP%]:active:not(:disabled){transform:scale(.98);background:#fff3;box-shadow:0 0 25px #ffffff4d,inset 0 0 20px #ffffff1a}.btn-secondary[_ngcontent-%COMP%]:disabled{opacity:.2;cursor:not-allowed;box-shadow:none;transform:none}.btn-reconfig[_ngcontent-%COMP%]{padding:.8rem 1.8rem;background:#ff8c001a;border:2px solid var(--vivid-orange);color:var(--vivid-orange);font-family:var(--font-accent);font-size:.75rem;font-weight:700;text-transform:uppercase;cursor:pointer;transition:all .3s cubic-bezier(.34,1.56,.64,1);letter-spacing:2px;clip-path:polygon(8px 0,100% 0,calc(100% - 8px) 100%,0 100%);position:relative;overflow:hidden;text-shadow:0 0 10px rgba(255,140,0,.4)}.btn-reconfig[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,140,0,.3),transparent);transition:left .5s ease}.btn-reconfig[_ngcontent-%COMP%]:hover:not(:disabled){background:#ff8c0033;color:#fff;box-shadow:0 0 30px #ff8c0099,0 0 60px #ff8c004d,inset 0 0 20px #ff8c001a;border-color:#fff;transform:scale(1.06) translateY(-2px);text-shadow:0 0 15px rgba(255,140,0,.8)}.btn-reconfig[_ngcontent-%COMP%]:hover:not(:disabled):before{left:100%}.btn-reconfig[_ngcontent-%COMP%]:active:not(:disabled){transform:scale(.96);background:#ff8c004d;box-shadow:0 0 40px #ff8c00cc,inset 0 0 30px #ff8c0026}.btn-reconfig[_ngcontent-%COMP%]:disabled{opacity:.2;cursor:not-allowed;box-shadow:none;transform:none}.btn-danger[_ngcontent-%COMP%]{padding:.7rem 1.6rem;background:#ff003c14;border:2px solid var(--power-red);color:var(--power-red);font-family:var(--font-accent);font-size:.75rem;font-weight:700;text-transform:uppercase;cursor:pointer;transition:all .3s cubic-bezier(.34,1.56,.64,1);letter-spacing:2px;clip-path:polygon(8px 0,100% 0,calc(100% - 8px) 100%,0 100%);position:relative;overflow:hidden;text-shadow:0 0 10px rgba(255,0,60,.3)}.btn-danger[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,0,60,.3),transparent);transition:left .5s ease}.btn-danger[_ngcontent-%COMP%]:hover:not(:disabled){background:#ff003c33;color:#fff;box-shadow:0 0 30px #ff003c99,0 0 60px #ff003c4d,inset 0 0 20px #ff003c1a;border-color:#fff;transform:scale(1.06) translateY(-2px);text-shadow:0 0 15px rgba(255,0,60,.8)}.btn-danger[_ngcontent-%COMP%]:hover:not(:disabled):before{left:100%}.btn-danger[_ngcontent-%COMP%]:active:not(:disabled){transform:scale(.98);background:#ff003c4d;box-shadow:0 0 40px #ff003c80,inset 0 0 30px #ff003c26}.btn-danger[_ngcontent-%COMP%]:disabled{opacity:.25;cursor:not-allowed;box-shadow:none;transform:none}.hud-module[_ngcontent-%COMP%]{background:#0a0f14f2;border:1px solid rgba(0,243,255,.25);border-radius:2px;display:flex;flex-direction:column;overflow:hidden;animation:_ngcontent-%COMP%_slideUp .4s ease-out;position:relative;box-shadow:0 0 30px #00000080}.hud-module[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:1px;background:linear-gradient(90deg,transparent,rgba(0,243,255,.5),transparent);z-index:2}.hud-module[_ngcontent-%COMP%]   .hud-content[_ngcontent-%COMP%]{padding:2rem;position:relative}.hud-module[_ngcontent-%COMP%]   .hud-content[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient(rgba(0,243,255,.03) 1px,transparent 1px);background-size:100% 4px;pointer-events:none;opacity:.1}.hud-module[_ngcontent-%COMP%]   .hud-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-dim);font-size:.9rem;line-height:1.7;margin:0;font-family:var(--font-body)}.hud-module[_ngcontent-%COMP%]   .hud-content[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{color:var(--neon-cyan);font-weight:700}.hud-module[_ngcontent-%COMP%]   .hud-content[_ngcontent-%COMP%]   .status-msg[_ngcontent-%COMP%]{font-family:var(--font-mono);font-size:.7rem;color:var(--neon-cyan);opacity:.7;margin-top:1rem;padding:.5rem;background:#00f3ff0d;border-left:2px solid var(--neon-cyan)}.hud-module[_ngcontent-%COMP%]   .hud-footer[_ngcontent-%COMP%]{padding:1rem 2rem;background:#0000004d;border-top:1px solid rgba(255,255,255,.05);display:flex;justify-content:flex-end;gap:1rem;align-items:center}.hud-module.mishap[_ngcontent-%COMP%]{border-color:var(--power-red)}.hud-module.mishap[_ngcontent-%COMP%]   .hud-box-header[_ngcontent-%COMP%]{border-left-color:var(--power-red);background:linear-gradient(90deg,rgba(255,0,0,.1) 0%,transparent 100%)}.hud-module.mishap[_ngcontent-%COMP%]   .event-log-box[_ngcontent-%COMP%]{border-left-color:var(--power-red)}.hud-module[_ngcontent-%COMP%]   .corner-detail[_ngcontent-%COMP%]{position:absolute;width:15px;height:15px;border:2px solid var(--neon-cyan);opacity:.4;pointer-events:none}.hud-module[_ngcontent-%COMP%]   .corner-detail.tl[_ngcontent-%COMP%]{top:-2px;left:-2px;border-right:0;border-bottom:0}.hud-module[_ngcontent-%COMP%]   .corner-detail.tr[_ngcontent-%COMP%]{top:-2px;right:-2px;border-left:0;border-bottom:0}.hud-module[_ngcontent-%COMP%]   .corner-detail.bl[_ngcontent-%COMP%]{bottom:-2px;left:-2px;border-right:0;border-top:0}.hud-module[_ngcontent-%COMP%]   .corner-detail.br[_ngcontent-%COMP%]{bottom:-2px;right:-2px;border-left:0;border-top:0}.difficulty-badge[_ngcontent-%COMP%]{margin-left:auto;background:#ffffff1a;padding:.2rem .6rem;font-family:var(--font-mono);font-size:.7rem;color:var(--cyber-yellow);border:1px solid rgba(255,238,0,.3);clip-path:polygon(0 0,100% 0,90% 100%,10% 100%)}.outcome-message[_ngcontent-%COMP%]{text-align:center;font-weight:700}.tactical-row[_ngcontent-%COMP%]{display:flex;gap:3rem;margin:1.5rem 0}.tactical-row[_ngcontent-%COMP%]   .t-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.2rem}.tactical-row[_ngcontent-%COMP%]   .t-item[_ngcontent-%COMP%]   .t-label[_ngcontent-%COMP%]{font-family:var(--font-mono);font-size:.6rem;color:var(--text-dim);opacity:.5}.tactical-row[_ngcontent-%COMP%]   .t-item[_ngcontent-%COMP%]   .t-val[_ngcontent-%COMP%]{font-family:var(--font-header);font-size:1.5rem;color:var(--neon-cyan);text-shadow:0 0 10px var(--neon-cyan-glow)}.skill-vector-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:1.2rem;margin-top:2rem;max-width:900px}.vector-btn[_ngcontent-%COMP%]{background:#00f3ff0d;border:2px solid rgba(0,243,255,.15);padding:1.5rem;cursor:pointer;display:flex;flex-direction:column;text-align:left;transition:all .3s cubic-bezier(.34,1.56,.64,1);position:relative;overflow:hidden;clip-path:polygon(8px 0,100% 0,calc(100% - 8px) 100%,0 100%)}.vector-btn[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(0,243,255,.25),transparent);transition:left .5s ease}.vector-btn[_ngcontent-%COMP%]   .v-label[_ngcontent-%COMP%]{font-family:var(--font-header);font-size:.9rem;color:#fffc;letter-spacing:2px;text-transform:uppercase;position:relative;z-index:1;transition:all .3s ease;text-shadow:0 0 8px rgba(0,243,255,.2)}.vector-btn[_ngcontent-%COMP%]   .v-desc[_ngcontent-%COMP%]{font-family:var(--font-mono);font-size:.6rem;color:var(--text-dim);margin-top:.5rem;opacity:.5;letter-spacing:1px;position:relative;z-index:1;transition:all .3s ease}.vector-btn[_ngcontent-%COMP%]   .skill-preview[_ngcontent-%COMP%]{margin-top:1rem;display:grid;grid-template-columns:1fr 1fr;gap:.4rem;border-top:1px solid rgba(0,243,255,.15);padding-top:.8rem;pointer-events:none;opacity:.5;transition:all .3s ease;position:relative;z-index:1}.vector-btn[_ngcontent-%COMP%]   .skill-preview[_ngcontent-%COMP%]   .skill-item[_ngcontent-%COMP%]{font-family:var(--font-mono);font-size:.65rem;color:var(--text-dim);display:flex;align-items:center;gap:.4rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;transition:all .3s ease}.vector-btn[_ngcontent-%COMP%]   .skill-preview[_ngcontent-%COMP%]   .skill-item[_ngcontent-%COMP%]   .num[_ngcontent-%COMP%]{color:var(--neon-cyan);font-weight:700;font-size:.6rem;width:12px;opacity:.6}.vector-btn[_ngcontent-%COMP%]:hover:not(:disabled){border-color:var(--neon-cyan);background:#00f3ff1f;transform:translateY(-3px);box-shadow:0 0 30px #00f3ff66,0 0 60px #00f3ff33,inset 0 0 20px #00f3ff14}.vector-btn[_ngcontent-%COMP%]:hover:not(:disabled):before{left:100%}.vector-btn[_ngcontent-%COMP%]:hover:not(:disabled)   .v-label[_ngcontent-%COMP%]{color:#fff;text-shadow:0 0 15px rgba(0,243,255,.6)}.vector-btn[_ngcontent-%COMP%]:hover:not(:disabled)   .v-desc[_ngcontent-%COMP%]{opacity:.8;color:#ffffffe6}.vector-btn[_ngcontent-%COMP%]:hover:not(:disabled)   .skill-preview[_ngcontent-%COMP%]{opacity:1;border-top-color:#00f3ff66}.vector-btn[_ngcontent-%COMP%]:hover:not(:disabled)   .skill-preview[_ngcontent-%COMP%]   .skill-item[_ngcontent-%COMP%]{color:#fffffff2}.vector-btn[_ngcontent-%COMP%]:hover:not(:disabled)   .skill-preview[_ngcontent-%COMP%]   .skill-item[_ngcontent-%COMP%]   .num[_ngcontent-%COMP%]{opacity:1;text-shadow:0 0 8px var(--neon-cyan)}.vector-btn[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(-1px);background:#00f3ff33;box-shadow:0 0 40px #00f3ff80,inset 0 0 25px #00f3ff1f}.vector-btn[_ngcontent-%COMP%]:disabled{opacity:.25;filter:grayscale(.8);cursor:not-allowed;box-shadow:none;transform:none}.assignment-instruction[_ngcontent-%COMP%]{font-family:var(--font-mono);font-size:.72rem;color:var(--text-dim);letter-spacing:1px;text-transform:uppercase;text-align:center;margin-bottom:1.5rem;padding-bottom:1rem;border-bottom:1px solid rgba(0,243,255,.1);line-height:1.5}.assignment-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(320px,1fr));gap:1rem;margin-bottom:2rem}.assignment-card[_ngcontent-%COMP%]{cursor:pointer;background:#00f3ff0a;border:2px solid rgba(0,243,255,.12);transition:all .3s cubic-bezier(.34,1.56,.64,1);position:relative;overflow:hidden;clip-path:polygon(8px 0,100% 0,calc(100% - 8px) 100%,0 100%)}.assignment-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(0,243,255,.2),transparent);transition:left .5s ease}.assignment-card[_ngcontent-%COMP%]   .assignment-inner[_ngcontent-%COMP%]{padding:1.5rem;display:flex;flex-direction:column;gap:1rem;position:relative;z-index:1}.assignment-card[_ngcontent-%COMP%]   .assignment-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.8rem;margin-bottom:.5rem}.assignment-card[_ngcontent-%COMP%]   .assignment-header[_ngcontent-%COMP%]   .assignment-name[_ngcontent-%COMP%]{margin:0;color:#ffffffd9;font-family:var(--font-header);font-size:1rem;font-weight:700;text-transform:uppercase;letter-spacing:2px;transition:all .3s ease;text-shadow:0 0 8px rgba(0,243,255,.2)}.assignment-card[_ngcontent-%COMP%]   .assignment-detail[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.4rem;padding:.8rem 1rem;background:#0000004d;border-left:2px solid rgba(0,243,255,.15);border-radius:2px}.assignment-card[_ngcontent-%COMP%]   .assignment-detail[_ngcontent-%COMP%]   .qual-label[_ngcontent-%COMP%]{font-family:var(--font-mono);font-size:.6rem;color:var(--text-dim);opacity:.6;letter-spacing:1px;text-transform:uppercase}.assignment-card[_ngcontent-%COMP%]   .assignment-detail[_ngcontent-%COMP%]   .qual-value[_ngcontent-%COMP%]{font-family:var(--font-mono);font-size:.75rem;color:var(--neon-cyan);font-weight:700;letter-spacing:1px;text-shadow:0 0 10px rgba(0,243,255,.3)}.assignment-card[_ngcontent-%COMP%]   .btn-select-assignment[_ngcontent-%COMP%]{margin-top:.5rem;align-self:flex-end;padding:.6rem 1.5rem;font-size:.68rem}.assignment-card[_ngcontent-%COMP%]:hover:not(:disabled){border-color:var(--neon-cyan);background:#00f3ff1a;box-shadow:0 0 30px #00f3ff4d,0 0 60px #00f3ff26,inset 0 0 20px #00f3ff0d;transform:translateY(-3px)}.assignment-card[_ngcontent-%COMP%]:hover:not(:disabled):before{left:100%}.assignment-card[_ngcontent-%COMP%]:hover:not(:disabled)   .assignment-name[_ngcontent-%COMP%]{color:#fff;text-shadow:0 0 15px rgba(0,243,255,.5)}.assignment-card[_ngcontent-%COMP%]:hover:not(:disabled)   .assignment-detail[_ngcontent-%COMP%]{border-left-color:#00f3ff66;background:#00f3ff14}.assignment-card[_ngcontent-%COMP%]:hover:not(:disabled)   .assignment-detail[_ngcontent-%COMP%]   .qual-value[_ngcontent-%COMP%]{text-shadow:0 0 15px rgba(0,243,255,.5);color:#fff}.assignment-card[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(-1px);background:#00f3ff26;box-shadow:0 0 40px #00f3ff66,inset 0 0 25px #00f3ff1a}.assignment-footer[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:1rem;padding:1.5rem 0;border-top:1px solid rgba(0,243,255,.1);margin-top:1.5rem}.assignment-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:200px}.event-log-box[_ngcontent-%COMP%]{padding:1.5rem;background:#0006;border-left:4px solid var(--neon-cyan);font-style:italic}.event-log-box[_ngcontent-%COMP%]   .event-text[_ngcontent-%COMP%]{font-size:.95rem;line-height:1.6;color:#fff}.term-summary-mfd[_ngcontent-%COMP%]{display:flex;gap:1.5rem;margin-bottom:2rem}.term-summary-mfd[_ngcontent-%COMP%]   .s-card[_ngcontent-%COMP%]{flex:1;background:#ffffff08;border:1px solid rgba(255,255,255,.1);padding:1rem;text-align:center;display:flex;flex-direction:column;gap:.4rem}.term-summary-mfd[_ngcontent-%COMP%]   .s-card[_ngcontent-%COMP%]   .s-label[_ngcontent-%COMP%]{font-family:var(--font-mono);font-size:.6rem;color:var(--text-dim);opacity:.5}.term-summary-mfd[_ngcontent-%COMP%]   .s-card[_ngcontent-%COMP%]   .s-val[_ngcontent-%COMP%]{font-family:var(--font-header);font-size:1.1rem;color:#fff}.term-summary-mfd[_ngcontent-%COMP%]   .s-card.promoted[_ngcontent-%COMP%]   .s-val[_ngcontent-%COMP%]{color:var(--cyber-yellow);text-shadow:0 0 10px rgba(255,238,0,.3)}.hud-alert[_ngcontent-%COMP%]{margin-top:1.5rem;padding:1.2rem;background:#0006;border:1px solid transparent;position:relative;overflow:hidden}.hud-alert[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:4px;height:100%;background:currentColor}.hud-alert[_ngcontent-%COMP%]   .hud-label-vivid[_ngcontent-%COMP%]{font-family:var(--font-header);font-size:.7rem;font-weight:700;display:block;margin-bottom:.8rem;letter-spacing:1.5px}.hud-alert[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.85rem!important;opacity:.9}.hud-alert[_ngcontent-%COMP%]   .highlight-vivid[_ngcontent-%COMP%]{color:#fff;background:var(--power-red);padding:4px 8px;font-weight:800;text-transform:uppercase;margin-top:.8rem;display:inline-block;box-shadow:0 0 10px var(--power-red-glow)}.hud-alert.info[_ngcontent-%COMP%]{border-color:#00f3ff33;color:var(--neon-cyan);background:#00f3ff08}.hud-alert.info[_ngcontent-%COMP%]   .hud-label-vivid[_ngcontent-%COMP%]{color:var(--neon-cyan)}.hud-alert.error[_ngcontent-%COMP%]{border-color:#f003;color:var(--power-red);background:#ff000008}.hud-alert.error[_ngcontent-%COMP%]   .hud-label-vivid[_ngcontent-%COMP%]{color:var(--power-red)}.global-actions[_ngcontent-%COMP%]{margin-top:2rem;width:100%;display:flex;flex-direction:column;align-items:center}.global-actions[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]{width:100%;height:1px;background:linear-gradient(90deg,transparent,rgba(255,255,255,.1),transparent);margin-bottom:2rem}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#000c;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);display:flex;align-items:center;justify-content:center;z-index:1000}.modal[_ngcontent-%COMP%]{background:#0a0f14;border:1px solid var(--neon-cyan);padding:1.5rem;box-shadow:0 0 40px #00f3ff33;max-width:600px;width:90%;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.modal[_ngcontent-%COMP%]   .grid-options[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(140px,1fr));gap:.8rem;margin-top:1.5rem}@keyframes _ngcontent-%COMP%_slideUp{0%{opacity:0;transform:translateY(15px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_reveal-slide{0%{opacity:0;transform:translateY(-6px);max-height:0}to{opacity:1;transform:translateY(0);max-height:200px}}.npc-id-form[_ngcontent-%COMP%]{margin-top:1.5rem}.npc-id-form[_ngcontent-%COMP%]   .p-input-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.8rem}.cyber-input[_ngcontent-%COMP%]{background:#0009;border:1px solid var(--neon-cyan);color:#fff;padding:1rem;font-family:var(--font-mono);text-transform:uppercase;letter-spacing:2px;width:100%;outline:none;box-shadow:inset 0 0 10px #00f3ff1a;transition:all .3s}.cyber-input[_ngcontent-%COMP%]:focus{border-color:var(--cyber-yellow);box-shadow:0 0 15px var(--neon-yellow-glow),inset 0 0 10px #ffee001a}.npc-conversion-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:1rem;margin-top:1.5rem;max-height:300px;overflow-y:auto;padding-right:10px}.npc-conversion-list[_ngcontent-%COMP%]::-webkit-scrollbar{width:4px}.npc-conversion-list[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--power-red)}.npc-select-btn[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1rem 1.5rem;background:#ff00000d;border:1px solid rgba(255,0,0,.2);color:var(--power-red);cursor:pointer;transition:all .2s;clip-path:polygon(0 0,100% 0,95% 100%,0 100%)}.npc-select-btn[_ngcontent-%COMP%]   .n-name[_ngcontent-%COMP%]{font-family:var(--font-header);font-size:1rem;letter-spacing:1px}.npc-select-btn[_ngcontent-%COMP%]   .n-type[_ngcontent-%COMP%]{font-family:var(--font-mono);font-size:.65rem;opacity:.6;text-transform:uppercase}.npc-select-btn[_ngcontent-%COMP%]:hover{background:var(--power-red);color:#fff;border-color:var(--power-red);box-shadow:0 0 15px var(--power-red-glow)}.npc-select-btn[_ngcontent-%COMP%]:hover   .n-type[_ngcontent-%COMP%]{opacity:1}.highlight-vivid[_ngcontent-%COMP%]{color:var(--neon-cyan);font-weight:800;text-shadow:0 0 10px var(--neon-cyan-glow)}.choice-grid[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.2rem;margin-top:1.5rem}.choice-grid[_ngcontent-%COMP%]   .choice-option-wrap[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:0}.choice-grid[_ngcontent-%COMP%]   .choice-row[_ngcontent-%COMP%]{display:flex;gap:.5rem;align-items:stretch}.choice-grid[_ngcontent-%COMP%]   .choice-row[_ngcontent-%COMP%]   .flex-grow[_ngcontent-%COMP%]{flex:1;text-align:left}.choice-grid[_ngcontent-%COMP%]   .btn-reveal[_ngcontent-%COMP%]{flex-shrink:0;width:36px;background:transparent;border:2px solid rgba(var(--neon-cyan-rgb),.3);color:rgba(var(--neon-cyan-rgb),.5);font-size:.9rem;font-weight:700;cursor:pointer;transition:all .2s ease;letter-spacing:0}.choice-grid[_ngcontent-%COMP%]   .btn-reveal[_ngcontent-%COMP%]:hover{border-color:var(--neon-cyan);color:var(--neon-cyan);box-shadow:0 0 8px rgba(var(--neon-cyan-rgb),.3)}.choice-grid[_ngcontent-%COMP%]   .btn-reveal.active[_ngcontent-%COMP%]{border-color:var(--amber, #f5a623);color:var(--amber, #f5a623);background:#f5a62314;box-shadow:0 0 8px #f5a62333}.choice-grid[_ngcontent-%COMP%]   .reveal-panel[_ngcontent-%COMP%]{padding:.7rem 1rem;background:#f5a6230f;border-left:3px solid var(--amber, #f5a623);border-right:1px solid rgba(245,166,35,.2);border-bottom:1px solid rgba(245,166,35,.2);color:#f5a623d9;font-size:.82rem;line-height:1.5;letter-spacing:.02em;animation:_ngcontent-%COMP%_reveal-slide .2s ease}.choice-grid[_ngcontent-%COMP%]   .choice-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;padding:1rem;background:rgba(var(--neon-cyan-rgb),.05);border:1px solid rgba(var(--neon-cyan-rgb),.1);border-right:4px solid var(--neon-cyan);transition:all .3s ease}.choice-grid[_ngcontent-%COMP%]   .choice-item[_ngcontent-%COMP%]:hover{background:rgba(var(--neon-cyan-rgb),.1);border-color:var(--neon-cyan);box-shadow:0 5px 15px #0000004d}.choice-grid[_ngcontent-%COMP%]   .choice-item[_ngcontent-%COMP%]   .full-width[_ngcontent-%COMP%]{width:100%;text-align:left;padding:.8rem 1.2rem}.choice-grid[_ngcontent-%COMP%]   .choice-item[_ngcontent-%COMP%]   .choice-outcome[_ngcontent-%COMP%]{margin:0;font-size:.75rem;font-family:var(--font-mono);color:var(--neon-cyan);opacity:.7;letter-spacing:.5px;padding-left:.5rem;border-left:2px solid rgba(var(--neon-cyan-rgb),.2);line-height:1.4}.modal-overlay[_ngcontent-%COMP%]{z-index:9999}.modal-content.cyberpunk-frame[_ngcontent-%COMP%]{background:#0a0f14f2;border:1px solid var(--neon-cyan);box-shadow:0 0 50px #00f3ff26,inset 0 0 20px #000c;padding:2rem;max-width:600px;width:90%;position:relative;clip-path:polygon(0 0,100% 0,100% calc(100% - 20px),calc(100% - 20px) 100%,0 100%)}.modal-content.cyberpunk-frame[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:2px;background:var(--neon-cyan);box-shadow:0 0 10px var(--neon-cyan-glow)}.modal-content.cyberpunk-frame[_ngcontent-%COMP%]   h3.modal-title[_ngcontent-%COMP%]{color:#fff;font-family:var(--font-header);font-size:1.5rem;text-transform:uppercase;letter-spacing:2px;margin:0 0 1.5rem;border-bottom:1px solid rgba(0,243,255,.2);padding-bottom:.5rem;text-shadow:0 0 5px var(--neon-cyan-glow)}.modal-content.cyberpunk-frame[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-main);font-family:var(--font-body);font-size:.95rem;line-height:1.6;margin-bottom:1.5rem}.modal-content.cyberpunk-frame[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .event-image[_ngcontent-%COMP%]{width:100%;border:1px solid rgba(0,243,255,.2);margin-bottom:1.5rem;filter:sepia(.2) contrast(1.1)}.modal-content.cyberpunk-frame[_ngcontent-%COMP%]   .modal-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;justify-content:flex-end;flex-wrap:wrap}.modal-content.cyberpunk-frame[_ngcontent-%COMP%]   .modal-actions[_ngcontent-%COMP%]   .btn-tactical[_ngcontent-%COMP%]{background:transparent;border:1px solid var(--neon-cyan);color:var(--neon-cyan);padding:.8rem 1.5rem;font-family:var(--font-accent);text-transform:uppercase;cursor:pointer;transition:all .3s;letter-spacing:2px;clip-path:polygon(10% 0,100% 0,90% 100%,0 100%);min-width:120px}.modal-content.cyberpunk-frame[_ngcontent-%COMP%]   .modal-actions[_ngcontent-%COMP%]   .btn-tactical[_ngcontent-%COMP%]:hover{background:var(--neon-cyan);color:var(--bg-pitch);box-shadow:0 0 15px var(--neon-cyan-glow);transform:translateY(-2px)}.benefits-stats-panel[_ngcontent-%COMP%]{background:linear-gradient(135deg,#00f3ff14,#ff8c000d);border:1px solid rgba(0,243,255,.3);border-radius:4px;padding:1.5rem;margin:1.5rem 0;display:grid;grid-template-columns:1fr 1fr;gap:1rem;font-family:var(--font-mono);font-size:.95rem}.benefits-stats-panel[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.75rem 1rem;background:#0000004d;border-left:3px solid var(--neon-cyan)}.benefits-stats-panel[_ngcontent-%COMP%]   .stat-row.divider[_ngcontent-%COMP%]{grid-column:1/-1;background:#ff8c001a;border-left-color:var(--neon-orange);font-weight:700;padding:1rem;margin:.5rem 0}.benefits-stats-panel[_ngcontent-%COMP%]   .stat-row.cash-counter[_ngcontent-%COMP%]{grid-column:1/-1;background:#00f3ff1a;border-left-color:var(--neon-cyan);font-weight:700}.benefits-stats-panel[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{color:#fffc;text-transform:uppercase;letter-spacing:1px;flex:1}.benefits-stats-panel[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{color:var(--neon-cyan);font-weight:700;font-size:1.1rem;text-shadow:0 0 10px rgba(0,243,255,.5)}.benefits-stats-panel[_ngcontent-%COMP%]   .stat-row.cash-counter[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{color:var(--neon-orange);text-shadow:0 0 10px rgba(255,140,0,.5)}@media(max-width:768px){.benefits-stats-panel[_ngcontent-%COMP%]{grid-template-columns:1fr}.benefits-stats-panel[_ngcontent-%COMP%]   .stat-row.divider[_ngcontent-%COMP%], .benefits-stats-panel[_ngcontent-%COMP%]   .stat-row.cash-counter[_ngcontent-%COMP%]{grid-column:1}}.mission-log-container[_ngcontent-%COMP%]{margin:1.5rem 0;padding:1rem;background:#0006;border:1px solid rgba(0,243,255,.2);border-radius:4px;max-height:300px;overflow-y:auto}.mission-log-container[_ngcontent-%COMP%]   .hud-label[_ngcontent-%COMP%]{display:block;color:var(--neon-cyan);font-size:.85rem;letter-spacing:2px;margin-bottom:1rem;text-transform:uppercase}.mission-log-container[_ngcontent-%COMP%]   .mission-log-entries[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.mission-log-container[_ngcontent-%COMP%]   .mission-log-entries[_ngcontent-%COMP%]   .log-entry[_ngcontent-%COMP%]{color:#ffffffe6;border-left:2px solid var(--neon-cyan);padding:.5rem .5rem .5rem .75rem;font-family:var(--font-mono);font-size:.9rem;line-height:1.4}.mission-log-container[_ngcontent-%COMP%]   .mission-log-entries[_ngcontent-%COMP%]   .log-entry[_ngcontent-%COMP%]   .prefix[_ngcontent-%COMP%]{color:var(--neon-cyan);margin-right:.5rem}.allocation-summary[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:1rem;margin-bottom:1.5rem;font-family:var(--font-mono)}.allocation-summary[_ngcontent-%COMP%]   .summary-block[_ngcontent-%COMP%]{background:linear-gradient(135deg,#00f3ff14,#ff8c000d);border:1px solid rgba(0,243,255,.3);border-radius:4px;padding:1rem;display:flex;flex-direction:column;gap:.75rem}.allocation-summary[_ngcontent-%COMP%]   .summary-block[_ngcontent-%COMP%]   .summary-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.5rem .75rem;background:#0000004d;border-left:3px solid var(--neon-cyan);border-radius:2px}.allocation-summary[_ngcontent-%COMP%]   .summary-block[_ngcontent-%COMP%]   .summary-row.cash-row[_ngcontent-%COMP%]{border-left-color:var(--neon-orange);background:#ff8c0014}.allocation-summary[_ngcontent-%COMP%]   .summary-block[_ngcontent-%COMP%]   .summary-row[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:#ffffffbf;text-transform:uppercase;font-size:.8rem;letter-spacing:1px;flex:1}.allocation-summary[_ngcontent-%COMP%]   .summary-block[_ngcontent-%COMP%]   .summary-row[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{color:var(--neon-cyan);font-weight:700;font-size:1.1rem;text-shadow:0 0 8px rgba(0,243,255,.4)}.allocation-summary[_ngcontent-%COMP%]   .summary-block[_ngcontent-%COMP%]   .summary-row.cash-row[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{color:var(--neon-orange);text-shadow:0 0 8px rgba(255,140,0,.4)}@media(max-width:768px){.allocation-summary[_ngcontent-%COMP%]{grid-template-columns:1fr}}.inheritance-bonus-panel[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ffc8001a,#ff8c0014);border:2px solid rgba(255,140,0,.5);border-radius:4px;padding:1rem;margin-bottom:1.5rem;box-shadow:0 0 12px #ff8c0033 inset;font-family:var(--font-mono)}.inheritance-bonus-panel[_ngcontent-%COMP%]   .bonus-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;margin-bottom:.75rem;padding-bottom:.75rem;border-bottom:1px solid rgba(255,140,0,.3)}.inheritance-bonus-panel[_ngcontent-%COMP%]   .bonus-header[_ngcontent-%COMP%]   .bonus-icon[_ngcontent-%COMP%]{color:var(--neon-orange);font-size:1.2rem;text-shadow:0 0 8px rgba(255,140,0,.4)}.inheritance-bonus-panel[_ngcontent-%COMP%]   .bonus-header[_ngcontent-%COMP%]   .bonus-title[_ngcontent-%COMP%]{color:var(--neon-orange);text-transform:uppercase;font-size:.85rem;font-weight:700;letter-spacing:1px}.inheritance-bonus-panel[_ngcontent-%COMP%]   .bonus-content[_ngcontent-%COMP%]   .checkbox-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;color:#ffffffd9;cursor:pointer;padding:.5rem .75rem;border-radius:2px;transition:background .2s ease}.inheritance-bonus-panel[_ngcontent-%COMP%]   .bonus-content[_ngcontent-%COMP%]   .checkbox-container[_ngcontent-%COMP%]:hover{background:#ff8c001a}.inheritance-bonus-panel[_ngcontent-%COMP%]   .bonus-content[_ngcontent-%COMP%]   .checkbox-container[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:16px;height:16px;cursor:pointer;accent-color:var(--neon-orange)}.inheritance-bonus-panel[_ngcontent-%COMP%]   .bonus-content[_ngcontent-%COMP%]   .checkbox-container[_ngcontent-%COMP%]   .checkbox-label[_ngcontent-%COMP%]{flex:1;font-size:.9rem}.inheritance-bonus-panel[_ngcontent-%COMP%]   .bonus-content[_ngcontent-%COMP%]   .checkbox-container[_ngcontent-%COMP%]   .bonus-count[_ngcontent-%COMP%]{color:var(--neon-orange);font-size:.8rem;font-weight:700;text-shadow:0 0 4px rgba(255,140,0,.3)}.benefits-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:1.5rem;margin:1.5rem 0}.benefits-grid[_ngcontent-%COMP%]   .benefits-column[_ngcontent-%COMP%]{background:linear-gradient(135deg,#00000080,#00f3ff0d);border:1px solid rgba(0,243,255,.2);border-radius:4px;overflow:hidden;display:flex;flex-direction:column}.benefits-grid[_ngcontent-%COMP%]   .benefits-column.cash-column[_ngcontent-%COMP%]{border-color:#00f3ff4d;background:linear-gradient(135deg,#00000080,#00f3ff14)}.benefits-grid[_ngcontent-%COMP%]   .benefits-column.material-column[_ngcontent-%COMP%]{border-color:#ff8c004d;background:linear-gradient(135deg,#00000080,#ff8c0014)}.benefits-grid[_ngcontent-%COMP%]   .benefits-column[_ngcontent-%COMP%]   .column-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:1rem;background:#0009;border-bottom:2px solid rgba(0,243,255,.2)}.cash-column[_ngcontent-%COMP%]   .benefits-grid[_ngcontent-%COMP%]   .benefits-column[_ngcontent-%COMP%]   .column-header[_ngcontent-%COMP%]{border-bottom-color:#00f3ff4d}.material-column[_ngcontent-%COMP%]   .benefits-grid[_ngcontent-%COMP%]   .benefits-column[_ngcontent-%COMP%]   .column-header[_ngcontent-%COMP%]{border-bottom-color:#ff8c004d}.benefits-grid[_ngcontent-%COMP%]   .benefits-column[_ngcontent-%COMP%]   .column-header[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]{font-size:1.3rem;color:var(--neon-cyan);text-shadow:0 0 10px rgba(0,243,255,.4)}.material-column[_ngcontent-%COMP%]   .benefits-grid[_ngcontent-%COMP%]   .benefits-column[_ngcontent-%COMP%]   .column-header[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]{color:var(--neon-orange);text-shadow:0 0 10px rgba(255,140,0,.4)}.benefits-grid[_ngcontent-%COMP%]   .benefits-column[_ngcontent-%COMP%]   .column-header[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{color:#ffffffe6;font-family:var(--font-mono);font-size:.9rem;font-weight:700;letter-spacing:2px;text-transform:uppercase}.benefits-grid[_ngcontent-%COMP%]   .benefits-column[_ngcontent-%COMP%]   .benefits-table[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;font-family:var(--font-mono);font-size:.85rem}.benefits-grid[_ngcontent-%COMP%]   .benefits-column[_ngcontent-%COMP%]   .benefits-table[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]{display:grid;grid-template-columns:60px 1fr;gap:1rem;padding:.75rem 1rem;background:#0006;border-bottom:1px solid rgba(0,243,255,.15);color:#00f3ffb3;text-transform:uppercase;font-size:.75rem;letter-spacing:1px;font-weight:700}.material-column[_ngcontent-%COMP%]   .benefits-grid[_ngcontent-%COMP%]   .benefits-column[_ngcontent-%COMP%]   .benefits-table[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]{color:#ff8c00b3;border-bottom-color:#ff8c0026}.benefits-grid[_ngcontent-%COMP%]   .benefits-column[_ngcontent-%COMP%]   .benefits-table[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   .col-roll[_ngcontent-%COMP%], .benefits-grid[_ngcontent-%COMP%]   .benefits-column[_ngcontent-%COMP%]   .benefits-table[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   .col-amount[_ngcontent-%COMP%], .benefits-grid[_ngcontent-%COMP%]   .benefits-column[_ngcontent-%COMP%]   .benefits-table[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   .col-benefit[_ngcontent-%COMP%]{text-align:left}.benefits-grid[_ngcontent-%COMP%]   .benefits-column[_ngcontent-%COMP%]   .benefits-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]{flex:1;overflow-y:auto;max-height:200px}.benefits-grid[_ngcontent-%COMP%]   .benefits-column[_ngcontent-%COMP%]   .benefits-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:60px 1fr;gap:1rem;padding:.75rem 1rem;border-bottom:1px solid rgba(0,243,255,.1);color:#fffc;transition:background .2s}.benefits-grid[_ngcontent-%COMP%]   .benefits-column[_ngcontent-%COMP%]   .benefits-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]:hover{background:#00f3ff14}.benefits-grid[_ngcontent-%COMP%]   .benefits-column[_ngcontent-%COMP%]   .benefits-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .table-row.cash-entry[_ngcontent-%COMP%]{background:#00f3ff0d;color:var(--neon-cyan);font-weight:500;text-shadow:0 0 5px rgba(0,243,255,.3)}.benefits-grid[_ngcontent-%COMP%]   .benefits-column[_ngcontent-%COMP%]   .benefits-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .table-row.material-entry[_ngcontent-%COMP%]{background:#ff8c000d;color:var(--neon-orange);font-weight:500;text-shadow:0 0 5px rgba(255,140,0,.3)}.benefits-grid[_ngcontent-%COMP%]   .benefits-column[_ngcontent-%COMP%]   .benefits-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]   .col-roll[_ngcontent-%COMP%]{color:#fff9;font-size:.8rem}.benefits-grid[_ngcontent-%COMP%]   .benefits-column[_ngcontent-%COMP%]   .benefits-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]   .col-amount[_ngcontent-%COMP%], .benefits-grid[_ngcontent-%COMP%]   .benefits-column[_ngcontent-%COMP%]   .benefits-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]   .col-benefit[_ngcontent-%COMP%]{word-break:break-word}.benefits-grid[_ngcontent-%COMP%]   .benefits-column[_ngcontent-%COMP%]   .benefits-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.benefits-grid[_ngcontent-%COMP%]   .benefits-column[_ngcontent-%COMP%]   .benefits-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#0003}.benefits-grid[_ngcontent-%COMP%]   .benefits-column[_ngcontent-%COMP%]   .benefits-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#00f3ff4d;border-radius:3px}.benefits-grid[_ngcontent-%COMP%]   .benefits-column[_ngcontent-%COMP%]   .benefits-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#00f3ff80}.material-column[_ngcontent-%COMP%]   .benefits-grid[_ngcontent-%COMP%]   .benefits-column[_ngcontent-%COMP%]   .benefits-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#ff8c004d}.material-column[_ngcontent-%COMP%]   .benefits-grid[_ngcontent-%COMP%]   .benefits-column[_ngcontent-%COMP%]   .benefits-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#ff8c0080}@media(max-width:1024px){.benefits-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.benefits-grid[_ngcontent-%COMP%]   .benefits-column[_ngcontent-%COMP%]   .benefits-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]{max-height:150px}}']})};function BD(n,t){if(n&1){let e=T();s(0,"div",20)(1,"div",21)(2,"div",22),M(3,"span",23),s(4,"span",24),d(5),ie(6,"uppercase"),c()(),s(7,"span",25),d(8),c(),s(9,"span",26),d(10),c(),s(11,"span",27),d(12),c(),s(13,"div",28)(14,"button",29),O("click",function(r){let o=S(e).$implicit;return h().editNpc(o),P(r.stopPropagation())}),d(15,"EDIT"),c(),s(16,"button",30),O("click",function(r){let o=S(e).$implicit;return h().removeNpc(o.id),P(r.stopPropagation())}),d(17,"DEL"),c()()()()}if(n&2){let e=t.$implicit;I("cr-ally",e.type==="ally")("cr-rival",e.type==="rival")("cr-enemy",e.type==="enemy"),p(5),x(he(6,10,e.type)),p(3),x(e.name),p(2),x(e.origin),p(2),x(e.notes||"\u2014")}}function UD(n,t){n&1&&(s(0,"div",31)(1,"span",32),d(2,"\u25C8"),c(),s(3,"span",33),d(4,"[ NO_ACTIVE_RELATIONSHIPS_DETECTED ]"),c(),s(5,"span",34),d(6,"Proceed to finalize character biometrics."),c()())}var gl=class n{characterService=C(de);npcService=C(Rt);wizardFlow=C(De);characters=this.characterService.character;ngOnInit(){this.wizardFlow.registerValidator(7,()=>this.isValid()),this.wizardFlow.registerFinishAction(7,()=>this.finish())}ngOnDestroy(){this.wizardFlow.unregisterStep(7)}async editNpc(t){let e=await this.npcService.promptForNpc(t);if(e){let r=this.characterService.character().npcs.map(o=>o.id===t.id?e:o);this.characterService.updateCharacter({npcs:r})}}removeNpc(t){this.characterService.removeNpc(t)}isValid(){return!0}finish(){this.wizardFlow.advance()}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=G({type:n,selectors:[["app-npc-management"]],decls:29,vars:2,consts:[[1,"npc-container"],["stepSymbol","BIO","stepNumber","07","superLabel","INTEL_NETWORK_V1.2","topLabel","SOCIAL_LINKS","title","RELATIONSHIP_MANAGEMENT","subtitle","REVIEW_AND_IDENTIFY_CONTACTS_ALLIES_AND_ENEMIES"],[1,"hud-module","info"],[1,"corner-detail","tl"],[1,"corner-detail","tr"],[1,"corner-detail","bl"],[1,"corner-detail","br"],[1,"hud-box-header"],[1,"index"],[1,"hud-content"],[1,"description"],[1,"contact-roster"],[1,"cr-header"],[1,"crh-type"],[1,"crh-name"],[1,"crh-origin"],[1,"crh-notes"],[1,"crh-act"],["class","cr-row",3,"cr-ally","cr-rival","cr-enemy",4,"ngFor","ngForOf"],["class","cr-empty",4,"ngIf"],[1,"cr-row"],[1,"cr-strip"],[1,"cr-type-cell"],[1,"cr-led"],[1,"cr-type-tag"],[1,"cr-name"],[1,"cr-origin"],[1,"cr-notes-clip"],[1,"cr-actions"],[1,"cr-btn",3,"click"],[1,"cr-btn","danger",3,"click"],[1,"cr-empty"],[1,"cr-empty-icon"],[1,"cr-empty-text"],[1,"cr-empty-sub"]],template:function(e,i){e&1&&(s(0,"div",0),M(1,"app-step-header",1),s(2,"div",2),M(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6),s(7,"div",7)(8,"span",8),d(9,"INTEL_01"),c(),s(10,"h3"),d(11,"OPERATIONAL_NETWORK_OVERVIEW"),c()(),s(12,"div",9)(13,"p",10),d(14," Your career and life events have generated a network of contacts. Identify these individuals to ground your character in the 2300AD universe. "),c()()(),s(15,"div",11)(16,"div",12)(17,"span",13),d(18,"TYPE"),c(),s(19,"span",14),d(20,"DESIGNATION"),c(),s(21,"span",15),d(22,"ORIGIN_LOG"),c(),s(23,"span",16),d(24,"INTEL_NOTES"),c(),s(25,"span",17),d(26,"ACTIONS"),c()(),b(27,BD,18,12,"div",18)(28,UD,7,0,"div",19),c()()),e&2&&(p(27),v("ngForOf",i.characters().npcs),p(),v("ngIf",i.characters().npcs.length===0))},dependencies:[Z,_e,ne,rt,Fe,gt],styles:['.npc-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:1rem 1.5rem;animation:_ngcontent-%COMP%_fadeIn .5s ease-out}.npc-grid[_ngcontent-%COMP%], .npc-card[_ngcontent-%COMP%], .card-header[_ngcontent-%COMP%], .card-content[_ngcontent-%COMP%], .card-footer[_ngcontent-%COMP%], .btn-mini[_ngcontent-%COMP%]{display:none}.contact-roster[_ngcontent-%COMP%]{width:100%;margin:1.5rem 0;border:1px solid rgba(0,243,255,.12);background:#00000073;position:relative;overflow:hidden}.contact-roster[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:linear-gradient(rgba(0,243,255,.015) 1px,transparent 1px),linear-gradient(90deg,rgba(0,243,255,.015) 1px,transparent 1px);background-size:40px 7px;pointer-events:none}.cr-header[_ngcontent-%COMP%]{display:grid;grid-template-columns:140px 1fr 1fr 1.5fr 120px;padding:.3rem 1rem;background:#00f3ff0a;border-bottom:1px solid rgba(0,243,255,.15);font-family:var(--font-mono);font-size:.42rem;letter-spacing:3px;color:var(--neon-cyan);opacity:.5;text-transform:uppercase;position:relative;z-index:1}.cr-row[_ngcontent-%COMP%]{position:relative;z-index:1;border-bottom:1px solid rgba(0,243,255,.07);border-left:3px solid transparent;transition:border-color .2s}.cr-row.cr-ally[_ngcontent-%COMP%]{border-left-color:var(--neon-cyan)}.cr-row.cr-rival[_ngcontent-%COMP%]{border-left-color:var(--vivid-orange)}.cr-row.cr-enemy[_ngcontent-%COMP%]{border-left-color:var(--power-red)}.cr-strip[_ngcontent-%COMP%]{display:grid;grid-template-columns:140px 1fr 1fr 1.5fr 120px;align-items:center;padding:.6rem 1rem;min-height:48px}.cr-type-cell[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.6rem}.cr-led[_ngcontent-%COMP%]{width:8px;height:8px;border-radius:50%;flex-shrink:0}.cr-ally[_ngcontent-%COMP%]   .cr-led[_ngcontent-%COMP%]{background:var(--neon-cyan);box-shadow:0 0 6px var(--neon-cyan)}.cr-rival[_ngcontent-%COMP%]   .cr-led[_ngcontent-%COMP%]{background:var(--vivid-orange);box-shadow:0 0 6px var(--vivid-orange)}.cr-enemy[_ngcontent-%COMP%]   .cr-led[_ngcontent-%COMP%]{background:var(--power-red);box-shadow:0 0 6px var(--power-red)}.cr-led[_ngcontent-%COMP%]{background:#ffffff26;border:1px solid rgba(255,255,255,.25)}.cr-type-tag[_ngcontent-%COMP%]{font-family:var(--font-mono);font-size:.5rem;letter-spacing:2px;text-transform:uppercase;padding:2px 6px;border:1px solid currentColor}.cr-ally[_ngcontent-%COMP%]   .cr-type-tag[_ngcontent-%COMP%]{color:var(--neon-cyan);background:#00f3ff0f}.cr-rival[_ngcontent-%COMP%]   .cr-type-tag[_ngcontent-%COMP%]{color:var(--vivid-orange);background:#ff78000f}.cr-enemy[_ngcontent-%COMP%]   .cr-type-tag[_ngcontent-%COMP%]{color:var(--power-red);background:#ff1e1e0f}.cr-name[_ngcontent-%COMP%]{font-family:var(--font-header);font-size:.9rem;color:#fffc;text-transform:uppercase;letter-spacing:1px}.cr-origin[_ngcontent-%COMP%]{font-family:var(--font-mono);font-size:.65rem;color:var(--text-dim)}.cr-notes-clip[_ngcontent-%COMP%]{font-family:var(--font-mono);font-size:.65rem;color:var(--text-dim);overflow:hidden;text-overflow:ellipsis;white-space:nowrap;padding-right:.5rem}.cr-actions[_ngcontent-%COMP%]{display:flex;gap:.4rem;justify-content:flex-end}.cr-btn[_ngcontent-%COMP%]{background:transparent;border:1px solid rgba(255,255,255,.12);color:#ffffff73;font-family:var(--font-mono);font-size:.6rem;letter-spacing:1px;padding:3px 10px;cursor:pointer;text-transform:uppercase;transition:all .18s}.cr-btn[_ngcontent-%COMP%]:hover{border-color:var(--neon-cyan);color:var(--neon-cyan);background:#00f3ff0d}.cr-btn.danger[_ngcontent-%COMP%]:hover{border-color:var(--power-red);color:var(--power-red);background:#ff1e1e0f}.cr-empty[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:4rem 2rem;position:relative;z-index:1}.cr-empty[_ngcontent-%COMP%]   .cr-empty-icon[_ngcontent-%COMP%]{font-size:1.5rem;color:var(--neon-cyan);opacity:.3;margin-bottom:.8rem}.cr-empty[_ngcontent-%COMP%]   .cr-empty-text[_ngcontent-%COMP%]{font-family:var(--font-header);font-size:.85rem;color:#ffffff59;letter-spacing:3px;text-transform:uppercase;margin-bottom:.4rem}.cr-empty[_ngcontent-%COMP%]   .cr-empty-sub[_ngcontent-%COMP%]{font-family:var(--font-mono);font-size:.65rem;color:var(--text-dim);opacity:.6}.cyber-input[_ngcontent-%COMP%], .cyber-textarea[_ngcontent-%COMP%]{width:100%;background:#0006;border:1px solid rgba(var(--neon-blue-rgb),.3);color:var(--text-bright);padding:.5rem;font-family:var(--font-mono);outline:none}.cyber-input[_ngcontent-%COMP%]:focus, .cyber-textarea[_ngcontent-%COMP%]:focus{border-color:var(--neon-blue);background:#0009}.cyber-textarea[_ngcontent-%COMP%]{min-height:80px;resize:vertical}.no-npcs[_ngcontent-%COMP%]{grid-column:1/-1;text-align:center;padding:4rem;background:#ffffff05;border:1px dashed rgba(var(--text-dim-rgb),.2)}.no-npcs[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:var(--font-mono);color:var(--text-dim);font-size:1.2rem;margin-bottom:.5rem}.no-npcs[_ngcontent-%COMP%]   .subtext[_ngcontent-%COMP%]{font-family:var(--font-mono);color:var(--text-dim);font-size:.8rem;opacity:.6}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}']})};var H_=[{name:"Troubleshooter",description:"Problem solvers for corporations, governments, or other organizations.",skills:["Electronics (any) 1","Gun Combat (any) 1","Investigate 1","Medic 1","Melee (any) 1","Recon 1","Stealth 1","Streetwise 1"],source:"2300ad"},{name:"Colonist",description:"Survivors of harsh frontier world challenges.",skills:["Animals (any) 1","Drive (any) 1","Gun Combat (any) 1","Mechanic 1","Medic 1","Navigation 1","Recon 1","Survival 1"],source:"2300ad"},{name:"Urbanite",description:"Street-smart dwellers of technologically advanced urban environments.",skills:["Carouse 1","Computers 1","Deception 1","Gun Combat (any) 1","Melee (any) 1","Stealth 1","Streetwise 1"],source:"2300ad"},{name:"Corporate",description:"Professionals working in corporate or government environments.",skills:["Admin 1","Advocate 1","Deception 1","Investigate 1","Profession (any) 1","Science (any) 1","Streetwise 1"],source:"2300ad"},{name:"Libertine Trader",description:"Free traders plying the spaceways between colonies.",skills:["Advocate 1","Broker 1","Deception 1","Diplomat 1","Engineer (any) 1","Gun Combat (any) 1","Persuade 1","Pilot (Spacecraft) 1","Streetwise 1"],source:"2300ad"},{name:"Traveller",description:"All-round package for mixed campaign styles.",skills:["Deception 1","Electronics (any) 1","Gun Combat (any) 1","Gunner 1","Medic 1","Persuade 1","Pilot (any) 1","Stealth 1"],source:"core"},{name:"Trader",description:"For campaigns focused on commerce and trading.",skills:["Advocate 1","Astrogation 1","Broker 1","Diplomat 1","Electronics (any) 1","Medic 1","Pilot (any) 1","Streetwise 1"],source:"core"},{name:"Explorer",description:"For campaigns on the fringe of charted space.",skills:["Astrogation 1","Electronics (any) 1","Gun Combat (any) 1","Medic 1","Pilot (any) 1","Recon 1","Stealth 1","Survival 1"],source:"core"},{name:"Investigator",description:"For campaigns focused on solving crimes and mysteries.",skills:["Admin 1","Advocate 1","Deception 1","Electronics (any) 1","Gun Combat (any) 1","Investigate 1","Persuade 1","Stealth 1","Streetwise 1"],source:"core"},{name:"Mercenary",description:"Combat-focused package for military operations.",skills:["Electronics (any) 1","Heavy Weapons 1","Gun Combat (any) 1","Gun Combat (any) 1","Leadership 1","Medic 1","Recon 1","Stealth 1"],source:"core"},{name:"Starship",description:"For campaigns focused on spacecraft operations.",skills:["Astrogation 1","Electronics (any) 1","Engineer (any) 1","Gunner 1","Mechanic 1","Medic 1","Pilot (Spacecraft) 1","Tactics (naval) 1"],source:"core"},{name:"Diplomat",description:"For government operatives and ambassadors.",skills:["Admin 1","Advocate 1","Deception 1","Diplomat 1","Electronics (any) 1","Persuade 1","Stealth 1","Streetwise 1"],source:"core"},{name:"Criminal",description:"For campaigns involving crime and elaborate heists.",skills:["Broker 1","Deception 1","Electronics (any) 1","Medic 1","Persuade 1","Pilot (any) 1","Stealth 1","Streetwise 1"],source:"core"}];function HD(n,t){if(n&1&&(s(0,"span",33),d(1),c()),n&2){let e=t.$implicit;p(),x(e)}}function $D(n,t){if(n&1&&(s(0,"div",29)(1,"p",30),d(2),c(),s(3,"div",31),b(4,HD,2,1,"span",32),c()()),n&2){let e=h().$implicit;p(2),x(e.description),p(2),v("ngForOf",e.skills)}}function zD(n,t){if(n&1){let e=T();s(0,"div",20),O("click",function(){let r=S(e).$implicit,o=h();return P(o.selectPackage(r))}),s(1,"div",21)(2,"span",22),d(3),ie(4,"number"),c(),M(5,"span",23),s(6,"span",24),d(7),c(),s(8,"span",25),d(9),c(),s(10,"span",26),d(11),c(),s(12,"span",27),d(13,"\u25B8"),c()(),b(14,$D,5,2,"div",28),c()}if(n&2){let e=t.$implicit,i=t.index,r=h();I("pkg-sel",r.selectedPackage()===e),p(3),x(Dt(4,13,i+1,"2.0-0")),p(2),I("on",r.selectedPackage()===e),p(2),x(e.name),p(2),x(e.skills.length),p(),I("st-sel",r.selectedPackage()===e),p(),w(" ",r.selectedPackage()===e?"ACTIVE_PROTOCOL":"SELECT_PROFILE"," "),p(),I("open",r.selectedPackage()===e),p(2),v("ngIf",r.selectedPackage()===e)}}function GD(n,t){n&1&&(s(0,"span",50),d(1,"\u2713"),c())}function qD(n,t){if(n&1){let e=T();s(0,"div",46),O("click",function(){let r=S(e).$implicit,o=h(2);return P(o.toggleSkill(r))}),M(1,"span",47),s(2,"span",48),d(3),c(),b(4,GD,2,0,"span",49),c()}if(n&2){let e=t.$implicit,i=h(2);I("sk-on",i.selectedSkills().includes(e))("sk-dim",i.selectedSkills().length>=4&&!i.selectedSkills().includes(e)),p(3),x(e),p(),v("ngIf",i.selectedSkills().includes(e))}}function WD(n,t){if(n&1&&(s(0,"div",34)(1,"div",7)(2,"span",8),d(3,"SL_01"),c(),s(4,"h3"),d(5,"SKILL_SELECTION_PROTOCOL"),c(),s(6,"div",35),M(7,"div",36),c(),s(8,"span",37),d(9),c()(),s(10,"p",38),d(11,"Select exactly 4 skills from the chosen package to add to your character dossier."),c(),s(12,"div",39),b(13,qD,5,6,"div",40),c(),s(14,"div",41)(15,"span",42),d(16,"PROTOCOL_LOAD"),c(),s(17,"div",43),M(18,"div",44),c(),s(19,"span",45),d(20),c()()()),n&2){let e,i=h();p(7),Ii("width",i.selectedSkills().length/4*100,"%"),p(2),w("",i.selectedSkills().length,"/4"),p(4),v("ngForOf",(e=i.selectedPackage())==null?null:e.skills),p(5),Ii("width",i.selectedSkills().length/4*100,"%"),p(),I("ready",i.selectedSkills().length===4),p(),w(" ",i.selectedSkills().length<4?4-i.selectedSkills().length+" UNITS_REMAINING":"\u25B6 PROTOCOL_READY"," ")}}function YD(n,t){if(n&1){let e=T();s(0,"div",51),M(1,"div",52),s(2,"button",53),O("click",function(r){S(e);let o=h();return r.stopPropagation(),P(o.finish())}),d(3," COMMIT_OPERATIONAL_PROFILE "),c()()}}var ml=class n{characterService=C(de);wizardFlow=C(De);packages=H_;selectedPackage=N(null);selectedSkills=N([]);ngOnInit(){this.wizardFlow.registerValidator(8,()=>!!this.selectedPackage()&&this.selectedSkills().length>0),this.wizardFlow.registerFinishAction(8,()=>this.finish())}ngOnDestroy(){this.wizardFlow.unregisterStep(8)}selectPackage(t){this.selectedPackage.set(t),this.selectedSkills.set([]),setTimeout(()=>{let e=document.querySelector(".skill-selection-area"),i=document.querySelector(".wizard-content");if(e&&i){let r=e.getBoundingClientRect().top-i.getBoundingClientRect().top+i.scrollTop;i.scrollTo({top:r-16,behavior:"smooth"})}},100)}toggleSkill(t){let e=this.selectedSkills();e.includes(t)?this.selectedSkills.set(e.filter(i=>i!==t)):e.length<4&&this.selectedSkills.set([...e,t])}finish(){let t=this.selectedPackage(),e=this.selectedSkills();!t||e.length===0||(this.characterService.log(`## Skill Package Selected: ${t.name}`),this.characterService.log(`Applied solo bonuses: ${e.join(", ")}`),e.forEach(i=>{let r=i.split(" "),o=r[r.length-1],a=parseInt(o),l=r.join(" ");isNaN(a)?a=1:(r.pop(),l=r.join(" ")),this.characterService.ensureSkillLevel(l,a)}),this.characterService.finalizeCharacter(),this.wizardFlow.advance())}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=G({type:n,selectors:[["app-skill-package"]],decls:28,vars:3,consts:[[1,"package-container"],["stepSymbol","PKG","stepNumber","08","superLabel","CAMPAIGN_INTEGRATION_V1.0","topLabel","SKILL_PACKAGE_SELECTION","title","OPERATIONAL_ROLE_PROTOCOL","subtitle","SELECT_CAMPAIGN_UNIT_PACKAGE // STANDARDIZING_GROUP_PERFORMANCE"],[1,"hud-module","info"],[1,"corner-detail","tl"],[1,"corner-detail","tr"],[1,"corner-detail","bl"],[1,"corner-detail","br"],[1,"hud-box-header"],[1,"index"],[1,"hud-content"],[1,"description"],[1,"pkg-roster"],[1,"pkg-thead"],[1,"pkh-id"],[1,"pkh-name"],[1,"pkh-count"],[1,"pkh-status"],["class","pkg-row",3,"pkg-sel","click",4,"ngFor","ngForOf"],["class","skill-select-panel",4,"ngIf"],["class","global-actions",4,"ngIf"],[1,"pkg-row",3,"click"],[1,"pkg-strip"],[1,"pk-id"],[1,"pk-led"],[1,"pk-name"],[1,"pk-count"],[1,"pk-status"],[1,"pk-chev"],["class","pkg-expand",4,"ngIf"],[1,"pkg-expand"],[1,"pk-desc"],[1,"pk-pill-group"],["class","pk-pill",4,"ngFor","ngForOf"],[1,"pk-pill"],[1,"skill-select-panel"],[1,"load-bar-inline"],[1,"lbi-fill"],[1,"load-label"],[1,"hint"],[1,"skill-chip-grid"],["class","sk-chip",3,"sk-on","sk-dim","click",4,"ngFor","ngForOf"],[1,"sk-status-bar"],[1,"ssb-label"],[1,"ssb-bar"],[1,"ssb-fill"],[1,"ssb-msg"],[1,"sk-chip",3,"click"],[1,"sk-led"],[1,"sk-name"],["class","sk-check",4,"ngIf"],[1,"sk-check"],[1,"global-actions"],[1,"divider"],[1,"btn-action","finalize",3,"click"]],template:function(e,i){e&1&&(s(0,"div",0),M(1,"app-step-header",1),s(2,"div",2),M(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6),s(7,"div",7)(8,"span",8),d(9,"PKG_01"),c(),s(10,"h3"),d(11,"OPERATIONAL_PROFILE_SELECTION"),c()(),s(12,"div",9)(13,"p",10),d(14," Campaign Skill Packages ensure your character has the baseline competencies required for specific 2300AD operations. Select one package; any selected skills you already possess at level 1 or higher will not increase further. Skills at level 0 will be upgraded to level 1. "),c()()(),s(15,"div",11)(16,"div",12)(17,"span",13),d(18,"ID"),c(),s(19,"span",14),d(20,"PROFILE_DESIGNATION"),c(),s(21,"span",15),d(22,"SKILLS"),c(),s(23,"span",16),d(24,"STATUS"),c()(),b(25,zD,15,16,"div",17),c(),b(26,WD,21,9,"div",18)(27,YD,4,0,"div",19),c()),e&2&&(p(25),v("ngForOf",i.packages),p(),v("ngIf",i.selectedPackage()),p(),v("ngIf",i.selectedPackage()&&i.selectedSkills().length===4))},dependencies:[Z,_e,ne,Fe,Wt],styles:['.package-container[_ngcontent-%COMP%]{padding:1rem 1.5rem;max-width:1200px;margin:0 auto;color:#e0e0e0;font-family:Outfit,sans-serif}.hud-module[_ngcontent-%COMP%]{margin:2rem 0;padding:1.5rem;background:#0a0f19cc;border:1px solid rgba(0,243,255,.2);position:relative;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.hud-module[_ngcontent-%COMP%]   .hud-box-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;margin-bottom:1rem;border-bottom:1px solid rgba(0,243,255,.3);padding-bottom:.5rem}.hud-module[_ngcontent-%COMP%]   .hud-box-header[_ngcontent-%COMP%]   .index[_ngcontent-%COMP%]{font-size:.75rem;color:#00f3ff;font-family:Space Mono,monospace;opacity:.7}.hud-module[_ngcontent-%COMP%]   .hud-box-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.1rem;color:#fff;letter-spacing:2px;text-transform:uppercase}.hud-module[_ngcontent-%COMP%]   .hud-content[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{font-size:.95rem;line-height:1.6;color:#bbb;margin:0}.package-grid[_ngcontent-%COMP%], .package-card[_ngcontent-%COMP%]{display:none}.pkg-roster[_ngcontent-%COMP%]{width:100%;border:1px solid rgba(0,243,255,.12);background:#00000073;position:relative;overflow:hidden;margin:1.5rem 0}.pkg-roster[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:linear-gradient(rgba(0,243,255,.015) 1px,transparent 1px),linear-gradient(90deg,rgba(0,243,255,.015) 1px,transparent 1px);background-size:40px 7px;pointer-events:none}.pkg-thead[_ngcontent-%COMP%]{display:grid;grid-template-columns:38px 12px 1fr 60px 140px 20px;padding:.3rem 1rem .3rem .8rem;background:#00f3ff0a;border-bottom:1px solid rgba(0,243,255,.15);font-family:var(--font-mono);font-size:.42rem;letter-spacing:3px;color:var(--neon-cyan);opacity:.5;text-transform:uppercase;position:relative;z-index:1}.pkg-row[_ngcontent-%COMP%]{position:relative;z-index:1;border-bottom:1px solid rgba(0,243,255,.07);cursor:pointer;transition:background .2s}.pkg-row[_ngcontent-%COMP%]:before{content:"";position:absolute;left:0;top:0;bottom:0;width:2px;background:var(--neon-cyan);opacity:0;transition:opacity .2s}.pkg-row[_ngcontent-%COMP%]:hover{background:#00f3ff08}.pkg-row[_ngcontent-%COMP%]:hover:before{opacity:.45}.pkg-row[_ngcontent-%COMP%]:hover   .pk-name[_ngcontent-%COMP%]{color:#fff}.pkg-row.pkg-sel[_ngcontent-%COMP%]{background:linear-gradient(90deg,rgba(255,238,0,.05),transparent 60%)}.pkg-row.pkg-sel[_ngcontent-%COMP%]:before{background:var(--cyber-yellow);opacity:1}.pkg-strip[_ngcontent-%COMP%]{display:grid;grid-template-columns:38px 12px 1fr 60px 140px 20px;align-items:center;padding:.55rem 1rem .55rem .8rem;min-height:42px}.pk-id[_ngcontent-%COMP%]{font-family:var(--font-mono);font-size:.65rem;color:#00f3ff52;letter-spacing:1px}.pk-led[_ngcontent-%COMP%]{width:7px;height:7px;border-radius:50%;background:#ffffff1a;border:1px solid rgba(255,255,255,.15);transition:all .3s;flex-shrink:0}.pk-led.on[_ngcontent-%COMP%]{background:var(--cyber-yellow);border-color:var(--cyber-yellow);box-shadow:0 0 6px var(--cyber-yellow),0 0 14px #fe06}.pk-name[_ngcontent-%COMP%]{font-family:var(--font-header);font-size:.88rem;color:#ffffffb8;letter-spacing:1px;text-transform:uppercase;padding-left:.8rem;transition:color .2s}.pkg-sel[_ngcontent-%COMP%]   .pk-name[_ngcontent-%COMP%]{color:#fff}.pk-count[_ngcontent-%COMP%]{font-family:var(--font-mono);font-size:.7rem;color:var(--neon-cyan);text-align:center}.pk-status[_ngcontent-%COMP%]{font-family:var(--font-mono);font-size:.48rem;letter-spacing:2px;color:#00f3ff61;text-align:right;padding-right:.8rem;white-space:nowrap;text-transform:uppercase}.pk-status.st-sel[_ngcontent-%COMP%]{color:var(--cyber-yellow)}.pk-chev[_ngcontent-%COMP%]{font-size:.7rem;color:#00f3ff47;transition:all .25s;opacity:.4}.pk-chev.open[_ngcontent-%COMP%]{transform:rotate(90deg);color:var(--cyber-yellow);opacity:1}.pkg-expand[_ngcontent-%COMP%]{border-top:1px solid rgba(255,238,0,.1);background:linear-gradient(90deg,#ffee0005,#00f3ff05);padding:.8rem 1rem 1rem 3.4rem;animation:_ngcontent-%COMP%_pkg-expand-in .2s ease-out}.pkg-expand[_ngcontent-%COMP%]   .pk-desc[_ngcontent-%COMP%]{font-family:var(--font-mono);font-size:.7rem;color:var(--text-dim);margin:0 0 .8rem;line-height:1.5}.pkg-expand[_ngcontent-%COMP%]   .pk-pill-group[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.4rem}.pkg-expand[_ngcontent-%COMP%]   .pk-pill[_ngcontent-%COMP%]{font-family:var(--font-mono);font-size:.58rem;padding:2px 10px;background:#00f3ff0f;border:1px solid rgba(0,243,255,.2);color:var(--neon-cyan);text-transform:uppercase;letter-spacing:1px}@keyframes _ngcontent-%COMP%_pkg-expand-in{0%{opacity:0;transform:translateY(-4px)}to{opacity:1;transform:translateY(0)}}.skill-select-panel[_ngcontent-%COMP%]{margin:1.5rem 0;background:#0000004d;border:1px solid rgba(0,243,255,.15)}.skill-select-panel[_ngcontent-%COMP%]   .hud-box-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;padding:.8rem 1.2rem;background:#00f3ff08;border-bottom:1px solid rgba(0,243,255,.12);margin:0}.skill-select-panel[_ngcontent-%COMP%]   .hud-box-header[_ngcontent-%COMP%]   .index[_ngcontent-%COMP%]{font-family:var(--font-mono);font-size:.65rem;color:var(--neon-cyan);opacity:.5}.skill-select-panel[_ngcontent-%COMP%]   .hud-box-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-family:var(--font-header);font-size:.9rem;color:#fff;letter-spacing:3px;flex:1}.skill-select-panel[_ngcontent-%COMP%]   .load-bar-inline[_ngcontent-%COMP%]{width:80px;height:4px;background:#ffffff0d;border:1px solid rgba(255,255,255,.1)}.skill-select-panel[_ngcontent-%COMP%]   .load-bar-inline[_ngcontent-%COMP%]   .lbi-fill[_ngcontent-%COMP%]{height:100%;background:var(--neon-cyan);box-shadow:0 0 6px var(--neon-cyan);transition:width .4s}.skill-select-panel[_ngcontent-%COMP%]   .load-label[_ngcontent-%COMP%]{font-family:var(--font-mono);font-size:.65rem;color:#fff;white-space:nowrap}.skill-select-panel[_ngcontent-%COMP%]   .hint[_ngcontent-%COMP%]{font-family:var(--font-mono);font-size:.68rem;color:var(--text-dim);padding:.8rem 1.2rem 0;margin:0}.skill-chip-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(160px,1fr));gap:.5rem;padding:1rem 1.2rem}.sk-chip[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.6rem;padding:.5rem .8rem;background:#ffffff08;border:1px solid rgba(255,255,255,.08);clip-path:polygon(5px 0,100% 0,calc(100% - 5px) 100%,0 100%);cursor:pointer;transition:all .18s}.sk-chip[_ngcontent-%COMP%]:hover:not(.sk-dim){border-color:#00f3ff61;background:#00f3ff0d}.sk-chip[_ngcontent-%COMP%]:hover:not(.sk-dim)   .sk-name[_ngcontent-%COMP%]{color:#fff}.sk-chip.sk-on[_ngcontent-%COMP%]{background:#00f3ff1a;border-color:var(--neon-cyan);box-shadow:0 0 8px #00f3ff1a}.sk-chip.sk-on[_ngcontent-%COMP%]   .sk-led[_ngcontent-%COMP%]{background:var(--neon-cyan);border-color:var(--neon-cyan);box-shadow:0 0 5px var(--neon-cyan)}.sk-chip.sk-on[_ngcontent-%COMP%]   .sk-name[_ngcontent-%COMP%]{color:#fff;font-weight:700}.sk-chip.sk-dim[_ngcontent-%COMP%]{opacity:.28;cursor:not-allowed}.sk-led[_ngcontent-%COMP%]{width:6px;height:6px;border-radius:50%;background:#ffffff1a;border:1px solid rgba(255,255,255,.18);flex-shrink:0;transition:all .2s}.sk-name[_ngcontent-%COMP%]{font-family:var(--font-mono);font-size:.72rem;color:#fff9;flex:1;text-transform:uppercase}.sk-check[_ngcontent-%COMP%]{font-size:.7rem;color:var(--neon-cyan);font-weight:700}.sk-status-bar[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;padding:.6rem 1.2rem;border-top:1px solid rgba(255,255,255,.05);background:#0003}.sk-status-bar[_ngcontent-%COMP%]   .ssb-label[_ngcontent-%COMP%]{font-family:var(--font-mono);font-size:.48rem;color:var(--text-dim);letter-spacing:2px}.sk-status-bar[_ngcontent-%COMP%]   .ssb-bar[_ngcontent-%COMP%]{flex:1;height:4px;background:#ffffff0d;border:1px solid rgba(255,255,255,.08)}.sk-status-bar[_ngcontent-%COMP%]   .ssb-bar[_ngcontent-%COMP%]   .ssb-fill[_ngcontent-%COMP%]{height:100%;background:var(--neon-cyan);box-shadow:0 0 6px var(--neon-cyan);transition:width .4s}.sk-status-bar[_ngcontent-%COMP%]   .ssb-msg[_ngcontent-%COMP%]{font-family:var(--font-mono);font-size:.6rem;color:var(--text-dim);letter-spacing:1px;white-space:nowrap}.sk-status-bar[_ngcontent-%COMP%]   .ssb-msg.ready[_ngcontent-%COMP%]{color:var(--neon-cyan);font-weight:700}.package-card[_ngcontent-%COMP%]{background:#141e2d99;border:1px solid rgba(255,255,255,.05);padding:1.5rem;position:relative;cursor:pointer;transition:all .3s cubic-bezier(.165,.84,.44,1);display:flex;flex-direction:column;min-height:380px}.package-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);background:#1e2d41cc;border-color:#00f3ff4d;box-shadow:0 10px 30px #00000080}.package-card.selected[_ngcontent-%COMP%]{background:#00f3ff14;border-color:#00f3ff;box-shadow:0 0 20px #00f3ff33}.package-card.selected[_ngcontent-%COMP%]   .pkg-marker[_ngcontent-%COMP%]{color:#00f3ff;opacity:1}.package-card.selected[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#00f3ff;text-shadow:0 0 10px rgba(0,243,255,.5)}.package-card.selected[_ngcontent-%COMP%]   .selection-indicator[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]{color:#00f3ff;font-weight:700}.package-card.selected[_ngcontent-%COMP%]   .selection-indicator[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{color:#00f3ff;transform:scale(1.2)}.package-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{margin-bottom:1.5rem}.package-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .pkg-marker[_ngcontent-%COMP%]{display:block;font-size:.65rem;font-weight:700;letter-spacing:3px;color:#fff;opacity:.4;margin-bottom:.25rem}.package-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.4rem;font-weight:400;transition:color .3s ease}.package-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]{flex:1}.package-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .pkg-desc[_ngcontent-%COMP%]{font-size:.9rem;color:#aaa;line-height:1.5;margin-bottom:2rem}.package-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .skills-preview[_ngcontent-%COMP%]{background:#0000004d;border:1px dashed rgba(255,255,255,.1);padding:1rem;border-radius:4px}.package-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .skills-preview[_ngcontent-%COMP%]   .hud-label-tiny[_ngcontent-%COMP%]{display:block;font-size:.6rem;color:#00f3ff;margin-bottom:.75rem;opacity:.8}.package-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .skills-preview[_ngcontent-%COMP%]   .skills-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.4rem}.package-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .skills-preview[_ngcontent-%COMP%]   .skills-list[_ngcontent-%COMP%]   .skill-tag[_ngcontent-%COMP%]{font-size:.75rem;background:#ffffff0d;padding:.25rem .5rem;border-radius:3px;color:#eee;border:1px solid rgba(255,255,255,.1)}.package-card[_ngcontent-%COMP%]   .selection-indicator[_ngcontent-%COMP%]{margin-top:1.5rem;display:flex;justify-content:space-between;align-items:center;padding-top:1rem;border-top:1px solid rgba(255,255,255,.05)}.package-card[_ngcontent-%COMP%]   .selection-indicator[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]{font-size:.7rem;letter-spacing:1px;color:#666;text-transform:uppercase}.package-card[_ngcontent-%COMP%]   .selection-indicator[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:.8rem;color:#444;transition:all .3s ease}.global-actions[_ngcontent-%COMP%]{margin-top:3rem;display:flex;flex-direction:column;align-items:flex-end}.global-actions[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]{width:100%;height:1px;background:linear-gradient(to right,transparent,rgba(0,243,255,.3),transparent);margin-bottom:2rem}.global-actions[_ngcontent-%COMP%]   .btn-action[_ngcontent-%COMP%]{background:transparent;color:#00f3ff;border:1px solid #00f3ff;padding:1rem 3rem;font-family:Space Mono,monospace;font-size:1rem;letter-spacing:2px;cursor:pointer;transition:all .3s ease;position:relative;overflow:hidden}.global-actions[_ngcontent-%COMP%]   .btn-action[_ngcontent-%COMP%]:disabled{color:#444;border-color:#333;cursor:not-allowed}.global-actions[_ngcontent-%COMP%]   .btn-action[_ngcontent-%COMP%]:disabled:hover{background:transparent}.global-actions[_ngcontent-%COMP%]   .btn-action[_ngcontent-%COMP%]:hover:not(:disabled){background:#00f3ff1a;box-shadow:0 0 20px #00f3ff4d;text-shadow:0 0 5px #00f3ff}.global-actions[_ngcontent-%COMP%]   .btn-action[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.2),transparent);transition:left .5s ease}.global-actions[_ngcontent-%COMP%]   .btn-action[_ngcontent-%COMP%]:hover:not(:disabled):after{left:100%}.selection-view[_ngcontent-%COMP%]{display:none}.corner-detail[_ngcontent-%COMP%]{position:absolute;width:8px;height:8px;border:1px solid #00f3ff;opacity:.5}.corner-detail.tl[_ngcontent-%COMP%]{top:0;left:0;border-right:none;border-bottom:none}.corner-detail.tr[_ngcontent-%COMP%]{top:0;right:0;border-left:none;border-bottom:none}.corner-detail.bl[_ngcontent-%COMP%]{bottom:0;left:0;border-right:none;border-top:none}.corner-detail.br[_ngcontent-%COMP%]{bottom:0;right:0;border-left:none;border-top:none}']})};var Vf=()=>[0,1,2,3,4];function KD(n,t){if(n&1&&M(0,"img",89),n&2){let e=h();v("src",e.character().portraitUrl,pr)}}function JD(n,t){n&1&&(s(0,"div",90),M(1,"div",91),s(2,"span",92),d(3,"SIGNAL_LOST"),c()())}function QD(n,t){if(n&1&&(s(0,"span",93),d(1),c()),n&2){let e=h();p(),w('"',e.character().nickname,'"')}}function ZD(n,t){if(n&1&&M(0,"div",106),n&2){let e=t.$implicit,i=h(3).$implicit;I("fill",e<i.level)}}function XD(n,t){n&1&&(s(0,"div",104),b(1,ZD,1,2,"div",105),c()),n&2&&(p(),v("ngForOf",wt(1,Vf)))}function eI(n,t){if(n&1&&(s(0,"span",107),d(1),c()),n&2){let e=h(2).$implicit;p(),x(e.level)}}function tI(n,t){n&1&&(s(0,"span",108),d(1,"-3"),c())}function nI(n,t){if(n&1&&M(0,"div",106),n&2){let e=t.$implicit,i=h().$implicit;I("fill",e<i.level)}}function iI(n,t){if(n&1&&(s(0,"div",109)(1,"span",110),d(2),c(),s(3,"div",111),b(4,nI,1,2,"div",105),c(),s(5,"span",112),d(6),c()()),n&2){let e=t.$implicit;p(2),x(e.specialization),p(2),v("ngForOf",wt(3,Vf)),p(2),x(e.level)}}function rI(n,t){if(n&1&&(s(0,"div",96)(1,"div",97)(2,"span",98),d(3),c(),b(4,XD,2,2,"div",99)(5,eI,2,1,"span",100)(6,tI,2,0,"span",101),c(),s(7,"div",102),b(8,iI,7,4,"div",103),c()()),n&2){let e=h().$implicit;p(3),x(e.name),p(),v("ngIf",e.level!==null),p(),v("ngIf",e.level!==null),p(),v("ngIf",e.level===null),p(2),v("ngForOf",e.children)}}function oI(n,t){if(n&1&&M(0,"div",106),n&2){let e=t.$implicit,i=h(3).$implicit;I("fill",e<i.level)}}function aI(n,t){n&1&&(s(0,"div",111),b(1,oI,1,2,"div",105),c()),n&2&&(p(),v("ngForOf",wt(1,Vf)))}function sI(n,t){if(n&1&&(s(0,"span",112),d(1),c()),n&2){let e=h(2).$implicit;p(),x(e.level)}}function cI(n,t){n&1&&(s(0,"span",116),d(1,"-3"),c())}function lI(n,t){if(n&1&&(s(0,"div",109)(1,"span",110),d(2),c(),b(3,aI,2,2,"div",113)(4,sI,2,1,"span",114)(5,cI,2,0,"span",115),c()),n&2){let e=h().$implicit;p(2),x(e.name),p(),v("ngIf",e.level!==null),p(),v("ngIf",e.level!==null),p(),v("ngIf",e.level===null)}}function dI(n,t){if(n&1&&(lt(0),b(1,rI,9,5,"div",94)(2,lI,6,4,"div",95),dt()),n&2){let e=t.$implicit;p(),v("ngIf",e.children.length>0),p(),v("ngIf",e.children.length===0)}}function uI(n,t){if(n&1&&(s(0,"div",117)(1,"span",55),d(2,"DEBT"),c(),s(3,"span",56),d(4),ie(5,"number"),c()()),n&2){let e=h();p(4),w("Lv ",Dt(5,1,e.character().finances.debt,"1.0-0"))}}function pI(n,t){if(n&1&&(s(0,"div",54)(1,"span",55),d(2,"PENSION"),c(),s(3,"span",56),d(4),ie(5,"number"),c()()),n&2){let e=h();p(4),w("Lv ",Dt(5,1,e.characterService.pension()*1e4,"1.0-0"))}}function fI(n,t){if(n&1&&(s(0,"div",54)(1,"span",55),d(2,"MAJOR"),c(),s(3,"span",56),d(4),c()()),n&2){let e=h(2);p(4),x(e.character().education.major)}}function gI(n,t){if(n&1&&(s(0,"div",54)(1,"span",55),d(2,"MINOR"),c(),s(3,"span",56),d(4),c()()),n&2){let e=h(2);p(4),x(e.character().education.minor)}}function mI(n,t){if(n&1&&(lt(0),s(1,"div",54)(2,"span",55),d(3,"UNIVERSITY"),c(),s(4,"span",118),d(5,"GRADUATED"),c()(),b(6,fI,5,1,"div",65)(7,gI,5,1,"div",65),dt()),n&2){let e=h();p(6),v("ngIf",e.character().education.major),p(),v("ngIf",e.character().education.minor)}}function hI(n,t){n&1&&(s(0,"div",119),d(1,"ACADEMIC_DATA_NOT_FOUND"),c())}function vI(n,t){if(n&1&&(s(0,"div",54)(1,"span",55),d(2,"COMMISSION_PATH"),c(),s(3,"span",56),d(4),c()()),n&2){let e,i=h(2);p(4),x((e=i.character().careerHistory[0])==null?null:e.careerName)}}function _I(n,t){if(n&1&&(lt(0),s(1,"div",54)(2,"span",55),d(3,"MILITARY_ACADEMY"),c(),s(4,"span",118),d(5,"HONORS_GRADUATE"),c()(),b(6,vI,5,1,"div",65),dt()),n&2){let e,i=h();p(6),v("ngIf",(e=i.character().careerHistory[0])==null?null:e.careerName)}}function CI(n,t){n&1&&(s(0,"div",119),d(1,"MILITARY_DATA_NOT_FOUND"),c())}function yI(n,t){if(n&1&&(s(0,"span",123),d(1),c()),n&2){let e=h().$implicit;p(),te("-",e.reduction," ",e.stat)}}function bI(n,t){n&1&&(s(0,"span",118),d(1,"STABILIZED"),c())}function xI(n,t){if(n&1&&(s(0,"div",120)(1,"span",55),d(2),c(),b(3,yI,2,2,"span",121)(4,bI,2,0,"span",122),c()),n&2){let e=t.$implicit;I("treated",e.treated),p(2),x(e.name),p(),v("ngIf",!e.treated),p(),v("ngIf",e.treated)}}function MI(n,t){n&1&&(s(0,"div",124),d(1,"OPTIMAL_CONDITION"),c())}function OI(n,t){if(n&1&&(s(0,"div",125)(1,"span",56),d(2),c()()),n&2){let e=t.$implicit;p(2),x(e)}}function EI(n,t){n&1&&(s(0,"div",124),d(1,"ORGANIC_PURE"),c())}function SI(n,t){if(n&1&&(s(0,"span",139),d(1),s(2,"small"),d(3),c()()),n&2){let e=h().$implicit;p(),w("",e.rankTitle," "),p(2),w("R",e.rank)}}function PI(n,t){if(n&1&&(s(0,"span",140),d(1),c()),n&2){let e=h().$implicit;p(),w("// ",e.assignment)}}function wI(n,t){if(n&1&&(s(0,"li")(1,"span",141),d(2,">"),c(),d(3),c()),n&2){let e=t.$implicit;p(3),w(" ",e," ")}}function DI(n,t){if(n&1&&(s(0,"span",144),d(1),c()),n&2){let e=t.$implicit;p(),x(e)}}function II(n,t){if(n&1&&(s(0,"div",142),b(1,DI,2,1,"span",143),c()),n&2){let e=h().$implicit;p(),v("ngForOf",e.benefits)}}function TI(n,t){if(n&1&&(s(0,"div",126)(1,"div",127)(2,"span",128),d(3),c(),M(4,"div",129),c(),s(5,"div",130)(6,"div",131)(7,"span",132),d(8),ie(9,"uppercase"),c(),b(10,SI,4,2,"span",133)(11,PI,2,1,"span",134),s(12,"span",135),d(13),c()(),s(14,"div",136)(15,"ul",137),b(16,wI,4,1,"li",47),c(),b(17,II,2,1,"div",138),c()()()),n&2){let e=t.$implicit;p(3),w("T",e.termNumber),p(5),x(he(9,7,e.careerName)),p(2),v("ngIf",e.rankTitle),p(),v("ngIf",e.assignment),p(2),w("",18+e.termNumber*4,"Y"),p(3),v("ngForOf",e.events),p(),v("ngIf",e.benefits.length>0)}}function kI(n,t){n&1&&(s(0,"div",124),d(1,"NO_SERVICE_RECORD_ENCODED"),c())}function AI(n,t){if(n&1&&(s(0,"span"),d(1),c()),n&2){let e=h().$implicit;Ti(Lo("nature ",e.nature.toLowerCase())),p(),x(e.nature)}}function RI(n,t){if(n&1&&(s(0,"span",155),d(1),c()),n&2){let e=h().$implicit;p(),w('"',e.quirk,'"')}}function NI(n,t){if(n&1&&(s(0,"p",156),d(1),c()),n&2){let e=h().$implicit;p(),x(e.notes)}}function LI(n,t){if(n&1&&(s(0,"div",145)(1,"div",146)(2,"span",147),d(3),ie(4,"uppercase"),c(),b(5,AI,2,4,"span",148),c(),s(6,"div",149)(7,"h4",150),d(8),c(),s(9,"div",151)(10,"span",152),d(11),c(),b(12,RI,2,1,"span",153),c(),b(13,NI,2,1,"p",154),c()()),n&2){let e=t.$implicit;p(3),x(he(4,6,e.type)),p(2),v("ngIf",e.nature),p(3),x(e.name),p(3),x(e.role),p(),v("ngIf",e.quirk),p(),v("ngIf",e.notes)}}function FI(n,t){n&1&&(s(0,"div",124),d(1,"ISOLATED_OPERATIVE"),c())}function VI(n,t){if(n&1&&(s(0,"div",160),d(1),c()),n&2){let e=t.$implicit;p(),x(e)}}function jI(n,t){if(n&1&&(s(0,"div",157)(1,"div",40)(2,"h3"),d(3,"EQUIPMENT"),c()(),s(4,"div",52)(5,"div",158),b(6,VI,2,1,"div",159),c()()()),n&2){let e=h();p(6),v("ngForOf",e.generalEquipment())}}var hl=class n{characterData;characterService=C(de);character=this.characterService.character;constructor(){}ngOnInit(){this.characterData&&this.characterService.updateCharacter(this.characterData)}uppString(){return this.getUPP(this.character())}get skillGroups(){return this.character().skills}mergedSkills(){let t=this.character(),e=new Map;return t.skills.forEach(r=>{let o=r.name,a=r.specialization;if(!a&&r.name.includes("(")&&r.name.includes(")")){let u=r.name.split("(");o=u[0].trim(),a=u[1].replace(")","").trim()}e.has(o)||e.set(o,{level:null,children:[]});let l=e.get(o);a?l.children.push({name:o,specialization:a,level:r.level}):(l.level===null||r.level>l.level)&&(l.level=r.level)}),Array.from(e.entries()).map(([r,o])=>(o.children.sort((a,l)=>a.specialization.localeCompare(l.specialization)),{name:r,level:o.level,children:o.children})).sort((r,o)=>r.name.localeCompare(o.name))}getSkillsForPdf(){let t=[];return this.mergedSkills().forEach(i=>{i.children.length>0?(t.push({columns:[{text:i.name,fontSize:10,bold:!0,width:"*"},{text:`LVL ${i.level}`,fontSize:10,bold:!0,color:"#00ccff",width:"auto"}],margin:[0,3,0,2]}),i.children.forEach(r=>{t.push({columns:[{text:`  \u21B3 ${r.specialization}`,fontSize:9,color:"#999999",width:"*"},{text:`LVL ${r.level}`,fontSize:9,color:"#666666",width:"auto"}],margin:[0,1,0,1]})})):t.push({columns:[{text:i.name,fontSize:10,width:"*"},{text:`LVL ${i.level}`,fontSize:10,bold:!0,color:"#00ccff",width:"auto"}],margin:[0,2,0,2]})}),t}implants(){return this.character().equipment.filter(t=>t.toLowerCase().includes("implant")||t.toLowerCase().includes("augment"))}generalEquipment(){let t=this.implants();return this.character().equipment.filter(e=>!t.includes(e))}statStr(t){if(!t)return"0 ( -3)";let e=t.value||0,i=t.modifier!==void 0?t.modifier:-3,r=i>=0?"+":"";return`${e} (${r}${i})`}exportJson(){let t=JSON.stringify(this.character(),null,2),e=new Blob([t],{type:"application/json"}),i=window.URL.createObjectURL(e),r=document.createElement("a");r.href=i,r.download=`character_${this.character().name||"unnamed"}.json`,r.click(),window.URL.revokeObjectURL(i)}exportPdf(){let t=this.character(),e=this.getUPP(t),i={pageSize:"A4",pageMargins:[40,40,40,40],content:[{columns:[{width:"*",stack:[{text:"TRAVELLER: 2300AD",fontSize:8,color:"#00ccff"},{text:t.name||"UNNAMED_OPERATIVE",fontSize:24,bold:!0},{text:`DESIGNATION: ${t.nickname||"N/A"} // UPP: ${e}`,fontSize:10,color:"#00ccff"}]},{width:"auto",stack:[{text:"CLEARANCE_LEVEL",fontSize:8,alignment:"center",color:"#666666"},{text:`0${t.careerHistory?.length||0}`,fontSize:28,bold:!0,alignment:"center",color:"#00ccff"}]}]},{text:`
`},{columns:[{width:"33%",stack:[{text:"SPECIES",fontSize:8,color:"#666666"},{text:t.species||"N/A",fontSize:11,bold:!0}]},{width:"33%",stack:[{text:"NATIONALITY",fontSize:8,color:"#666666"},{text:t.nationality||"N/A",fontSize:11,bold:!0}]},{width:"33%",stack:[{text:"HOMEWORLD",fontSize:8,color:"#666666"},{text:`${t.homeworld?.name||"N/A"} (${t.homeworld?.uwp||"???????"})`,fontSize:11,bold:!0}]}]},{text:`
`},{text:"PRIMARY_ATTRIBUTES",fontSize:10,bold:!0,color:"#00ccff",margin:[0,5,0,5]},{canvas:[{type:"rect",x:0,y:0,w:515,h:1,color:"#eeeeee"}]},{table:{widths:["*","*","*","*","*","*"],body:[["STR","DEX","END","INT","EDU","SOC"].map(r=>({text:r,fontSize:8,color:"#666666",alignment:"center"})),[this.statStr(t.characteristics.str),this.statStr(t.characteristics.dex),this.statStr(t.characteristics.end),this.statStr(t.characteristics.int),this.statStr(t.characteristics.edu),this.statStr(t.characteristics.soc)].map(r=>({text:r,fontSize:12,bold:!0,alignment:"center"}))]},layout:"noBorders",margin:[0,5,0,5]},{text:`
`},{columns:[{width:"50%",stack:[{text:"TRAUMA_LOG",fontSize:10,bold:!0,color:"#00ccff",margin:[0,5,0,2]},{canvas:[{type:"rect",x:0,y:0,w:240,h:1,color:"#eeeeee"}]},{stack:t.injuries?.length>0?t.injuries.map(r=>({text:`${r.name}: -${r.reduction} ${r.stat} (${r.treated?"STABILIZED":"ACTIVE"})`,fontSize:9,color:r.treated?"#666666":"#ff4444",margin:[0,2,0,0]})):[{text:"OPTIMAL_CONDITION",fontSize:9,color:"#666666",margin:[0,2,0,0]}]}]},{width:"50%",margin:[20,0,0,0],stack:[{text:"AUGMENTATIONS",fontSize:10,bold:!0,color:"#00ccff",margin:[0,5,0,2]},{canvas:[{type:"rect",x:0,y:0,w:240,h:1,color:"#eeeeee"}]},{stack:this.implants().length>0?this.implants().map(r=>({text:r,fontSize:9,margin:[0,2,0,0]})):[{text:"ORGANIC_PURE",fontSize:9,color:"#666666",margin:[0,2,0,0]}]}]}]},{text:`
`},{columns:[{width:"50%",stack:[{text:"NEURAL_ENCODING (SKILLS)",fontSize:10,bold:!0,color:"#00ccff",margin:[0,5,0,2]},{canvas:[{type:"rect",x:0,y:0,w:240,h:1,color:"#eeeeee"}]},{stack:this.getSkillsForPdf()}]},{width:"50%",margin:[20,0,0,0],stack:[{text:"FINANCIAL_LEDGER",fontSize:10,bold:!0,color:"#00ccff",margin:[0,5,0,2]},{canvas:[{type:"rect",x:0,y:0,w:240,h:1,color:"#eeeeee"}]},{stack:[{columns:[{text:"CASH_ASSETS",fontSize:8,color:"#666666"},{text:`Lv ${t.finances.cash.toLocaleString()}`,fontSize:11,bold:!0,alignment:"right"}]},{columns:[{text:"SHIP_SHARES",fontSize:8,color:"#666666"},{text:`${t.finances.shipShares}`,fontSize:11,bold:!0,alignment:"right"}]},{columns:[{text:"DEBT",fontSize:8,color:"#666666"},{text:`Lv ${t.finances.debt.toLocaleString()}`,fontSize:11,bold:!0,color:"#ff4444",alignment:"right"}]},{columns:[{text:"ANNUAL_PENSION",fontSize:8,color:"#666666"},{text:`Lv ${(this.characterService.pension()*1e4).toLocaleString()}`,fontSize:11,bold:!0,alignment:"right"}]}],margin:[0,5,0,0]},{text:`
`},{text:"EQUIPMENT_GEAR",fontSize:10,bold:!0,color:"#00ccff",margin:[0,5,0,2]},{canvas:[{type:"rect",x:0,y:0,w:240,h:1,color:"#eeeeee"}]},{ul:this.generalEquipment().map(r=>({text:r,fontSize:9,color:"#666666"})),margin:[0,5,0,0]}]}]},{text:`
`},{text:"SERVICE_RECORD_CHRONOLOGY",fontSize:10,bold:!0,color:"#00ccff",margin:[0,5,0,2]},{canvas:[{type:"rect",x:0,y:0,w:515,h:1,color:"#eeeeee"}]},{stack:t.careerHistory?.length>0?t.careerHistory.map(r=>({stack:[{text:`TERM ${r.termNumber}: ${r.careerName.toUpperCase()} // ${r.rankTitle||"Rank 0"} (R${r.rank})`,fontSize:10,bold:!0,color:"#333333",margin:[0,5,0,2]},{text:r.events?.join(" // ")||"No significant events recorded.",fontSize:9,color:"#666666"}]})):[{text:"NO_SERVICE_RECORD_ENCODED",fontSize:9,color:"#666666",margin:[0,5,0,0]}]},{text:`
`},{text:"RELATIONSHIP_MATRIX",fontSize:10,bold:!0,color:"#00ccff",margin:[0,5,0,2]},{canvas:[{type:"rect",x:0,y:0,w:515,h:1,color:"#eeeeee"}]},{stack:t.npcs?.length>0?t.npcs.map(r=>({text:`${r.type.toUpperCase()}: ${r.name} (${r.role||"N/A"}) - ${r.nature||"Neutral"} - ${r.notes||"No data"}`,fontSize:9,color:"#666666",margin:[0,2,0,0]})):[{text:"ISOLATED_OPERATIVE",fontSize:9,color:"#666666",margin:[0,5,0,0]}]},{text:`
`},{columns:[{width:"50%",stack:[{text:"BIO_RECORD",fontSize:10,bold:!0,color:"#00ccff",margin:[0,5,0,2]},{canvas:[{type:"rect",x:0,y:0,w:240,h:1,color:"#eeeeee"}]},{text:t.description||"NO_RECORD_FOUND",fontSize:9,color:"#666666",margin:[0,5,0,0]}]},{width:"50%",margin:[20,0,0,0],stack:[{text:"ACADEMIC_SERVICE_HISTORY",fontSize:10,bold:!0,color:"#00ccff",margin:[0,5,0,2]},{canvas:[{type:"rect",x:0,y:0,w:240,h:1,color:"#eeeeee"}]},{stack:[t.education?.university?{text:`UNIVERSITY: GRADUATED (${t.education.major||"General"})`,fontSize:9,margin:[0,2,0,0]}:null,t.education?.academy?{text:"MILITARY_ACADEMY: HONORS_GRADUATE",fontSize:9,margin:[0,2,0,0]}:null,!t.education?.university&&!t.education?.academy?{text:"NO_ACADEMIC_DATA",fontSize:9,color:"#666666",margin:[0,2,0,0]}:null].filter(r=>r!==null)}]}]}],defaultStyle:{font:"Roboto"}};if(typeof pdfMake<"u"){let r=t.name?t.name.replace(/\s+/g,"_"):"Unnamed";pdfMake.createPdf(i).download(`2300AD_Dossier_${r}.pdf`)}else console.error("pdfMake not found"),alert("PDF library not loaded yet. Please wait a moment or refresh.")}getUPP(t){if(!t||!t.characteristics||!t.characteristics.str)return"000000";try{let e=t.characteristics.str.value.toString(16).toUpperCase(),i=t.characteristics.dex.value.toString(16).toUpperCase(),r=t.characteristics.end.value.toString(16).toUpperCase(),o=t.characteristics.int.value.toString(16).toUpperCase(),a=t.characteristics.edu.value.toString(16).toUpperCase(),l=t.characteristics.soc.value.toString(16).toUpperCase();return`${e}${i}${r}${o}${a}${l}`}catch{return"000000"}}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=G({type:n,selectors:[["app-character-sheet"]],inputs:{characterData:"characterData"},decls:294,vars:77,consts:[["noAcademic",""],["noMilitary",""],[1,"sheet-container","fade-in","dashboard-layout"],[1,"dashboard-header"],[1,"char-id-bar"],[1,"id-module"],[1,"id-label"],[1,"id-val","highlight"],[1,"id-val","success"],[1,"id-val"],[1,"id-module","status"],[1,"identity-block","horizontal-layout"],[1,"portrait-column"],[1,"portrait-frame","vertical"],["alt","Portrait",3,"src",4,"ngIf"],["class","no-signal",4,"ngIf"],[1,"scan-overlay"],[1,"info-column"],[1,"name-block"],[1,"char-name"],["class","nickname",4,"ngIf"],[1,"sub-tags"],[1,"tag"],[1,"tag","highlight"],[1,"dossier-grid"],[1,"d-item"],[1,"d-label"],[1,"d-val"],[1,"d-val","highlight"],[1,"d-val","upp-style"],[1,"characteristics-row"],[1,"stat-card-pair"],[1,"stat-card","current"],[1,"stat-label"],[1,"stat-value"],[1,"stat-mod"],[1,"stat-card","total"],[1,"main-dashboard-grid"],[1,"sidebar-skills"],[1,"dashboard-card","skills-card"],[1,"card-header"],[1,"header-pips"],[1,"pip","dim"],[1,"pip","cyan","pulse"],[1,"count"],[1,"card-content","full-skills"],[1,"skill-tree"],[4,"ngFor","ngForOf"],[1,"content-modules"],[1,"row-modules"],[1,"dashboard-card","info-card"],[1,"pip","cyan"],[1,"card-content"],[1,"tech-tag"],[1,"data-row"],[1,"label"],[1,"val"],[1,"val-text"],[1,"dashboard-card","finance-card"],[1,"pip","amber"],[1,"pip","amber","pulse"],[1,"cash-display"],[1,"val","crimson"],[1,"finance-grid"],["class","data-row danger",4,"ngIf"],["class","data-row",4,"ngIf"],[1,"dashboard-card","education-card"],[4,"ngIf","ngIfElse"],[1,"pip"],[1,"dashboard-card","status-card"],[1,"injury-list"],["class","injury-item",3,"treated",4,"ngFor","ngForOf"],["class","empty-state",4,"ngIf"],[1,"implant-list"],["class","implant-item",4,"ngFor","ngForOf"],[1,"dashboard-card","history-card"],[1,"conduit-timeline"],["class","conduit-entry",4,"ngFor","ngForOf"],[1,"dashboard-card","rel-card"],[1,"pip","cyan","dim"],[1,"npc-grid"],["class","npc-dossier",4,"ngFor","ngForOf"],["class","dashboard-card inv-card",4,"ngIf"],[1,"dashboard-footer"],[1,"action-console"],[1,"btn-tactical",3,"click"],[1,"btn-decor"],[1,"btn-text"],[1,"btn-tactical","primary",3,"click"],["alt","Portrait",3,"src"],[1,"no-signal"],[1,"static-noise"],[1,"signal-lost"],[1,"nickname"],["class","skill-group",4,"ngIf"],["class","skill-entry",4,"ngIf"],[1,"skill-group"],[1,"group-header"],[1,"g-name"],["class","g-dots",4,"ngIf"],["class","g-lvl",4,"ngIf"],["class","g-lvl-neg",4,"ngIf"],[1,"group-children"],["class","skill-entry",4,"ngFor","ngForOf"],[1,"g-dots"],["class","dot",3,"fill",4,"ngFor","ngForOf"],[1,"dot"],[1,"g-lvl"],[1,"g-lvl-neg"],[1,"skill-entry"],[1,"s-name"],[1,"s-dots"],[1,"s-lvl"],["class","s-dots",4,"ngIf"],["class","s-lvl",4,"ngIf"],["class","s-lvl-neg",4,"ngIf"],[1,"s-lvl-neg"],[1,"data-row","danger"],[1,"val","success"],[1,"empty-state-mini"],[1,"injury-item"],["class","val red",4,"ngIf"],["class","val success",4,"ngIf"],[1,"val","red"],[1,"empty-state"],[1,"implant-item"],[1,"conduit-entry"],[1,"conduit-marker"],[1,"term-tag"],[1,"conduit-line"],[1,"conduit-content"],[1,"conduit-header"],[1,"career"],["class","rank",4,"ngIf"],["class","assignment",4,"ngIf"],[1,"age-bracket"],[1,"conduit-body"],[1,"conduit-logs"],["class","conduit-tags",4,"ngIf"],[1,"rank"],[1,"assignment"],[1,"log-prefix"],[1,"conduit-tags"],["class","mini-tag",4,"ngFor","ngForOf"],[1,"mini-tag"],[1,"npc-dossier"],[1,"dossier-header"],[1,"relation"],[3,"class",4,"ngIf"],[1,"dossier-body"],[1,"npc-name"],[1,"npc-meta"],[1,"role"],["class","quirk",4,"ngIf"],["class","notes",4,"ngIf"],[1,"quirk"],[1,"notes"],[1,"dashboard-card","inv-card"],[1,"inv-mini-list"],["class","inv-mini",4,"ngFor","ngForOf"],[1,"inv-mini"]],template:function(e,i){if(e&1){let r=T();s(0,"div",2)(1,"header",3)(2,"div",4)(3,"div",5)(4,"span",6),d(5,"NODE_01"),c(),s(6,"span",7),d(7,"ACTIVE"),c()(),s(8,"div",5)(9,"span",6),d(10,"STREAM_ID"),c(),s(11,"span",8),d(12,"SECURE"),c()(),s(13,"div",5)(14,"span",6),d(15,"OPERATIVE_ID"),c(),s(16,"span",9),d(17),c()(),s(18,"div",5)(19,"span",6),d(20,"PLAYER_NAME"),c(),s(21,"span",7),d(22),c()(),s(23,"div",10)(24,"span",6),d(25,"UNIT_STATUS"),c(),s(26,"span",8),d(27,"ACTIVE"),c()()(),s(28,"div",11)(29,"div",12)(30,"div",13),b(31,KD,1,1,"img",14)(32,JD,4,0,"div",15),M(33,"div",16),c()(),s(34,"div",17)(35,"div",18)(36,"h1",19),d(37),b(38,QD,2,1,"span",20),c(),s(39,"div",21)(40,"span",22),d(41),c(),s(42,"span",22),d(43),c(),s(44,"span",22),d(45),c(),s(46,"span",23),d(47),c()()(),s(48,"div",24)(49,"div",25)(50,"span",26),d(51,"NATIONALITY"),c(),s(52,"span",27),d(53),c()(),s(54,"div",25)(55,"span",26),d(56,"ORIGIN_TYPE"),c(),s(57,"span",28),d(58),c()(),s(59,"div",25)(60,"span",26),d(61,"UNIVERSAL_PERSONNEL_PROFILE"),c(),s(62,"span",29),d(63),c()()()()()(),s(64,"section",30)(65,"div",31)(66,"div",32)(67,"span",33),d(68,"STR_CUR"),c(),s(69,"span",34),d(70),c(),s(71,"div",35),d(72),c()(),s(73,"div",36)(74,"span",33),d(75,"STR_BASE"),c(),s(76,"span",34),d(77),c()()(),s(78,"div",31)(79,"div",32)(80,"span",33),d(81,"DEX_CUR"),c(),s(82,"span",34),d(83),c(),s(84,"div",35),d(85),c()(),s(86,"div",36)(87,"span",33),d(88,"DEX_BASE"),c(),s(89,"span",34),d(90),c()()(),s(91,"div",31)(92,"div",32)(93,"span",33),d(94,"END_CUR"),c(),s(95,"span",34),d(96),c(),s(97,"div",35),d(98),c()(),s(99,"div",36)(100,"span",33),d(101,"END_BASE"),c(),s(102,"span",34),d(103),c()()(),s(104,"div",31)(105,"div",32)(106,"span",33),d(107,"INT_CUR"),c(),s(108,"span",34),d(109),c(),s(110,"div",35),d(111),c()(),s(112,"div",36)(113,"span",33),d(114,"INT_BASE"),c(),s(115,"span",34),d(116),c()()(),s(117,"div",31)(118,"div",32)(119,"span",33),d(120,"EDU_CUR"),c(),s(121,"span",34),d(122),c(),s(123,"div",35),d(124),c()(),s(125,"div",36)(126,"span",33),d(127,"EDU_BASE"),c(),s(128,"span",34),d(129),c()()(),s(130,"div",31)(131,"div",32)(132,"span",33),d(133,"SOC_CUR"),c(),s(134,"span",34),d(135),c(),s(136,"div",35),d(137),c()(),s(138,"div",36)(139,"span",33),d(140,"SOC_BASE"),c(),s(141,"span",34),d(142),c()()()(),s(143,"div",37)(144,"aside",38)(145,"div",39)(146,"div",40)(147,"div",41),M(148,"span",42)(149,"span",43),c(),s(150,"h3"),d(151,"NEURAL_MAP"),c(),s(152,"span",44),d(153),c()(),s(154,"div",45)(155,"div",46),b(156,dI,3,2,"ng-container",47),c()()()(),s(157,"main",48)(158,"div",49)(159,"div",50)(160,"div",40)(161,"div",41),M(162,"span",51)(163,"span",42),c(),s(164,"h3"),d(165,"ORIGIN_DATA"),c()(),s(166,"div",52)(167,"div",53),d(168,"BIO_MAP_S02"),c(),s(169,"div",54)(170,"span",55),d(171,"HOMEWORLD"),c(),s(172,"span",56),d(173),s(174,"small"),d(175),c()()(),s(176,"div",54)(177,"span",55),d(178,"NATIONALITY"),c(),s(179,"span",56),d(180),c()(),s(181,"div",54)(182,"span",55),d(183,"BIO_RECORD"),c(),s(184,"p",57),d(185),c()()()(),s(186,"div",58)(187,"div",40)(188,"div",41),M(189,"span",59)(190,"span",60),c(),s(191,"h3"),d(192,"FINANCIAL_LEDGER"),c()(),s(193,"div",52)(194,"div",53),d(195,"CREDIT_ENCRYPTION_v4"),c(),s(196,"div",61)(197,"span",55),d(198,"LIQUID_ASSETS"),c(),s(199,"span",62),d(200),ie(201,"number"),c()(),s(202,"div",63)(203,"div",54)(204,"span",55),d(205,"SHARES"),c(),s(206,"span",56),d(207),c()(),b(208,uI,6,4,"div",64)(209,pI,6,4,"div",65),c()()(),s(210,"div",66)(211,"div",40)(212,"div",41),M(213,"span",51)(214,"span",42),c(),s(215,"h3"),d(216,"ACADEMIC_RECORD"),c()(),s(217,"div",52)(218,"div",53),d(219,"ARCHIVE_QUERY: SUCCESS"),c(),b(220,mI,8,2,"ng-container",67)(221,hI,2,0,"ng-template",null,0,Ws),c()(),s(223,"div",66)(224,"div",40)(225,"div",41),M(226,"span",43)(227,"span",68),c(),s(228,"h3"),d(229,"MILITARY_RECORD"),c()(),s(230,"div",52)(231,"div",53),d(232,"SERVICE_ID: VERIFIED"),c(),b(233,_I,7,1,"ng-container",67)(234,CI,2,0,"ng-template",null,1,Ws),c()()(),s(236,"div",49)(237,"div",69)(238,"div",40)(239,"div",41),M(240,"span",51)(241,"span",43),c(),s(242,"h3"),d(243,"TRAUMA_LOG"),c()(),s(244,"div",52)(245,"div",70),b(246,xI,5,5,"div",71)(247,MI,2,0,"div",72),c()()(),s(248,"div",69)(249,"div",40)(250,"div",41),M(251,"span",42)(252,"span",51),c(),s(253,"h3"),d(254,"AUGMENTATIONS"),c()(),s(255,"div",52)(256,"div",73),b(257,OI,3,1,"div",74)(258,EI,2,0,"div",72),c()()()(),s(259,"div",75)(260,"div",40)(261,"h3"),d(262,"SERVICE_RECORD_CHRONOLOGY"),c(),s(263,"span",44),d(264),c()(),s(265,"div",52)(266,"div",76),b(267,TI,18,9,"div",77)(268,kI,2,0,"div",72),c()()(),s(269,"div",49)(270,"div",78)(271,"div",40)(272,"div",41),M(273,"span",51)(274,"span",79),c(),s(275,"h3"),d(276,"RELATIONSHIP_MATRIX"),c(),s(277,"span",44),d(278),c()(),s(279,"div",52)(280,"div",80),b(281,LI,14,8,"div",81),c(),b(282,FI,2,0,"div",72),c()(),b(283,jI,7,1,"div",82),c()()(),s(284,"footer",83)(285,"div",84)(286,"button",85),O("click",function(){return S(r),P(i.exportJson())}),M(287,"span",86),s(288,"span",87),d(289,"EXPORT_RAW_DATA"),c()(),s(290,"button",88),O("click",function(){return S(r),P(i.exportPdf())}),M(291,"span",86),s(292,"span",87),d(293,"INITIALIZE_PRINT_SEQUENCE"),c()()()()()}if(e&2){let r,o,a=Gs(222),l=Gs(235);p(17),x(i.character().id||"PENDING"),p(5),x(i.character().playerName||"USER_G_01"),p(9),v("ngIf",i.character().portraitUrl),p(),v("ngIf",!i.character().portraitUrl),p(5),w(" ",i.character().name||"UNNAMED_OPERATIVE"," "),p(),v("ngIf",i.character().nickname),p(3),x(i.character().species),p(2),x(i.character().gender),p(2),w("",i.character().age," YRS"),p(2),w("CLEARANCE_0",i.character().careerHistory.length),p(6),x(i.character().nationality),p(5),x(i.character().originType),p(5),x(i.uppString()),p(7),x(i.character().characteristics.str.value),p(),I("pos",i.character().characteristics.str.modifier>=0),p(),te(" ",i.character().characteristics.str.modifier>=0?"+":"","",i.character().characteristics.str.modifier," "),p(5),x(i.character().characteristics.str.originalValue||i.character().characteristics.str.value),p(6),x(i.character().characteristics.dex.value),p(),I("pos",i.character().characteristics.dex.modifier>=0),p(),te(" ",i.character().characteristics.dex.modifier>=0?"+":"","",i.character().characteristics.dex.modifier," "),p(5),x(i.character().characteristics.dex.originalValue||i.character().characteristics.dex.value),p(6),x(i.character().characteristics.end.value),p(),I("pos",i.character().characteristics.end.modifier>=0),p(),te(" ",i.character().characteristics.end.modifier>=0?"+":"","",i.character().characteristics.end.modifier," "),p(5),x(i.character().characteristics.end.originalValue||i.character().characteristics.end.value),p(6),x(i.character().characteristics.int.value),p(),I("pos",i.character().characteristics.int.modifier>=0),p(),te(" ",i.character().characteristics.int.modifier>=0?"+":"","",i.character().characteristics.int.modifier," "),p(5),x(i.character().characteristics.int.originalValue||i.character().characteristics.int.value),p(6),x(i.character().characteristics.edu.value),p(),I("pos",i.character().characteristics.edu.modifier>=0),p(),te(" ",i.character().characteristics.edu.modifier>=0?"+":"","",i.character().characteristics.edu.modifier," "),p(5),x(i.character().characteristics.edu.originalValue||i.character().characteristics.edu.value),p(6),x(i.character().characteristics.soc.value),p(),I("pos",i.character().characteristics.soc.modifier>=0),p(),te(" ",i.character().characteristics.soc.modifier>=0?"+":"","",i.character().characteristics.soc.modifier," "),p(5),x(i.character().characteristics.soc.originalValue||i.character().characteristics.soc.value),p(11),x(i.character().skills.length),p(3),v("ngForOf",i.mergedSkills()),p(17),w("",(r=i.character().homeworld)==null?null:r.name," "),p(2),w("(",(o=i.character().homeworld)==null?null:o.uwp,")"),p(5),x(i.character().nationality),p(5),x(i.character().description||"NO_RECORD"),p(15),w("Lv ",Dt(201,74,i.character().finances.cash,"1.0-0")),p(7),x(i.character().finances.shipShares||0),p(),v("ngIf",i.character().finances.debt>0),p(),v("ngIf",i.characterService.pension()>0),p(11),v("ngIf",i.character().education.university)("ngIfElse",a),p(13),v("ngIf",i.character().education.academy)("ngIfElse",l),p(13),v("ngForOf",i.character().injuries),p(),v("ngIf",i.character().injuries.length===0),p(10),v("ngForOf",i.implants()),p(),v("ngIf",i.implants().length===0),p(6),w("",i.character().careerHistory.length," TERMS"),p(3),v("ngForOf",i.character().careerHistory),p(),v("ngIf",i.character().careerHistory.length===0),p(10),x(i.character().npcs.length),p(3),v("ngForOf",i.character().npcs),p(),v("ngIf",i.character().npcs.length===0),p(),v("ngIf",i.generalEquipment().length>0)}},dependencies:[Z,_e,ne,gt,Wt],styles:['.sheet-container[_ngcontent-%COMP%]{background:#050505;color:#e9ecef;min-height:100vh;padding:2rem;font-family:Inter,system-ui,-apple-system,sans-serif;display:flex;flex-direction:column;gap:2rem;position:relative;overflow-x:hidden}.sheet-container[_ngcontent-%COMP%]:before{content:"";position:fixed;inset:0;background:linear-gradient(#12101000 50%,#0000001a 50%),linear-gradient(90deg,#ff000004,#00ff0004,#0000ff04);background-size:100% 3px,3px 100%;pointer-events:none;z-index:100;opacity:.5}.sheet-container[_ngcontent-%COMP%]:before, .sheet-container[_ngcontent-%COMP%]   .master-frame-oct[_ngcontent-%COMP%], .sheet-container[_ngcontent-%COMP%]   .schematic-overlay[_ngcontent-%COMP%], .sheet-container[_ngcontent-%COMP%]   .scan-line[_ngcontent-%COMP%], .sheet-container[_ngcontent-%COMP%]   .noise-overlay[_ngcontent-%COMP%], .sheet-container[_ngcontent-%COMP%]   .d-stamp[_ngcontent-%COMP%], .sheet-container[_ngcontent-%COMP%]   .d-stamp-vertical[_ngcontent-%COMP%]{display:none!important}.dashboard-header[_ngcontent-%COMP%]{background:linear-gradient(to bottom,#1a1a1a,#121212);border-bottom:2px solid #dc3545;margin-bottom:2rem;box-shadow:0 5px 15px #00000080}.dashboard-header[_ngcontent-%COMP%]   .char-id-bar[_ngcontent-%COMP%]{display:flex;background:#000;padding:.4rem 2rem;gap:2rem;border-bottom:1px solid rgba(255,255,255,.05)}.dashboard-header[_ngcontent-%COMP%]   .char-id-bar[_ngcontent-%COMP%]   .id-module[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.8rem}.dashboard-header[_ngcontent-%COMP%]   .char-id-bar[_ngcontent-%COMP%]   .id-module[_ngcontent-%COMP%]   .id-label[_ngcontent-%COMP%]{font-size:.65rem;color:#444;font-weight:800;letter-spacing:2px}.dashboard-header[_ngcontent-%COMP%]   .char-id-bar[_ngcontent-%COMP%]   .id-module[_ngcontent-%COMP%]   .id-val[_ngcontent-%COMP%]{font-size:.8rem;font-family:var(--font-mono);color:#888}.dashboard-header[_ngcontent-%COMP%]   .char-id-bar[_ngcontent-%COMP%]   .id-module[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{color:#dc3545;font-weight:800}.dashboard-header[_ngcontent-%COMP%]   .identity-block.horizontal-layout[_ngcontent-%COMP%]{display:flex;padding:2rem;gap:2.5rem;align-items:flex-start}.dashboard-header[_ngcontent-%COMP%]   .identity-block.horizontal-layout[_ngcontent-%COMP%]   .portrait-column[_ngcontent-%COMP%]{flex-shrink:0}.dashboard-header[_ngcontent-%COMP%]   .identity-block.horizontal-layout[_ngcontent-%COMP%]   .portrait-column[_ngcontent-%COMP%]   .portrait-frame.vertical[_ngcontent-%COMP%]{width:180px;height:240px;border:2px solid #dc3545;box-shadow:0 0 20px #dc35454d;position:relative;background:#050505;overflow:hidden}.dashboard-header[_ngcontent-%COMP%]   .identity-block.horizontal-layout[_ngcontent-%COMP%]   .portrait-column[_ngcontent-%COMP%]   .portrait-frame.vertical[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;filter:sepia(.2) contrast(1.1)}.dashboard-header[_ngcontent-%COMP%]   .identity-block.horizontal-layout[_ngcontent-%COMP%]   .portrait-column[_ngcontent-%COMP%]   .portrait-frame.vertical[_ngcontent-%COMP%]   .no-signal[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;font-family:var(--font-mono);color:#dc354566}.dashboard-header[_ngcontent-%COMP%]   .identity-block.horizontal-layout[_ngcontent-%COMP%]   .portrait-column[_ngcontent-%COMP%]   .portrait-frame.vertical[_ngcontent-%COMP%]   .no-signal[_ngcontent-%COMP%]   .signal-lost[_ngcontent-%COMP%]{font-size:.7rem;font-weight:800;margin-top:1rem;letter-spacing:2px}.dashboard-header[_ngcontent-%COMP%]   .identity-block.horizontal-layout[_ngcontent-%COMP%]   .portrait-column[_ngcontent-%COMP%]   .portrait-frame.vertical[_ngcontent-%COMP%]   .scan-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:linear-gradient(#12101000 50%,#00000040 50%),linear-gradient(90deg,#ff00000f,#00ff0005,#0000ff0f);background-size:100% 2px,3px 100%;pointer-events:none}.dashboard-header[_ngcontent-%COMP%]   .identity-block.horizontal-layout[_ngcontent-%COMP%]   .info-column[_ngcontent-%COMP%]{flex-grow:1;display:flex;flex-direction:column;gap:2rem}.dashboard-header[_ngcontent-%COMP%]   .identity-block.horizontal-layout[_ngcontent-%COMP%]   .info-column[_ngcontent-%COMP%]   .char-name[_ngcontent-%COMP%]{font-size:3.5rem;margin:0;line-height:.9;letter-spacing:-2px;text-transform:uppercase;background:linear-gradient(to right,#fff,#888);-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent}.dashboard-header[_ngcontent-%COMP%]   .identity-block.horizontal-layout[_ngcontent-%COMP%]   .info-column[_ngcontent-%COMP%]   .char-name[_ngcontent-%COMP%]   .nickname[_ngcontent-%COMP%]{display:block;font-size:1.2rem;-webkit-text-fill-color:#dc3545;letter-spacing:5px;margin-top:.5rem;opacity:.8}.dashboard-header[_ngcontent-%COMP%]   .identity-block.horizontal-layout[_ngcontent-%COMP%]   .info-column[_ngcontent-%COMP%]   .sub-tags[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-top:1rem}.dashboard-header[_ngcontent-%COMP%]   .identity-block.horizontal-layout[_ngcontent-%COMP%]   .info-column[_ngcontent-%COMP%]   .sub-tags[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]{font-size:.75rem;background:#ffffff0d;padding:.2rem .8rem;border-radius:4px;color:#aaa;border:1px solid rgba(255,255,255,.1)}.dashboard-header[_ngcontent-%COMP%]   .identity-block.horizontal-layout[_ngcontent-%COMP%]   .info-column[_ngcontent-%COMP%]   .sub-tags[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{background:#dc35451a;color:#dc3545;border-color:#dc354533;font-weight:800}.dashboard-header[_ngcontent-%COMP%]   .identity-block.horizontal-layout[_ngcontent-%COMP%]   .info-column[_ngcontent-%COMP%]   .dossier-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:2rem;padding-top:2rem;border-top:1px solid rgba(255,255,255,.05)}.dashboard-header[_ngcontent-%COMP%]   .identity-block.horizontal-layout[_ngcontent-%COMP%]   .info-column[_ngcontent-%COMP%]   .dossier-grid[_ngcontent-%COMP%]   .d-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.4rem}.dashboard-header[_ngcontent-%COMP%]   .identity-block.horizontal-layout[_ngcontent-%COMP%]   .info-column[_ngcontent-%COMP%]   .dossier-grid[_ngcontent-%COMP%]   .d-item[_ngcontent-%COMP%]   .d-label[_ngcontent-%COMP%]{font-size:.6rem;color:#444;font-weight:800;letter-spacing:2px}.dashboard-header[_ngcontent-%COMP%]   .identity-block.horizontal-layout[_ngcontent-%COMP%]   .info-column[_ngcontent-%COMP%]   .dossier-grid[_ngcontent-%COMP%]   .d-item[_ngcontent-%COMP%]   .d-val[_ngcontent-%COMP%]{font-size:1.1rem;color:#ddd;font-weight:600}.dashboard-header[_ngcontent-%COMP%]   .identity-block.horizontal-layout[_ngcontent-%COMP%]   .info-column[_ngcontent-%COMP%]   .dossier-grid[_ngcontent-%COMP%]   .d-item[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{color:#dc3545}.dashboard-header[_ngcontent-%COMP%]   .identity-block.horizontal-layout[_ngcontent-%COMP%]   .info-column[_ngcontent-%COMP%]   .dossier-grid[_ngcontent-%COMP%]   .d-item[_ngcontent-%COMP%]   .upp-style[_ngcontent-%COMP%]{font-family:var(--font-mono);letter-spacing:4px;color:#dc3545;font-weight:900}.characteristics-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(6,1fr);gap:1rem}.characteristics-row[_ngcontent-%COMP%]   .stat-card-pair[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.characteristics-row[_ngcontent-%COMP%]   .stat-card-pair[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]{background:#0d0d0d;border:1px solid rgba(255,255,255,.08);border-radius:4px;padding:1rem;display:flex;flex-direction:column;align-items:center;transition:all .2s ease;position:relative}.characteristics-row[_ngcontent-%COMP%]   .stat-card-pair[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]:hover{border-color:#ffffff4d}.characteristics-row[_ngcontent-%COMP%]   .stat-card-pair[_ngcontent-%COMP%]   .stat-card.current[_ngcontent-%COMP%]{background:linear-gradient(to bottom,#0d0d0d,#dc35450d);border-left:3px solid #dc3545}.characteristics-row[_ngcontent-%COMP%]   .stat-card-pair[_ngcontent-%COMP%]   .stat-card.current[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{color:#fff}.characteristics-row[_ngcontent-%COMP%]   .stat-card-pair[_ngcontent-%COMP%]   .stat-card.total[_ngcontent-%COMP%]{background:#0000004d;border-color:#ffffff0d;padding:.5rem;opacity:.7}.characteristics-row[_ngcontent-%COMP%]   .stat-card-pair[_ngcontent-%COMP%]   .stat-card.total[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:.6rem;margin-bottom:.2rem}.characteristics-row[_ngcontent-%COMP%]   .stat-card-pair[_ngcontent-%COMP%]   .stat-card.total[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:1.2rem;color:#6c757d}.characteristics-row[_ngcontent-%COMP%]   .stat-card-pair[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:.65rem;color:#6c757d;font-weight:700;letter-spacing:1px;margin-bottom:.2rem}.characteristics-row[_ngcontent-%COMP%]   .stat-card-pair[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:2rem;font-weight:900;line-height:1}.characteristics-row[_ngcontent-%COMP%]   .stat-card-pair[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-mod[_ngcontent-%COMP%]{position:absolute;right:.5rem;top:.5rem;background:#333;padding:.1rem .4rem;border-radius:2px;font-size:.7rem;font-weight:800;color:#fff}.characteristics-row[_ngcontent-%COMP%]   .stat-card-pair[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-mod.pos[_ngcontent-%COMP%]{background:#28a745}.main-dashboard-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:350px 1fr;gap:2rem;align-items:start}.sidebar-skills[_ngcontent-%COMP%]{position:sticky;top:2rem}.sidebar-skills[_ngcontent-%COMP%]   .skills-card[_ngcontent-%COMP%]{height:auto;display:flex;flex-direction:column}.sidebar-skills[_ngcontent-%COMP%]   .skills-card[_ngcontent-%COMP%]   .card-content.full-skills[_ngcontent-%COMP%]{padding:0!important;max-height:none;overflow:visible}.sidebar-skills[_ngcontent-%COMP%]   .skill-entry[_ngcontent-%COMP%]{padding:1rem 1.5rem;border-bottom:1px solid rgba(255,255,255,.05);display:flex;align-items:center;gap:1rem;transition:background .2s}.sidebar-skills[_ngcontent-%COMP%]   .skill-entry[_ngcontent-%COMP%]:hover{background:#ffffff05}.sidebar-skills[_ngcontent-%COMP%]   .skill-entry[_ngcontent-%COMP%]   .s-name[_ngcontent-%COMP%]{flex:1;font-size:.85rem;font-weight:600;color:#ffb700;letter-spacing:.5px}.sidebar-skills[_ngcontent-%COMP%]   .skill-entry[_ngcontent-%COMP%]   .s-dots[_ngcontent-%COMP%]{display:flex;gap:3px}.sidebar-skills[_ngcontent-%COMP%]   .skill-entry[_ngcontent-%COMP%]   .s-dots[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{width:8px;height:8px;border:1px solid rgba(255,255,255,.2);border-radius:1px}.sidebar-skills[_ngcontent-%COMP%]   .skill-entry[_ngcontent-%COMP%]   .s-dots[_ngcontent-%COMP%]   .dot.fill[_ngcontent-%COMP%]{background:#dc3545;border-color:#dc3545}.sidebar-skills[_ngcontent-%COMP%]   .skill-entry[_ngcontent-%COMP%]   .s-lvl[_ngcontent-%COMP%]{width:25px;text-align:right;color:#dc3545;font-weight:800}.sidebar-skills[_ngcontent-%COMP%]   .skill-entry[_ngcontent-%COMP%]   .s-lvl-neg[_ngcontent-%COMP%]{width:25px;text-align:right;color:#dc354566;font-weight:600;font-family:var(--font-mono)}.sidebar-skills[_ngcontent-%COMP%]   .skill-group[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]{background:#0000004d;padding:.6rem 1.5rem;font-size:.65rem;font-weight:900;color:#ffb700;text-transform:uppercase;letter-spacing:2px;border-left:2px solid #ffb700;display:flex;align-items:center;gap:1rem}.sidebar-skills[_ngcontent-%COMP%]   .skill-group[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .g-name[_ngcontent-%COMP%]{flex:1}.sidebar-skills[_ngcontent-%COMP%]   .skill-group[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .g-dots[_ngcontent-%COMP%]{display:flex;gap:3px}.sidebar-skills[_ngcontent-%COMP%]   .skill-group[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .g-dots[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{width:8px;height:8px;border:1px solid rgba(255,255,255,.2);border-radius:1px}.sidebar-skills[_ngcontent-%COMP%]   .skill-group[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .g-dots[_ngcontent-%COMP%]   .dot.fill[_ngcontent-%COMP%]{background:#ffb700;border-color:#ffb700}.sidebar-skills[_ngcontent-%COMP%]   .skill-group[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .g-lvl[_ngcontent-%COMP%]{width:25px;text-align:right;color:#ffb700;font-weight:800}.sidebar-skills[_ngcontent-%COMP%]   .skill-group[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .g-lvl-neg[_ngcontent-%COMP%]{width:25px;text-align:right;color:#ffb70066;font-weight:600;font-family:var(--font-mono)}.sidebar-skills[_ngcontent-%COMP%]   .skill-group[_ngcontent-%COMP%]   .group-children[_ngcontent-%COMP%]   .skill-entry[_ngcontent-%COMP%]{padding-left:4.5rem;background:#0000001a}.sidebar-skills[_ngcontent-%COMP%]   .skill-group[_ngcontent-%COMP%]   .group-children[_ngcontent-%COMP%]   .skill-entry[_ngcontent-%COMP%]   .s-name[_ngcontent-%COMP%]{color:#fff;font-weight:600;opacity:1}.sidebar-skills[_ngcontent-%COMP%]   .skill-group[_ngcontent-%COMP%]   .group-children[_ngcontent-%COMP%]   .skill-entry[_ngcontent-%COMP%]   .s-lvl[_ngcontent-%COMP%]{color:#888}.content-modules[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2rem}.content-modules[_ngcontent-%COMP%]   .row-modules[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:2rem}.dashboard-card[_ngcontent-%COMP%]{background:#0d0d0d;border:1px solid rgba(255,255,255,.08);border-radius:4px;position:relative;overflow:hidden}.dashboard-card[_ngcontent-%COMP%]:before, .dashboard-card[_ngcontent-%COMP%]:after{content:"";position:absolute;width:10px;height:10px;border:1px solid rgba(255,255,255,.1);z-index:10}.dashboard-card[_ngcontent-%COMP%]:before{top:4px;left:4px;border-right:0;border-bottom:0}.dashboard-card[_ngcontent-%COMP%]:after{bottom:4px;right:4px;border-left:0;border-top:0}.dashboard-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{background:#1a1a1a;padding:.8rem 1.5rem;border-bottom:1px solid rgba(255,255,255,.08);display:flex;align-items:center;justify-content:space-between;clip-path:polygon(0 0,100% 0,100% 75%,98% 100%,0 100%);border-right:2px solid #dc3545;position:relative}.dashboard-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-pips[_ngcontent-%COMP%]{display:flex;gap:4px;margin-right:1rem}.dashboard-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-pips[_ngcontent-%COMP%]   .pip[_ngcontent-%COMP%]{width:4px;height:4px;background:#dc3545;border-radius:50%}.dashboard-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-pips[_ngcontent-%COMP%]   .pip.cyan[_ngcontent-%COMP%]{background:#00f3ff;box-shadow:0 0 5px #00f3ff33}.dashboard-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-pips[_ngcontent-%COMP%]   .pip.amber[_ngcontent-%COMP%]{background:#ffb700;box-shadow:0 0 5px #ffb70033}.dashboard-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-pips[_ngcontent-%COMP%]   .pip.dim[_ngcontent-%COMP%]{opacity:.3}.dashboard-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-pips[_ngcontent-%COMP%]   .pip.pulse[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pip-pulse 1.5s infinite}.dashboard-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:.75rem;font-weight:800;letter-spacing:3px;color:#aaa;text-shadow:1px 0 0 rgba(255,0,0,.3),-1px 0 0 rgba(0,243,255,.3);text-transform:uppercase}.dashboard-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{background:#dc3545;color:#fff;padding:.1rem .6rem;border-radius:2px;font-size:.65rem;font-family:var(--font-mono)}.dashboard-card.status-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{border-right-color:#00f3ff}.dashboard-card.status-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]:before{background:#00f3ff}.dashboard-card.finance-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{border-right-color:#ffb700}.dashboard-card.finance-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]:before{background:#ffb700}.dashboard-card.education-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{border-right-color:#00f3ff}.dashboard-card.education-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]:before{background:#00f3ff}.dashboard-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]{padding:1.5rem;position:relative}.dashboard-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .tech-tag[_ngcontent-%COMP%]{position:absolute;top:.5rem;right:1.5rem;font-size:.55rem;color:#333;font-family:var(--font-mono);font-weight:800;letter-spacing:1px;pointer-events:none}.dashboard-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .data-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:.8rem 0;border-bottom:1px solid rgba(255,255,255,.05)}.dashboard-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .data-row[_ngcontent-%COMP%]:last-child{border:none}.dashboard-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .data-row[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:.75rem;color:#6c757d;font-weight:600}.dashboard-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .data-row[_ngcontent-%COMP%]   .val[_ngcontent-%COMP%]{font-size:.9rem;font-weight:500}.dashboard-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .data-row[_ngcontent-%COMP%]   .val-text[_ngcontent-%COMP%]{font-size:.85rem;color:#6c757d;line-height:1.6;margin:.5rem 0 0}.dashboard-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .empty-state-mini[_ngcontent-%COMP%]{padding:1rem;text-align:center;font-size:.65rem;color:#444;letter-spacing:2px;font-family:var(--font-mono);border:1px dashed rgba(255,255,255,.05);background:#0000001a;margin:.5rem 0}.finance-card[_ngcontent-%COMP%]   .cash-display[_ngcontent-%COMP%]{background:#0003;padding:1.5rem;border-radius:6px;text-align:center;margin-bottom:1rem}.finance-card[_ngcontent-%COMP%]   .cash-display[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{display:block;font-size:.7rem;color:#6c757d;margin-bottom:.5rem;letter-spacing:1px}.finance-card[_ngcontent-%COMP%]   .cash-display[_ngcontent-%COMP%]   .val[_ngcontent-%COMP%]{font-size:2.2rem;font-weight:900}.finance-card[_ngcontent-%COMP%]   .cash-display[_ngcontent-%COMP%]   .crimson[_ngcontent-%COMP%]{color:#dc3545}.npc-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:1rem}.npc-grid[_ngcontent-%COMP%]   .npc-dossier[_ngcontent-%COMP%]{background:#121212;border:1px solid rgba(255,255,255,.08);border-radius:6px;overflow:hidden;transition:transform .2s}.npc-grid[_ngcontent-%COMP%]   .npc-dossier[_ngcontent-%COMP%]:hover{transform:scale(1.02);border-color:#fff3}.npc-grid[_ngcontent-%COMP%]   .npc-dossier[_ngcontent-%COMP%]   .dossier-header[_ngcontent-%COMP%]{padding:.5rem 1rem;background:#0006;display:flex;justify-content:space-between;align-items:center;border-bottom:2px solid #dc3545}.npc-grid[_ngcontent-%COMP%]   .npc-dossier[_ngcontent-%COMP%]   .dossier-header[_ngcontent-%COMP%]   .relation[_ngcontent-%COMP%]{font-size:.6rem;font-weight:800;letter-spacing:1px;color:#dc3545}.npc-grid[_ngcontent-%COMP%]   .npc-dossier[_ngcontent-%COMP%]   .dossier-header[_ngcontent-%COMP%]   .nature[_ngcontent-%COMP%]{font-size:.6rem;font-weight:700;padding:.1rem .4rem;border-radius:10px;background:#ffffff1a}.npc-grid[_ngcontent-%COMP%]   .npc-dossier[_ngcontent-%COMP%]   .dossier-header[_ngcontent-%COMP%]   .nature.hostile[_ngcontent-%COMP%], .npc-grid[_ngcontent-%COMP%]   .npc-dossier[_ngcontent-%COMP%]   .dossier-header[_ngcontent-%COMP%]   .nature.rival[_ngcontent-%COMP%], .npc-grid[_ngcontent-%COMP%]   .npc-dossier[_ngcontent-%COMP%]   .dossier-header[_ngcontent-%COMP%]   .nature.enemy[_ngcontent-%COMP%]{background:#dc3545;color:#fff}.npc-grid[_ngcontent-%COMP%]   .npc-dossier[_ngcontent-%COMP%]   .dossier-header[_ngcontent-%COMP%]   .nature.ally[_ngcontent-%COMP%], .npc-grid[_ngcontent-%COMP%]   .npc-dossier[_ngcontent-%COMP%]   .dossier-header[_ngcontent-%COMP%]   .nature.contact[_ngcontent-%COMP%]{background:#28a745;color:#fff}.npc-grid[_ngcontent-%COMP%]   .npc-dossier[_ngcontent-%COMP%]   .dossier-body[_ngcontent-%COMP%]{padding:1rem}.npc-grid[_ngcontent-%COMP%]   .npc-dossier[_ngcontent-%COMP%]   .dossier-body[_ngcontent-%COMP%]   .npc-name[_ngcontent-%COMP%]{margin:0 0 .5rem;font-size:1.1rem;color:#fff}.npc-grid[_ngcontent-%COMP%]   .npc-dossier[_ngcontent-%COMP%]   .dossier-body[_ngcontent-%COMP%]   .npc-meta[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.2rem;margin-bottom:.8rem}.npc-grid[_ngcontent-%COMP%]   .npc-dossier[_ngcontent-%COMP%]   .dossier-body[_ngcontent-%COMP%]   .npc-meta[_ngcontent-%COMP%]   .role[_ngcontent-%COMP%]{font-size:.75rem;font-weight:600;color:#6c757d}.npc-grid[_ngcontent-%COMP%]   .npc-dossier[_ngcontent-%COMP%]   .dossier-body[_ngcontent-%COMP%]   .npc-meta[_ngcontent-%COMP%]   .quirk[_ngcontent-%COMP%]{font-size:.7rem;font-style:italic;color:#dc3545}.npc-grid[_ngcontent-%COMP%]   .npc-dossier[_ngcontent-%COMP%]   .dossier-body[_ngcontent-%COMP%]   .notes[_ngcontent-%COMP%]{font-size:.8rem;line-height:1.4;color:#888;margin:0;padding-top:.5rem;border-top:1px solid rgba(255,255,255,.05)}.history-card[_ngcontent-%COMP%]   .conduit-timeline[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:.5rem}.history-card[_ngcontent-%COMP%]   .conduit-timeline[_ngcontent-%COMP%]   .conduit-entry[_ngcontent-%COMP%]{display:flex;gap:1.5rem;position:relative}.history-card[_ngcontent-%COMP%]   .conduit-timeline[_ngcontent-%COMP%]   .conduit-entry[_ngcontent-%COMP%]:last-child   .conduit-line[_ngcontent-%COMP%]{display:none}.history-card[_ngcontent-%COMP%]   .conduit-timeline[_ngcontent-%COMP%]   .conduit-entry[_ngcontent-%COMP%]   .conduit-marker[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;flex-shrink:0;width:30px}.history-card[_ngcontent-%COMP%]   .conduit-timeline[_ngcontent-%COMP%]   .conduit-entry[_ngcontent-%COMP%]   .conduit-marker[_ngcontent-%COMP%]   .term-tag[_ngcontent-%COMP%]{font-size:.65rem;font-weight:900;color:#00f3ff;background:#00f3ff1a;border:1px solid rgba(0,243,255,.3);padding:.2rem .4rem;border-radius:2px;font-family:var(--font-mono);z-index:2}.history-card[_ngcontent-%COMP%]   .conduit-timeline[_ngcontent-%COMP%]   .conduit-entry[_ngcontent-%COMP%]   .conduit-marker[_ngcontent-%COMP%]   .conduit-line[_ngcontent-%COMP%]{width:1px;flex-grow:1;background:linear-gradient(to bottom,#00f3ff,#00f3ff0d);box-shadow:0 0 10px #00f3ff33;margin:4px 0}.history-card[_ngcontent-%COMP%]   .conduit-timeline[_ngcontent-%COMP%]   .conduit-entry[_ngcontent-%COMP%]   .conduit-content[_ngcontent-%COMP%]{flex-grow:1;padding-bottom:2rem}.history-card[_ngcontent-%COMP%]   .conduit-timeline[_ngcontent-%COMP%]   .conduit-entry[_ngcontent-%COMP%]   .conduit-content[_ngcontent-%COMP%]   .conduit-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;margin-bottom:.8rem;border-bottom:1px solid rgba(255,255,255,.05);padding-bottom:.4rem}.history-card[_ngcontent-%COMP%]   .conduit-timeline[_ngcontent-%COMP%]   .conduit-entry[_ngcontent-%COMP%]   .conduit-content[_ngcontent-%COMP%]   .conduit-header[_ngcontent-%COMP%]   .career[_ngcontent-%COMP%]{font-size:.85rem;font-weight:800;color:#fff;letter-spacing:1px}.history-card[_ngcontent-%COMP%]   .conduit-timeline[_ngcontent-%COMP%]   .conduit-entry[_ngcontent-%COMP%]   .conduit-content[_ngcontent-%COMP%]   .conduit-header[_ngcontent-%COMP%]   .rank[_ngcontent-%COMP%]{font-size:.75rem;color:#00f3ff;font-weight:600}.history-card[_ngcontent-%COMP%]   .conduit-timeline[_ngcontent-%COMP%]   .conduit-entry[_ngcontent-%COMP%]   .conduit-content[_ngcontent-%COMP%]   .conduit-header[_ngcontent-%COMP%]   .assignment[_ngcontent-%COMP%]{font-size:.65rem;color:#444;font-family:var(--font-mono)}.history-card[_ngcontent-%COMP%]   .conduit-timeline[_ngcontent-%COMP%]   .conduit-entry[_ngcontent-%COMP%]   .conduit-content[_ngcontent-%COMP%]   .conduit-header[_ngcontent-%COMP%]   .age-bracket[_ngcontent-%COMP%]{margin-left:auto;font-size:.65rem;color:#333;font-weight:800}.history-card[_ngcontent-%COMP%]   .conduit-timeline[_ngcontent-%COMP%]   .conduit-entry[_ngcontent-%COMP%]   .conduit-content[_ngcontent-%COMP%]   .conduit-body[_ngcontent-%COMP%]   .conduit-logs[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0 0 1rem}.history-card[_ngcontent-%COMP%]   .conduit-timeline[_ngcontent-%COMP%]   .conduit-entry[_ngcontent-%COMP%]   .conduit-content[_ngcontent-%COMP%]   .conduit-body[_ngcontent-%COMP%]   .conduit-logs[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:.85rem;color:#6c757d;margin-bottom:.4rem;display:flex;gap:.8rem;line-height:1.4}.history-card[_ngcontent-%COMP%]   .conduit-timeline[_ngcontent-%COMP%]   .conduit-entry[_ngcontent-%COMP%]   .conduit-content[_ngcontent-%COMP%]   .conduit-body[_ngcontent-%COMP%]   .conduit-logs[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .log-prefix[_ngcontent-%COMP%]{color:#00f3ff;font-weight:900;font-family:var(--font-mono);opacity:.5}.history-card[_ngcontent-%COMP%]   .conduit-timeline[_ngcontent-%COMP%]   .conduit-entry[_ngcontent-%COMP%]   .conduit-content[_ngcontent-%COMP%]   .conduit-body[_ngcontent-%COMP%]   .conduit-tags[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem}.history-card[_ngcontent-%COMP%]   .conduit-timeline[_ngcontent-%COMP%]   .conduit-entry[_ngcontent-%COMP%]   .conduit-content[_ngcontent-%COMP%]   .conduit-body[_ngcontent-%COMP%]   .conduit-tags[_ngcontent-%COMP%]   .mini-tag[_ngcontent-%COMP%]{font-size:.6rem;background:#ffffff08;border:1px solid rgba(255,255,255,.08);padding:.1rem .5rem;color:#666;text-transform:uppercase;letter-spacing:1px;border-radius:2px}.dashboard-footer[_ngcontent-%COMP%]{padding:3rem;background:#000;margin-top:4rem;border-top:2px solid #dc3545}.dashboard-footer[_ngcontent-%COMP%]   .action-console[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:2rem}.dashboard-footer[_ngcontent-%COMP%]   .action-console[_ngcontent-%COMP%]   .btn-tactical[_ngcontent-%COMP%]{background:#000c;border:1px solid #333;color:#888;padding:1.2rem 3rem;font-size:.9rem;font-weight:800;letter-spacing:2px;cursor:pointer;position:relative;overflow:hidden;transition:all .3s;display:flex;align-items:center}.dashboard-footer[_ngcontent-%COMP%]   .action-console[_ngcontent-%COMP%]   .btn-tactical[_ngcontent-%COMP%]   .btn-decor[_ngcontent-%COMP%]{position:absolute;left:0;top:0;bottom:0;width:4px;background:#333;transition:all .3s}.dashboard-footer[_ngcontent-%COMP%]   .action-console[_ngcontent-%COMP%]   .btn-tactical[_ngcontent-%COMP%]:hover{border-color:#666;color:#fff;background:#111}.dashboard-footer[_ngcontent-%COMP%]   .action-console[_ngcontent-%COMP%]   .btn-tactical[_ngcontent-%COMP%]:hover   .btn-decor[_ngcontent-%COMP%]{background:#666;width:6px}.dashboard-footer[_ngcontent-%COMP%]   .action-console[_ngcontent-%COMP%]   .btn-tactical.primary[_ngcontent-%COMP%]{background:#dc35450d;border-color:#dc35454d;color:#dc3545}.dashboard-footer[_ngcontent-%COMP%]   .action-console[_ngcontent-%COMP%]   .btn-tactical.primary[_ngcontent-%COMP%]   .btn-decor[_ngcontent-%COMP%]{background:#dc3545}.dashboard-footer[_ngcontent-%COMP%]   .action-console[_ngcontent-%COMP%]   .btn-tactical.primary[_ngcontent-%COMP%]:hover{background:#dc354526;border-color:#dc3545;color:#fff;box-shadow:0 0 20px #dc354533}.dashboard-footer[_ngcontent-%COMP%]   .action-console[_ngcontent-%COMP%]   .btn-tactical.primary[_ngcontent-%COMP%]:hover   .btn-decor[_ngcontent-%COMP%]{width:8px;box-shadow:0 0 10px #dc35454d}.sheet-container[_ngcontent-%COMP%]:after{content:"";position:fixed;inset:0;background-image:radial-gradient(circle at 2px 2px,rgba(255,255,255,.03) 1px,transparent 0);background-size:24px 24px;pointer-events:none;z-index:1000}@keyframes _ngcontent-%COMP%_pip-pulse{0%{opacity:.2;transform:scale(.8)}50%{opacity:1;transform:scale(1.2)}to{opacity:.2;transform:scale(.8)}}@keyframes _ngcontent-%COMP%_noise-shift{0%{transform:translate(0)}10%{transform:translate(-5%,-5%)}20%{transform:translate(10%,5%)}30%{transform:translate(-5%,10%)}40%{transform:translate(2%,-15%)}50%{transform:translate(-10%,5%)}60%{transform:translate(15%)}70%{transform:translateY(10%)}80%{transform:translate(-15%,-5%)}90%{transform:translate(10%,5%)}to{transform:translate(0)}}']})};var BI=["*",[["","footer",""]]],UI=["*","[footer]"],HI=(n,t)=>[n,t];function $I(n,t){if(n&1&&(s(0,"div",16),d(1),c()),n&2){let e=h(2);p(),x(e.readoutTL)}}function zI(n,t){if(n&1&&(s(0,"div",17),d(1),c()),n&2){let e=h(2);p(),x(e.readoutTR)}}function GI(n,t){if(n&1&&(s(0,"div",18),d(1),c()),n&2){let e=h(2);p(),x(e.readoutBL)}}function qI(n,t){if(n&1&&(s(0,"div",19),d(1),c()),n&2){let e=h(2);p(),x(e.readoutBR)}}function WI(n,t){if(n&1&&(s(0,"div",11),b(1,$I,2,1,"div",12)(2,zI,2,1,"div",13)(3,GI,2,1,"div",14)(4,qI,2,1,"div",15),c()),n&2){let e=h();p(),v("ngIf",e.readoutTL),p(),v("ngIf",e.readoutTR),p(),v("ngIf",e.readoutBL),p(),v("ngIf",e.readoutBR)}}function YI(n,t){n&1&&(s(0,"div",20),M(1,"div",21),s(2,"div",22),hr(3,1),c(),M(4,"div",21),c())}var ri=class n{title="SYSTEM_WINDOW";type="standard";isOpen=!0;useOverlay=!0;width="auto";height="auto";hasFooter=!1;readoutTL="SYSTEM: ONLINE";readoutTR="";readoutBL="";readoutBR="";close=new ve;onOverlayClick(t){t.target.classList.contains("hud-overlay")&&this.close.emit()}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=G({type:n,selectors:[["app-hud-window"]],inputs:{title:"title",type:"type",isOpen:"isOpen",useOverlay:"useOverlay",width:"width",height:"height",hasFooter:"hasFooter",readoutTL:"readoutTL",readoutTR:"readoutTR",readoutBL:"readoutBL",readoutBR:"readoutBR"},outputs:{close:"close"},ngContentSelectors:UI,decls:15,vars:11,consts:[[3,"click"],[1,"hud-container",3,"ngClass"],[1,"hud-bracket","tl"],[1,"hud-bracket","tr"],[1,"hud-bracket","bl"],[1,"hud-bracket","br"],["class","digital-readouts",4,"ngIf"],[1,"hud-main-header"],[1,"header-line"],[1,"hud-content"],["class","hud-main-footer",4,"ngIf"],[1,"digital-readouts"],["class","readout top-left",4,"ngIf"],["class","readout top-right",4,"ngIf"],["class","readout bottom-left",4,"ngIf"],["class","readout bottom-right",4,"ngIf"],[1,"readout","top-left"],[1,"readout","top-right"],[1,"readout","bottom-left"],[1,"readout","bottom-right"],[1,"hud-main-footer"],[1,"footer-decor"],[1,"footer-actions"]],template:function(e,i){e&1&&(No(BI),s(0,"div",0),O("click",function(o){return i.onOverlayClick(o)}),s(1,"div",1),M(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),b(6,WI,5,4,"div",6),s(7,"div",7),M(8,"div",8),s(9,"h1"),d(10),c(),M(11,"div",8),c(),s(12,"div",9),hr(13),c(),b(14,YI,5,0,"div",10),c()()),e&2&&(I("hud-overlay",i.useOverlay)("window-open",i.isOpen),p(),v("ngClass",hp(8,HI,"type-"+i.type,"size-"+i.width)),p(5),v("ngIf",i.readoutTL||i.readoutTR||i.readoutBL||i.readoutBR),p(4),x(i.title),p(4),v("ngIf",i.hasFooter))},dependencies:[Z,Uo,ne],styles:['.hud-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:#00050ae6;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);z-index:9999;display:none;align-items:center;justify-content:center;animation:_ngcontent-%COMP%_fadeIn .3s ease-out}.hud-overlay.window-open[_ngcontent-%COMP%]{display:flex}.hud-container[_ngcontent-%COMP%]{position:relative;width:800px;max-width:95vw;background:var(--bg-panel);border:1px solid var(--neon-cyan);box-shadow:0 0 30px var(--neon-cyan-glow);padding:2rem;overflow:hidden}.hud-container.size-small[_ngcontent-%COMP%]{width:400px}.hud-container.size-large[_ngcontent-%COMP%]{width:1000px}.hud-container.size-full[_ngcontent-%COMP%]{width:95vw;height:90vh}.hud-container.type-warning[_ngcontent-%COMP%]{border-color:var(--vivid-orange);box-shadow:0 0 20px var(--vivid-orange-glow)}.hud-container.type-warning[_ngcontent-%COMP%]   .hud-bracket[_ngcontent-%COMP%]{border-color:var(--vivid-orange)}.hud-container.type-warning[_ngcontent-%COMP%]   .hud-main-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:var(--vivid-orange);text-shadow:0 0 10px var(--vivid-orange-glow)}.hud-container.type-warning[_ngcontent-%COMP%]   .hud-main-header[_ngcontent-%COMP%]   .header-line[_ngcontent-%COMP%]{background:linear-gradient(90deg,transparent,var(--vivid-orange),transparent)}.hud-container.type-danger[_ngcontent-%COMP%]{border-color:var(--danger-red, #ff0000);box-shadow:0 0 20px #ff000080}.hud-container.type-danger[_ngcontent-%COMP%]   .hud-bracket[_ngcontent-%COMP%]{border-color:var(--danger-red, #ff0000)}.hud-container.type-danger[_ngcontent-%COMP%]   .hud-main-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:var(--danger-red, #ff0000);text-shadow:0 0 10px rgba(255,0,0,.5)}.hud-bracket[_ngcontent-%COMP%]{position:absolute;width:20px;height:20px;border:2px solid var(--neon-cyan);opacity:.8;transition:all .3s ease;pointer-events:none}.hud-bracket.tl[_ngcontent-%COMP%]{top:0;left:0;border-right:none;border-bottom:none}.hud-bracket.tr[_ngcontent-%COMP%]{top:0;right:0;border-left:none;border-bottom:none}.hud-bracket.bl[_ngcontent-%COMP%]{bottom:0;left:0;border-right:none;border-top:none}.hud-bracket.br[_ngcontent-%COMP%]{bottom:0;right:0;border-left:none;border-top:none}.digital-readouts[_ngcontent-%COMP%]{display:flex;justify-content:space-between;position:absolute;width:100%;top:10px;left:0;padding:0 30px;pointer-events:none}.digital-readouts[_ngcontent-%COMP%]   .readout[_ngcontent-%COMP%]{font-family:var(--font-mono);font-size:.7rem;color:var(--neon-cyan);opacity:.7}.hud-main-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem;margin-top:1rem}.hud-main-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-family:var(--font-accent);font-size:1.8rem;color:var(--neon-cyan);text-transform:uppercase;margin:.5rem 0;letter-spacing:2px;text-shadow:0 0 10px var(--neon-cyan-glow)}.hud-main-header[_ngcontent-%COMP%]   .header-line[_ngcontent-%COMP%]{height:1px;background:linear-gradient(90deg,transparent,var(--neon-cyan),transparent);width:60%;margin:0 auto}.hud-content[_ngcontent-%COMP%]{margin-bottom:2rem;width:100%}.hud-main-footer[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;margin-top:1rem}.hud-main-footer[_ngcontent-%COMP%]   .footer-decor[_ngcontent-%COMP%]{flex:1;height:1px;background:var(--text-dim);opacity:.3}.hud-main-footer[_ngcontent-%COMP%]   .footer-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;justify-content:center}.hud-main-footer[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]{padding:.7rem 2rem;background:transparent;border:2px solid var(--power-red);color:var(--power-red);font-family:var(--font-header);font-size:.75rem;font-weight:900;letter-spacing:3px;text-transform:uppercase;cursor:pointer;transition:all .3s cubic-bezier(.34,1.56,.64,1);clip-path:polygon(8px 0,100% 0,calc(100% - 8px) 100%,0 100%);position:relative;overflow:hidden;text-shadow:0 0 10px rgba(255,0,60,.5)}.hud-main-footer[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,0,60,.3),transparent);transition:left .5s ease}.hud-main-footer[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]:hover{background:#ff003c33;box-shadow:0 0 20px #ff003c99,0 0 40px #ff003c4d,inset 0 0 20px #ff003c1a;border-color:#ff5c7c;transform:scale(1.05) translateY(-2px);text-shadow:0 0 15px rgba(255,0,60,.8);letter-spacing:4px}.hud-main-footer[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]:hover:before{left:100%}.hud-main-footer[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]:active{background:#ff003c4d;box-shadow:0 0 30px #ff003ccc,inset 0 0 30px #ff003c33;transform:scale(.98)}.hud-main-footer[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]:disabled{opacity:.3;cursor:not-allowed;box-shadow:none;transform:none;text-shadow:none}.hud-main-footer[_ngcontent-%COMP%]   .btn-confirm[_ngcontent-%COMP%]{padding:.7rem 2.5rem;background:#00f3ff14;border:2px solid var(--neon-cyan);color:var(--neon-cyan);font-family:var(--font-header);font-size:.75rem;font-weight:900;letter-spacing:3px;text-transform:uppercase;cursor:pointer;transition:all .3s cubic-bezier(.34,1.56,.64,1);clip-path:polygon(8px 0,100% 0,calc(100% - 8px) 100%,0 100%);position:relative;overflow:hidden;text-shadow:0 0 10px rgba(0,243,255,.5)}.hud-main-footer[_ngcontent-%COMP%]   .btn-confirm[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(0,243,255,.4),transparent);transition:left .5s ease}.hud-main-footer[_ngcontent-%COMP%]   .btn-confirm[_ngcontent-%COMP%]:hover:not(:disabled){background:#00f3ff40;box-shadow:0 0 30px #00f3ffcc,0 0 60px #00f3ff66,inset 0 0 20px #00f3ff26;border-color:#fff;color:#fff;transform:scale(1.08) translateY(-3px);text-shadow:0 0 20px rgb(0,243,255);letter-spacing:4px}.hud-main-footer[_ngcontent-%COMP%]   .btn-confirm[_ngcontent-%COMP%]:hover:not(:disabled):before{left:100%}.hud-main-footer[_ngcontent-%COMP%]   .btn-confirm[_ngcontent-%COMP%]:active:not(:disabled){background:#00f3ff59;box-shadow:0 0 40px #00f3ff,inset 0 0 40px #00f3ff40;transform:scale(.96)}.hud-main-footer[_ngcontent-%COMP%]   .btn-confirm[_ngcontent-%COMP%]:disabled{opacity:.2;cursor:not-allowed;box-shadow:none;transform:none;text-shadow:none;border-color:#00f3ff0d}.hud-main-footer[_ngcontent-%COMP%]   .btn-option[_ngcontent-%COMP%]{padding:.7rem 1.8rem;font-family:var(--font-header);font-size:.75rem;font-weight:800;letter-spacing:2.5px;text-transform:uppercase;cursor:pointer;transition:all .3s cubic-bezier(.34,1.56,.64,1);clip-path:polygon(8px 0,100% 0,calc(100% - 8px) 100%,0 100%);border:2px solid;position:relative;overflow:hidden}.hud-main-footer[_ngcontent-%COMP%]   .btn-option[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;left:0;width:100%;height:0;background:currentColor;opacity:.1;transition:height .3s ease}.hud-main-footer[_ngcontent-%COMP%]   .btn-option[_ngcontent-%COMP%]:disabled{opacity:.15;cursor:not-allowed;box-shadow:none;transform:none}.hud-main-footer[_ngcontent-%COMP%]   .btn-option[_ngcontent-%COMP%]:hover:not(:disabled):after{height:100%}.hud-main-footer[_ngcontent-%COMP%]   .btn-option-cyan[_ngcontent-%COMP%]{background:#00f3ff0d;border-color:var(--neon-cyan);color:var(--neon-cyan);text-shadow:0 0 8px rgba(0,243,255,.4)}.hud-main-footer[_ngcontent-%COMP%]   .btn-option-cyan[_ngcontent-%COMP%]:hover:not(:disabled){background:#00f3ff33;box-shadow:0 0 25px #00f3ff99,0 0 50px #00f3ff4d,inset 0 0 15px #00f3ff1a;border-color:#0ff;color:#fff;transform:scale(1.06) translateY(-2px);text-shadow:0 0 15px rgba(0,243,255,.9),0 0 30px rgba(0,243,255,.5);letter-spacing:3.5px}.hud-main-footer[_ngcontent-%COMP%]   .btn-option-cyan[_ngcontent-%COMP%]:active:not(:disabled){background:#00f3ff4d;box-shadow:0 0 35px #00f3ffcc,inset 0 0 25px #00f3ff33;transform:scale(.98)}.hud-main-footer[_ngcontent-%COMP%]   .btn-option-red[_ngcontent-%COMP%]{background:#ff003c0d;border-color:var(--power-red);color:var(--power-red);text-shadow:0 0 8px rgba(255,0,60,.4)}.hud-main-footer[_ngcontent-%COMP%]   .btn-option-red[_ngcontent-%COMP%]:hover:not(:disabled){background:#ff003c33;box-shadow:0 0 25px #ff003c99,0 0 50px #ff003c4d,inset 0 0 15px #ff003c1a;border-color:#ff5c7c;color:#ff8fa3;transform:scale(1.06) translateY(-2px);text-shadow:0 0 15px rgba(255,0,60,.9),0 0 30px rgba(255,0,60,.5);letter-spacing:3.5px}.hud-main-footer[_ngcontent-%COMP%]   .btn-option-red[_ngcontent-%COMP%]:active:not(:disabled){background:#ff003c4d;box-shadow:0 0 35px #ff003ccc,inset 0 0 25px #ff003c33;transform:scale(.98)}.hud-main-footer[_ngcontent-%COMP%]   .btn-option-yellow[_ngcontent-%COMP%]{background:#fff01f0d;border-color:var(--neon-yellow);color:var(--neon-yellow);text-shadow:0 0 8px rgba(255,240,31,.4)}.hud-main-footer[_ngcontent-%COMP%]   .btn-option-yellow[_ngcontent-%COMP%]:hover:not(:disabled){background:#fff01f33;box-shadow:0 0 25px #fff01f99,0 0 50px #fff01f4d,inset 0 0 15px #fff01f1a;border-color:#ff0;color:#ff9;transform:scale(1.06) translateY(-2px);text-shadow:0 0 15px rgba(255,240,31,.9),0 0 30px rgba(255,240,31,.5);letter-spacing:3.5px}.hud-main-footer[_ngcontent-%COMP%]   .btn-option-yellow[_ngcontent-%COMP%]:active:not(:disabled){background:#fff01f4d;box-shadow:0 0 35px #fff01fcc,inset 0 0 25px #fff01f33;transform:scale(.98)}.hud-main-footer[_ngcontent-%COMP%]   .btn-option-green[_ngcontent-%COMP%]{background:#39ff140d;border-color:var(--neon-green);color:var(--neon-green);text-shadow:0 0 8px rgba(57,255,20,.4)}.hud-main-footer[_ngcontent-%COMP%]   .btn-option-green[_ngcontent-%COMP%]:hover:not(:disabled){background:#39ff1433;box-shadow:0 0 25px #39ff1499,0 0 50px #39ff144d,inset 0 0 15px #39ff141a;border-color:#6f6;color:#9f9;transform:scale(1.06) translateY(-2px);text-shadow:0 0 15px rgba(57,255,20,.9),0 0 30px rgba(57,255,20,.5);letter-spacing:3.5px}.hud-main-footer[_ngcontent-%COMP%]   .btn-option-green[_ngcontent-%COMP%]:active:not(:disabled){background:#39ff144d;box-shadow:0 0 35px #39ff14cc,inset 0 0 25px #39ff1433;transform:scale(.98)}.hud-main-footer[_ngcontent-%COMP%]   .btn-option-orange[_ngcontent-%COMP%]{background:#ff8c000d;border-color:var(--vivid-orange);color:var(--vivid-orange);text-shadow:0 0 8px rgba(255,140,0,.4)}.hud-main-footer[_ngcontent-%COMP%]   .btn-option-orange[_ngcontent-%COMP%]:hover:not(:disabled){background:#ff8c0033;box-shadow:0 0 25px #ff8c0099,0 0 50px #ff8c004d,inset 0 0 15px #ff8c001a;border-color:#fa3;color:#fc9;transform:scale(1.06) translateY(-2px);text-shadow:0 0 15px rgba(255,140,0,.9),0 0 30px rgba(255,140,0,.5);letter-spacing:3.5px}.hud-main-footer[_ngcontent-%COMP%]   .btn-option-orange[_ngcontent-%COMP%]:active:not(:disabled){background:#ff8c004d;box-shadow:0 0 35px #ff8c00cc,inset 0 0 25px #ff8c0033;transform:scale(.98)}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}']})};var vl=class n{isOpen=!1;type="warning";title="SECURITY PROTOCOL";message="Execute command?";confirmLabel="INITIALIZE";confirm=new ve;cancel=new ve;get hudType(){switch(this.type){case"error":return"danger";case"success":return"standard";case"warning":return"warning";case"info":return"info";default:return"standard"}}onConfirm(){this.confirm.emit()}onCancel(){this.cancel.emit()}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=G({type:n,selectors:[["app-confirmation-dialog"]],inputs:{isOpen:"isOpen",type:"type",title:"title",message:"message",confirmLabel:"confirmLabel"},outputs:{confirm:"confirm",cancel:"cancel"},decls:13,vars:10,consts:[["width","500px","readoutTL","SECURE_DIALOG",3,"close","isOpen","title","type","readoutTR","hasFooter"],[1,"dialog-content"],[1,"status-readout"],["footer","",1,"footer-container"],[1,"action-wrapper",3,"ngClass"],[1,"btn-cancel",3,"click"],[1,"btn-confirm",3,"click"]],template:function(e,i){e&1&&(s(0,"app-hud-window",0),ie(1,"uppercase"),O("close",function(){return i.onCancel()}),s(2,"div",1)(3,"p"),d(4),c(),s(5,"div",2),d(6,"> SYSTEM_WAITING_FOR_USER_INPUT..."),c()(),s(7,"div",3)(8,"div",4)(9,"button",5),O("click",function(){return i.onCancel()}),d(10," [ ABORT ] "),c(),s(11,"button",6),O("click",function(){return i.onConfirm()}),d(12),c()()()()),e&2&&(v("isOpen",i.isOpen)("title",i.title)("type",i.hudType)("readoutTR","TYPE: "+he(1,8,i.type))("hasFooter",!0),p(4),x(i.message),p(4),v("ngClass",i.type),p(4),w(" [ ",i.confirmLabel," ] "))},dependencies:[Z,Uo,ri,gt],styles:[".dialog-content[_ngcontent-%COMP%]{padding:0 1rem;color:var(--text-main);font-family:var(--font-body);font-size:1rem;line-height:1.6;text-align:center}.dialog-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.dialog-content[_ngcontent-%COMP%]   .status-readout[_ngcontent-%COMP%]{margin-top:1.5rem;font-family:var(--font-mono);font-size:.65rem;color:var(--text-dim);opacity:.5}.action-wrapper[_ngcontent-%COMP%]{display:flex;gap:1rem;width:100%;justify-content:center}.btn-confirm[_ngcontent-%COMP%], .btn-cancel[_ngcontent-%COMP%]{background:transparent;border:1px solid rgba(255,255,255,.15);border-top:2px solid rgba(255,255,255,.25);color:#ffffff8c;font-family:var(--font-mono);font-size:.8rem;letter-spacing:3px;text-transform:uppercase;padding:.75rem 2rem;cursor:pointer;position:relative;overflow:hidden;transition:all .25s ease;clip-path:polygon(8px 0,100% 0,calc(100% - 8px) 100%,0 100%)}.btn-confirm[_ngcontent-%COMP%]:hover, .btn-cancel[_ngcontent-%COMP%]:hover{color:#000}.btn-cancel[_ngcontent-%COMP%]{border-top-color:#00f3ff80;color:#00f3ffb3}.btn-cancel[_ngcontent-%COMP%]:hover{background:#00f3ffd9;border-top-color:var(--neon-cyan);color:#000;box-shadow:0 0 16px #00f3ff59}.btn-confirm[_ngcontent-%COMP%]{border-top-color:#ffa50099;color:var(--vivid-orange)}.btn-confirm[_ngcontent-%COMP%]:hover{background:var(--vivid-orange);border-top-color:var(--vivid-orange);color:#000;box-shadow:0 0 16px #ffa50073}"]})};var KI=(n,t)=>t.index;function JI(n,t){if(n&1&&M(0,"div",39),n&2){let e=h().$implicit,i=h();I("active",i.wizardFlow.currentStepIndex()>e.index)}}function QI(n,t){if(n&1){let e=T();s(0,"div",35),O("click",function(){let r=S(e).$implicit,o=h();return P(o.wizardFlow.goTo(r.index))}),s(1,"div",36),d(2),c(),s(3,"span",37),d(4),c()(),ge(5,JI,1,2,"div",38)}if(n&2){let e=t.$implicit,i=t.$index,r=t.$count,o=h();I("active",o.wizardFlow.currentStepIndex()>=e.index)("current",o.wizardFlow.currentStepIndex()===e.index),p(2),x(e.index<10?"0"+e.index:e.index),p(2),x(e.label),p(),me(i!==r-1?5:-1)}}function ZI(n,t){n&1&&M(0,"app-identity")}function XI(n,t){n&1&&M(0,"app-species")}function e2(n,t){n&1&&M(0,"app-attributes")}function t2(n,t){n&1&&M(0,"app-origin")}function n2(n,t){n&1&&M(0,"app-education")}function i2(n,t){n&1&&M(0,"app-career")}function r2(n,t){n&1&&M(0,"app-npc-management")}function o2(n,t){n&1&&M(0,"app-skill-package")}function a2(n,t){n&1&&M(0,"app-character-sheet")}function s2(n,t){if(n&1&&(s(0,"div",29),ge(1,ZI,1,0,"app-identity")(2,XI,1,0,"app-species")(3,e2,1,0,"app-attributes")(4,t2,1,0,"app-origin")(5,n2,1,0,"app-education")(6,i2,1,0,"app-career")(7,r2,1,0,"app-npc-management")(8,o2,1,0,"app-skill-package")(9,a2,1,0,"app-character-sheet"),c()),n&2){let e,i=h();p(),me((e=i.wizardFlow.currentStepIndex())===1?1:e===2?2:e===3?3:e===4?4:e===5?5:e===6?6:e===7?7:e===8?8:e===9?9:-1)}}function c2(n,t){if(n&1){let e=T();s(0,"footer",30),M(1,"div",40),s(2,"div",41)(3,"button",42),O("click",function(){S(e);let r=h();return P(r.initiateReset())}),s(4,"span",43),d(5,"\u21BA"),c(),s(6,"span",37),d(7,"RESET"),c()(),s(8,"button",44),O("click",function(){S(e);let r=h();return P(r.wizardFlow.executeFinish())}),s(9,"span",45),d(10,"SYS::CMD"),c(),s(11,"span",46),d(12),c()()()()}if(n&2){let e=h();p(8),v("disabled",!e.wizardFlow.canProceedSignal()),p(4),w("",e.wizardFlow.actionLabel()," \u25B8")}}var _l=class n{wizardFlow=C(De);steps=jr;isResetting=N(!1);showResetDialog=N(!1);characterService=C(de);initiateReset(){this.showResetDialog.set(!0)}cancelReset(){this.showResetDialog.set(!1)}confirmReset(){this.showResetDialog.set(!1),this.characterService.reset(),this.isResetting.set(!0),requestAnimationFrame(()=>{this.wizardFlow.resetToStart(),this.isResetting.set(!1)})}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=G({type:n,selectors:[["app-character-wizard"]],decls:42,vars:3,consts:[[1,"tablet-container"],[1,"tablet-hardware"],[1,"screen-glare"],[1,"hw-circuits","top"],[1,"hw-circuits","bottom"],[1,"hw-bezel-detail","top"],[1,"sensor-eye"],[1,"branding"],[1,"status-leds"],[1,"led","power-on"],[1,"led","data-link","pulse"],[1,"led","sync-blink"],[1,"battery-meter"],[1,"bar"],[1,"bar","dim"],[1,"hw-corner","top-left"],[1,"hw-corner","top-right"],[1,"hw-corner","bottom-left"],[1,"hw-corner","bottom-right"],[1,"hw-bezel-detail","left"],[1,"grip-strip"],[1,"vent-grill"],[1,"comm-link"],[1,"hw-bezel-detail","right"],[1,"fingerprint-sensor"],[1,"hw-button"],[1,"hw-button","long"],[1,"wizard-frame"],[1,"step-progress"],[1,"wizard-content"],[1,"wizard-action-bar"],[1,"hw-bezel-detail","bottom"],[1,"io-port"],[1,"speaker-slits"],["title","RESET DATA","message","Are you sure you want to delete this character and start over? This action cannot be undone.",3,"confirm","cancel","isOpen"],[1,"step",3,"click"],[1,"circle"],[1,"label"],[1,"line",3,"active"],[1,"line"],[1,"action-divider"],[1,"action-content"],["title","Reset Character Data",1,"btn-reset-footer",3,"click"],[1,"icon"],[1,"btn-wizard-next",3,"click","disabled"],[1,"btn-index"],[1,"btn-label"]],template:function(e,i){e&1&&(s(0,"div",0)(1,"div",1),M(2,"div",2)(3,"div",3)(4,"div",4),s(5,"div",5),M(6,"div",6),s(7,"div",7),d(8,"TACTICAL_INTERFACE_v4.2"),c(),s(9,"div",8),M(10,"div",9)(11,"div",10)(12,"div",11),c(),s(13,"div",12),M(14,"div",13)(15,"div",13)(16,"div",13)(17,"div",14),c()(),M(18,"div",15)(19,"div",16)(20,"div",17)(21,"div",18),s(22,"div",19),M(23,"div",20)(24,"div",21)(25,"div",22),c(),s(26,"div",23),M(27,"div",24)(28,"div",21)(29,"div",25)(30,"div",26)(31,"div",25),c(),s(32,"div",27)(33,"div",28),wn(34,QI,6,7,null,null,KI),c(),ge(36,s2,10,1,"div",29),ge(37,c2,13,2,"footer",30),c(),s(38,"div",31),M(39,"div",32)(40,"div",33),c()()(),s(41,"app-confirmation-dialog",34),O("confirm",function(){return i.confirmReset()})("cancel",function(){return i.cancelReset()}),c()),e&2&&(p(34),Dn(i.steps),p(2),me(i.isResetting()?-1:36),p(),me(i.wizardFlow.showActionBar()?37:-1),p(4),v("isOpen",i.showResetDialog()))},dependencies:[Yc,Kc,Jc,rl,al,fl,gl,ml,hl,vl],styles:['[_nghost-%COMP%]{display:block;width:100%;height:100%}.tablet-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:1.8rem 1rem;box-sizing:border-box;flex:1;height:100%;min-height:0;background:radial-gradient(circle at center,#1a1a1a,#050505);overflow:hidden;position:relative}.tablet-hardware[_ngcontent-%COMP%]{position:relative;background:repeating-linear-gradient(45deg,rgba(255,255,255,.01) 0px,rgba(255,255,255,.01) 1px,transparent 1px,transparent 2px),linear-gradient(135deg,#444,#1a1a1a);padding:.8rem 2.2rem;max-width:1600px;width:100%;height:100%;max-height:100%;overflow:hidden;display:flex;flex-direction:column;clip-path:polygon(45px 0,calc(100% - 45px) 0,100% 45px,100% calc(100% - 45px),calc(100% - 45px) 100%,45px 100%,0 calc(100% - 45px),0 45px);box-shadow:0 40px 100px #000000e6,inset 0 2px 3px #ffffff1a,inset 0 -2px 5px #000c,0 0 0 1px #ffffff0d;border:1px solid #000}.tablet-hardware[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:0;background:linear-gradient(135deg,rgba(255,255,255,.1) 0%,transparent 15%,transparent 85%,rgba(255,255,255,.05) 100%);pointer-events:none;z-index:10}.hw-circuits[_ngcontent-%COMP%]{position:absolute;left:10%;right:10%;height:100px;background-image:linear-gradient(90deg,rgba(0,243,255,.03) 1px,transparent 1px),linear-gradient(0deg,rgba(0,243,255,.03) 1px,transparent 1px);background-size:20px 20px;-webkit-mask-image:linear-gradient(to bottom,black,transparent);mask-image:linear-gradient(to bottom,black,transparent);z-index:1;pointer-events:none}.hw-circuits.top[_ngcontent-%COMP%]{top:0}.hw-circuits.bottom[_ngcontent-%COMP%]{bottom:0;transform:scaleY(-1)}.hw-circuits[_ngcontent-%COMP%]:before{content:"";position:absolute;width:100%;height:100%;background:radial-gradient(circle at 50% 50%,rgba(0,243,255,.1),transparent 70%);animation:_ngcontent-%COMP%_circuit-flow 10s infinite linear}@keyframes _ngcontent-%COMP%_circuit-flow{0%{transform:translateY(-100%)}to{transform:translateY(100%)}}.hw-corner[_ngcontent-%COMP%]{position:absolute;width:60px;height:60px;background:#000;z-index:2;border:1px solid rgba(255,255,255,.05);box-shadow:inset 0 0 10px #00f3ff0d}.hw-corner.top-left[_ngcontent-%COMP%]{top:0;left:0;clip-path:polygon(0 0,100% 0,0 100%)}.hw-corner.top-right[_ngcontent-%COMP%]{top:0;right:0;clip-path:polygon(0 0,100% 0,100% 100%)}.hw-corner.bottom-left[_ngcontent-%COMP%]{bottom:0;left:0;clip-path:polygon(0 0,0 100%,100% 100%)}.hw-corner.bottom-right[_ngcontent-%COMP%]{bottom:0;right:0;clip-path:polygon(100% 0,100% 100%,0 100%)}.hw-corner[_ngcontent-%COMP%]:after{content:"";position:absolute;width:4px;height:4px;background:#222;border-radius:50%;box-shadow:inset 0 1px 2px #000;top:15px;left:15px}.screen-glare[_ngcontent-%COMP%]{position:absolute;inset:2.2rem;background:linear-gradient(135deg,rgba(255,255,255,.05) 0%,transparent 40%);pointer-events:none;z-index:10;border-radius:4px}.vent-grill[_ngcontent-%COMP%]{width:6px;height:100px;background:repeating-linear-gradient(0deg,#000,#000 2px,#222 2px 4px);border:1px solid #111;opacity:.6;animation:_ngcontent-%COMP%_vent-glow 4s infinite}@keyframes _ngcontent-%COMP%_vent-glow{0%,to{opacity:.4;filter:brightness(1)}50%{opacity:.8;filter:brightness(1.5)}}@keyframes _ngcontent-%COMP%_flash-sync{0%,80%,to{opacity:.1}90%{opacity:1;box-shadow:0 0 10px var(--cyber-yellow)}}.hw-bezel-detail[_ngcontent-%COMP%]{position:absolute;display:flex;align-items:center;justify-content:center;z-index:5}.hw-bezel-detail.top[_ngcontent-%COMP%]{top:.9rem;left:0;right:0;gap:3rem}.hw-bezel-detail.top[_ngcontent-%COMP%]   .sensor-eye[_ngcontent-%COMP%]{width:10px;height:10px;background:radial-gradient(circle at 30% 30%,#222,#000);border-radius:50%;border:1px solid #444;box-shadow:0 0 5px #00f3ff33}.hw-bezel-detail.top[_ngcontent-%COMP%]   .branding[_ngcontent-%COMP%]{font-size:.55rem;font-family:var(--font-mono);color:#555;letter-spacing:5px;font-weight:900;text-shadow:0 1px 0 #000}.hw-bezel-detail.top[_ngcontent-%COMP%]   .status-leds[_ngcontent-%COMP%]{display:flex;gap:10px}.hw-bezel-detail.top[_ngcontent-%COMP%]   .status-leds[_ngcontent-%COMP%]   .led[_ngcontent-%COMP%]{width:5px;height:5px;border-radius:50%;background:#111}.hw-bezel-detail.top[_ngcontent-%COMP%]   .status-leds[_ngcontent-%COMP%]   .led.power-on[_ngcontent-%COMP%]{background:#0f4;box-shadow:0 0 8px #00ff4480}.hw-bezel-detail.top[_ngcontent-%COMP%]   .status-leds[_ngcontent-%COMP%]   .led.data-link[_ngcontent-%COMP%]{background:#00f3ff;animation:_ngcontent-%COMP%_led-pulse 2.5s infinite}.hw-bezel-detail.top[_ngcontent-%COMP%]   .status-leds[_ngcontent-%COMP%]   .led.sync-blink[_ngcontent-%COMP%]{background:var(--cyber-yellow);animation:_ngcontent-%COMP%_flash-sync 3s infinite}.hw-bezel-detail.top[_ngcontent-%COMP%]   .battery-meter[_ngcontent-%COMP%]{display:flex;gap:3px;padding:4px;background:#000;border:1px solid #333;border-radius:2px}.hw-bezel-detail.top[_ngcontent-%COMP%]   .battery-meter[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]{width:4px;height:8px;background:#0f4;box-shadow:0 0 5px #00ff444d}.hw-bezel-detail.top[_ngcontent-%COMP%]   .battery-meter[_ngcontent-%COMP%]   .bar.dim[_ngcontent-%COMP%]{background:#111;box-shadow:none}.hw-bezel-detail.left[_ngcontent-%COMP%]{left:.7rem;top:50%;transform:translateY(-50%);flex-direction:column;gap:2rem}.hw-bezel-detail.left[_ngcontent-%COMP%]   .grip-strip[_ngcontent-%COMP%]{width:8px;height:150px;background:repeating-linear-gradient(0deg,#000,#000 3px,#1a1a1a 3px 6px);border:1px solid #111;border-radius:4px}.hw-bezel-detail.left[_ngcontent-%COMP%]   .comm-link[_ngcontent-%COMP%]{width:12px;height:20px;background:#111;border:1px solid #333;border-radius:2px;position:relative}.hw-bezel-detail.left[_ngcontent-%COMP%]   .comm-link[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:3px;background:#00f3ff;box-shadow:0 0 5px #00f3ff;animation:_ngcontent-%COMP%_led-pulse 1s infinite}.hw-bezel-detail.right[_ngcontent-%COMP%]{right:-4px;top:50%;transform:translateY(-50%);flex-direction:column;gap:1.5rem}.hw-bezel-detail.right[_ngcontent-%COMP%]   .fingerprint-sensor[_ngcontent-%COMP%]{width:26px;height:36px;background:#000c;border:1px solid rgba(0,243,255,.2);border-radius:40% 40% 35% 35%/30% 30% 40% 40%;margin-right:6px;position:relative;overflow:hidden;box-shadow:0 0 6px #00f3ff14,inset 0 0 4px #0009}.hw-bezel-detail.right[_ngcontent-%COMP%]   .fingerprint-sensor[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:3px;background:repeating-linear-gradient(0deg,transparent,transparent 2px,rgba(0,243,255,.18) 2px,rgba(0,243,255,.18) 3px);border-radius:inherit;clip-path:ellipse(50% 50% at 50% 50%)}.hw-bezel-detail.right[_ngcontent-%COMP%]   .fingerprint-sensor[_ngcontent-%COMP%]:after{content:"";position:absolute;left:0;right:0;height:6px;background:linear-gradient(180deg,transparent,rgba(0,243,255,.35) 50%,transparent);animation:_ngcontent-%COMP%_fp-scan 3s ease-in-out infinite;pointer-events:none}@keyframes _ngcontent-%COMP%_fp-scan{0%{top:-6px;opacity:0}10%{opacity:1}90%{opacity:1}to{top:calc(100% + 6px);opacity:0}}.hw-bezel-detail.right[_ngcontent-%COMP%]   .hw-button[_ngcontent-%COMP%]{width:5px;height:35px;background:linear-gradient(to right,#222,#111);border:1px solid #000;border-radius:0 3px 3px 0;box-shadow:2px 2px 5px #00000080}.hw-bezel-detail.right[_ngcontent-%COMP%]   .hw-button.long[_ngcontent-%COMP%]{height:70px}.hw-bezel-detail.bottom[_ngcontent-%COMP%]{bottom:.6rem;left:0;right:0;gap:4rem}.hw-bezel-detail.bottom[_ngcontent-%COMP%]   .io-port[_ngcontent-%COMP%]{width:50px;height:8px;background:#050505;border-radius:2px;box-shadow:inset 0 2px 4px #000;border:1px solid #222}.hw-bezel-detail.bottom[_ngcontent-%COMP%]   .speaker-slits[_ngcontent-%COMP%]{width:80px;height:6px;background:repeating-linear-gradient(90deg,#000,#000 4px,transparent 4px,transparent 8px);opacity:.5}@keyframes _ngcontent-%COMP%_led-pulse{0%,to{opacity:.3}50%{opacity:1;box-shadow:0 0 10px #00f3ff}}.wizard-frame[_ngcontent-%COMP%]{background:var(--bg-panel);border:2px solid #000;display:flex;flex-direction:column;flex-grow:1;width:100%;overflow:hidden;position:relative;box-shadow:inset 0 0 30px #000000e6,0 0 0 1px #ffffff08;border-radius:4px;z-index:5}.step-progress[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:.6rem 1rem;background:linear-gradient(180deg,#0009,#0006);border-bottom:1px solid rgba(0,243,255,.1);position:relative;gap:.3rem}.step-progress[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;left:0;width:100%;height:1px;background:var(--neon-cyan);box-shadow:0 0 10px var(--neon-cyan-glow);animation:_ngcontent-%COMP%_scanline 4s linear infinite;opacity:.3}@keyframes _ngcontent-%COMP%_scanline{0%{left:-100%}to{left:100%}}.step-progress[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;position:relative;z-index:2;cursor:pointer;padding:.5rem 0;min-width:80px}.step-progress[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{width:30px;height:18px;background:#00f3ff05;border:1px solid rgba(0,243,255,.1);color:var(--text-dim);display:flex;align-items:center;justify-content:center;font-weight:700;font-family:var(--font-mono);transition:all .3s cubic-bezier(.4,0,.2,1);font-size:.75rem;clip-path:polygon(15% 0,100% 0,85% 100%,0 100%);position:relative}.step-progress[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]:before{content:"";position:absolute;top:2px;right:4px;width:3px;height:3px;background:currentColor;opacity:.3}.step-progress[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{margin-top:.3rem;font-size:.5rem;color:var(--text-dim);text-transform:uppercase;font-family:var(--font-header);letter-spacing:2px;transition:all .3s ease;opacity:.7;text-shadow:0 0 5px rgba(0,0,0,.5)}.step-progress[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]:hover   .circle[_ngcontent-%COMP%]{border-color:var(--neon-cyan);color:var(--neon-cyan);background:#00f3ff1a;box-shadow:0 0 15px #00f3ff33;transform:translateY(-2px)}.step-progress[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]:hover   .label[_ngcontent-%COMP%]{color:var(--neon-cyan);opacity:1;letter-spacing:3px}.step-progress[_ngcontent-%COMP%]   .step.active[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{border-color:var(--neon-cyan);color:var(--neon-cyan);background:#00f3ff26;box-shadow:0 0 10px var(--neon-cyan-glow)}.step-progress[_ngcontent-%COMP%]   .step.active[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]:before{opacity:1;box-shadow:0 0 5px var(--neon-cyan)}.step-progress[_ngcontent-%COMP%]   .step.active[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:var(--neon-cyan);opacity:1}.step-progress[_ngcontent-%COMP%]   .step.current[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{background:var(--neon-cyan);color:var(--bg-pitch);border-color:var(--neon-cyan);transform:scale(1.1) skew(-5deg);box-shadow:0 0 20px var(--neon-cyan-glow)}.step-progress[_ngcontent-%COMP%]   .step.current[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]:before{background:var(--bg-pitch);opacity:.8}.step-progress[_ngcontent-%COMP%]   .step.current[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:var(--cyber-yellow);font-weight:700;opacity:1;transform:scale(1.1);text-shadow:0 0 10px rgba(255,238,0,.3)}.step-progress[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{flex-grow:1;max-width:30px;height:1px;background:#00f3ff0d;margin:0 -2px;position:relative;top:-8px;z-index:1}.step-progress[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:0;background:inherit;filter:blur(2px);opacity:.5}.step-progress[_ngcontent-%COMP%]   .line.active[_ngcontent-%COMP%]{background:var(--neon-cyan);box-shadow:0 0 10px var(--neon-cyan-glow)}.step-progress[_ngcontent-%COMP%]   .line.active[_ngcontent-%COMP%]:after{background:var(--neon-cyan)}.btn-reset-footer[_ngcontent-%COMP%]{background:transparent;border:1.5px solid var(--power-red);color:var(--power-red);padding:.5rem 1.2rem;font-family:var(--font-header);font-size:.65rem;font-weight:600;letter-spacing:1.5px;cursor:pointer;transition:all .3s cubic-bezier(.4,0,.2,1);clip-path:polygon(8% 0,100% 0,92% 100%,0 100%);z-index:100;display:flex;align-items:center;justify-content:center;gap:.4rem;opacity:.8;position:relative;text-transform:uppercase;overflow:hidden}.btn-reset-footer[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:linear-gradient(135deg,rgba(255,0,60,.1) 0%,transparent 50%),linear-gradient(315deg,transparent 50%,rgba(255,0,60,.05) 100%);opacity:0;transition:opacity .3s ease;pointer-events:none}.btn-reset-footer[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:1rem;transition:transform .3s ease}.btn-reset-footer[_ngcontent-%COMP%]:hover{background:#ff003c1f;color:#ff3c50;border-color:#ff3c50;box-shadow:0 0 20px #ff003c66,inset 0 0 10px #ff003c1a;opacity:1;transform:translateY(-2px)}.btn-reset-footer[_ngcontent-%COMP%]:hover:before{opacity:1}.btn-reset-footer[_ngcontent-%COMP%]:hover   .icon[_ngcontent-%COMP%]{transform:rotate(180deg)}.btn-reset-footer[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(0);box-shadow:0 0 15px #ff003c4d,inset 0 0 8px #ff003c26}.btn-reset-footer[_ngcontent-%COMP%]:disabled{opacity:.3;cursor:not-allowed;border-color:#ffffff1a;color:#ffffff26}.wizard-content[_ngcontent-%COMP%]{flex-grow:1;overflow-y:auto;overflow-x:hidden;padding:1rem 1.5rem 3.5rem;scrollbar-gutter:stable;scrollbar-width:thin;scrollbar-color:var(--neon-cyan) transparent}.wizard-content[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.wizard-content[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.wizard-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--neon-cyan);border-radius:4px;border:2px solid transparent;background-clip:padding-box}.wizard-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#00f3ffcc;background-clip:padding-box}@media(max-width:768px){.wizard-content[_ngcontent-%COMP%]::-webkit-scrollbar{width:10px}.wizard-content[_ngcontent-%COMP%]{scrollbar-width:auto}}.wizard-action-bar[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;right:0;padding:.7rem 1.5rem;z-index:100;background:linear-gradient(180deg,#0000,#00000080 40%,#050a12fa);-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);pointer-events:none;border-top:1px solid rgba(0,243,255,.15);box-shadow:0 -10px 30px #0009,inset 0 1px #00f3ff1a}.wizard-action-bar[_ngcontent-%COMP%]   .action-divider[_ngcontent-%COMP%]{display:none}.wizard-action-bar[_ngcontent-%COMP%]   .action-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;pointer-events:auto;gap:1rem}.btn-wizard-next[_ngcontent-%COMP%]{position:relative;background:linear-gradient(135deg,#00f3ff14,#00f3ff05);border:1.5px solid rgba(0,243,255,.6);color:var(--neon-cyan);padding:.6rem 2rem;font-family:var(--font-header);letter-spacing:2px;font-size:.75rem;font-weight:700;cursor:pointer;transition:all .3s cubic-bezier(.4,0,.2,1);display:flex;align-items:center;justify-content:center;gap:.6rem;text-transform:uppercase;overflow:hidden;clip-path:polygon(6px 0,calc(100% - 6px) 0,100% 6px,100% calc(100% - 6px),calc(100% - 6px) 100%,6px 100%,0 calc(100% - 6px),0 6px)}.btn-wizard-next[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:linear-gradient(90deg,transparent,rgba(0,243,255,.2) 50%,transparent);opacity:0;transition:opacity .3s ease;pointer-events:none;animation:_ngcontent-%COMP%_shimmer 3s infinite}@keyframes _ngcontent-%COMP%_shimmer{0%{transform:translate(-100%)}to{transform:translate(100%)}}.btn-wizard-next[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;left:15%;right:15%;height:2px;background:linear-gradient(90deg,transparent,var(--neon-cyan),transparent);opacity:.4;transition:all .3s ease;box-shadow:0 0 10px #00f3ff4d}.btn-wizard-next[_ngcontent-%COMP%]   .btn-index[_ngcontent-%COMP%]{font-family:var(--font-mono);font-size:.55rem;opacity:.5;letter-spacing:1.5px;border-right:1px solid rgba(0,243,255,.3);padding-right:.8rem;transition:all .3s ease}.btn-wizard-next[_ngcontent-%COMP%]   .btn-label[_ngcontent-%COMP%]{letter-spacing:2px;flex:1;text-align:center}.btn-wizard-next[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,#00f3ff26,#00f3ff0d);border-color:var(--neon-cyan);color:var(--cyber-yellow);transform:translateY(-2px);box-shadow:0 10px 30px #00f3ff4d,inset 0 0 15px #00f3ff1a,0 0 20px #ffee0026}.btn-wizard-next[_ngcontent-%COMP%]:hover:not(:disabled):before{opacity:.4;animation:_ngcontent-%COMP%_shimmer 1.5s ease}.btn-wizard-next[_ngcontent-%COMP%]:hover:not(:disabled):after{opacity:.8;left:10%;right:10%;background:linear-gradient(90deg,transparent,var(--cyber-yellow),transparent);box-shadow:0 0 15px #fe06}.btn-wizard-next[_ngcontent-%COMP%]:hover:not(:disabled)   .btn-index[_ngcontent-%COMP%]{opacity:.8;color:var(--cyber-yellow);border-right-color:#fe06}.btn-wizard-next[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(0);box-shadow:0 5px 15px #00f3ff33,inset 0 0 20px #00f3ff26}.btn-wizard-next[_ngcontent-%COMP%]:disabled{opacity:.3;cursor:not-allowed;background:transparent;border-color:#ffffff1a;color:#ffffff26}.btn-wizard-next[_ngcontent-%COMP%]:disabled:after{display:none}.btn-wizard-next[_ngcontent-%COMP%]:disabled   .btn-index[_ngcontent-%COMP%]{opacity:.2;border-right-color:#ffffff0d}']})};var l2=["*"],Cl=class n{brandingLabel="SYSTEM_DEFAULT_v1.0";frameLabel="FRAME.SYS";frameClass="frame-base";static \u0275fac=function(e){return new(e||n)};static \u0275cmp=G({type:n,selectors:[["app-tablet-frame"]],inputs:{brandingLabel:"brandingLabel",frameLabel:"frameLabel",frameClass:"frameClass"},ngContentSelectors:l2,decls:42,vars:4,consts:[[1,"tablet-container"],[1,"tablet-hardware"],[1,"screen-glare"],[1,"hw-circuits","top"],[1,"hw-circuits","bottom"],[1,"hw-bezel-detail","top"],[1,"sensor-eye"],[1,"branding"],[1,"status-leds"],[1,"led","power-on"],[1,"led","data-link","pulse"],[1,"led","sync-blink"],[1,"battery-meter"],[1,"bar"],[1,"bar","dim"],[1,"hw-corner","top-left"],[1,"hw-corner","top-right"],[1,"hw-corner","bottom-left"],[1,"hw-corner","bottom-right"],[1,"hw-bezel-detail","left"],[1,"grip-strip"],[1,"vent-grill"],[1,"comm-link"],[1,"hw-bezel-detail","right"],[1,"fingerprint-sensor"],[1,"hw-button"],[1,"hw-button","long"],[1,"frame-header"],[1,"header-divider"],[1,"frame-content"],[1,"hw-bezel-detail","bottom"],[1,"io-port"],[1,"speaker-slits"]],template:function(e,i){e&1&&(No(),it(0,"div",0)(1,"div",1),Pt(2,"div",2)(3,"div",3)(4,"div",4),it(5,"div",5),Pt(6,"div",6),it(7,"div",7),d(8),ct(),it(9,"div",8),Pt(10,"div",9)(11,"div",10)(12,"div",11),ct(),it(13,"div",12),Pt(14,"div",13)(15,"div",13)(16,"div",13)(17,"div",14),ct()(),Pt(18,"div",15)(19,"div",16)(20,"div",17)(21,"div",18),it(22,"div",19),Pt(23,"div",20)(24,"div",21)(25,"div",22),ct(),it(26,"div",23),Pt(27,"div",24)(28,"div",21)(29,"div",25)(30,"div",26)(31,"div",25),ct(),it(32,"div")(33,"div",27)(34,"h2"),d(35),ct(),Pt(36,"div",28),ct(),it(37,"div",29),hr(38),ct()(),it(39,"div",30),Pt(40,"div",31)(41,"div",32),ct()()()),e&2&&(p(8),x(i.brandingLabel),p(24),Ti(i.frameClass),p(3),x(i.frameLabel))},styles:['[_nghost-%COMP%]{display:block;width:100%;height:100%}.tablet-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:1.8rem 1rem;box-sizing:border-box;flex:1;height:100%;min-height:0;background:radial-gradient(circle at center,#1a1a1a,#050505);overflow:hidden;position:relative}.tablet-hardware[_ngcontent-%COMP%]{position:relative;background:repeating-linear-gradient(45deg,rgba(255,255,255,.01) 0px,rgba(255,255,255,.01) 1px,transparent 1px,transparent 2px),linear-gradient(135deg,#444,#1a1a1a);padding:.8rem 2.2rem;max-width:1600px;width:100%;height:100%;max-height:100%;overflow:hidden;display:flex;flex-direction:column;clip-path:polygon(45px 0,calc(100% - 45px) 0,100% 45px,100% calc(100% - 45px),calc(100% - 45px) 100%,45px 100%,0 calc(100% - 45px),0 45px);box-shadow:0 40px 100px #000000e6,inset 0 2px 3px #ffffff1a,inset 0 -2px 5px #000c,0 0 0 1px #ffffff0d;border:1px solid #000}.tablet-hardware[_ngcontent-%COMP%]   .frame-base[_ngcontent-%COMP%]{background:var(--bg-panel, rgba(16, 16, 16, .85));border:2px solid #000;display:flex;flex-direction:column;flex-grow:1;width:100%;overflow:hidden;position:relative;box-shadow:inset 0 0 30px #000000e6,0 0 0 1px #ffffff08;border-radius:4px;z-index:5}.tablet-hardware[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:0;background:linear-gradient(135deg,rgba(255,255,255,.1) 0%,transparent 15%,transparent 85%,rgba(255,255,255,.05) 100%);pointer-events:none;z-index:10}.hw-circuits[_ngcontent-%COMP%]{position:absolute;left:10%;right:10%;height:100px;background-image:linear-gradient(90deg,rgba(0,243,255,.03) 1px,transparent 1px),linear-gradient(0deg,rgba(0,243,255,.03) 1px,transparent 1px);background-size:20px 20px;-webkit-mask-image:linear-gradient(to bottom,black,transparent);mask-image:linear-gradient(to bottom,black,transparent);z-index:1;pointer-events:none}.hw-circuits.top[_ngcontent-%COMP%]{top:0}.hw-circuits.bottom[_ngcontent-%COMP%]{bottom:0;transform:scaleY(-1)}.hw-circuits[_ngcontent-%COMP%]:before{content:"";position:absolute;width:100%;height:100%;background:radial-gradient(circle at 50% 50%,rgba(0,243,255,.1),transparent 70%);animation:_ngcontent-%COMP%_circuit-flow 10s infinite linear}@keyframes _ngcontent-%COMP%_circuit-flow{0%{transform:translateY(-100%)}to{transform:translateY(100%)}}.hw-corner[_ngcontent-%COMP%]{position:absolute;width:60px;height:60px;background:#000;z-index:2;border:1px solid rgba(255,255,255,.05);box-shadow:inset 0 0 10px #00f3ff0d}.hw-corner.top-left[_ngcontent-%COMP%]{top:0;left:0;clip-path:polygon(0 0,100% 0,0 100%)}.hw-corner.top-right[_ngcontent-%COMP%]{top:0;right:0;clip-path:polygon(0 0,100% 0,100% 100%)}.hw-corner.bottom-left[_ngcontent-%COMP%]{bottom:0;left:0;clip-path:polygon(0 0,0 100%,100% 100%)}.hw-corner.bottom-right[_ngcontent-%COMP%]{bottom:0;right:0;clip-path:polygon(100% 0,100% 100%,0 100%)}.hw-corner[_ngcontent-%COMP%]:after{content:"";position:absolute;width:4px;height:4px;background:#222;border-radius:50%;box-shadow:inset 0 1px 2px #000;top:15px;left:15px}.screen-glare[_ngcontent-%COMP%]{position:absolute;inset:2.2rem;background:linear-gradient(135deg,rgba(255,255,255,.05) 0%,transparent 40%);pointer-events:none;z-index:10;border-radius:4px}.vent-grill[_ngcontent-%COMP%]{width:6px;height:100px;background:repeating-linear-gradient(0deg,#000,#000 2px,#222 2px 4px);border:1px solid #111;opacity:.6;animation:_ngcontent-%COMP%_vent-glow 4s infinite}@keyframes _ngcontent-%COMP%_vent-glow{0%,to{opacity:.4;filter:brightness(1)}50%{opacity:.8;filter:brightness(1.5)}}@keyframes _ngcontent-%COMP%_flash-sync{0%,80%,to{opacity:.1}90%{opacity:1;box-shadow:0 0 10px #fe0}}@keyframes _ngcontent-%COMP%_led-pulse{0%,to{opacity:.3}50%{opacity:1;box-shadow:0 0 10px #00f3ff}}.hw-bezel-detail[_ngcontent-%COMP%]{position:absolute;display:flex;align-items:center;justify-content:center;z-index:5}.hw-bezel-detail.top[_ngcontent-%COMP%]{top:.9rem;left:0;right:0;gap:3rem}.hw-bezel-detail.top[_ngcontent-%COMP%]   .sensor-eye[_ngcontent-%COMP%]{width:10px;height:10px;background:radial-gradient(circle at 30% 30%,#222,#000);border-radius:50%;border:1px solid #444;box-shadow:0 0 5px #00f3ff33}.hw-bezel-detail.top[_ngcontent-%COMP%]   .branding[_ngcontent-%COMP%]{font-size:.55rem;font-family:JetBrains Mono,monospace;color:#555;letter-spacing:5px;font-weight:900;text-shadow:0 1px 0 #000}.hw-bezel-detail.top[_ngcontent-%COMP%]   .status-leds[_ngcontent-%COMP%]{display:flex;gap:10px}.hw-bezel-detail.top[_ngcontent-%COMP%]   .status-leds[_ngcontent-%COMP%]   .led[_ngcontent-%COMP%]{width:5px;height:5px;border-radius:50%;background:#111}.hw-bezel-detail.top[_ngcontent-%COMP%]   .status-leds[_ngcontent-%COMP%]   .led.power-on[_ngcontent-%COMP%]{background:#0f4;box-shadow:0 0 8px #00ff4480}.hw-bezel-detail.top[_ngcontent-%COMP%]   .status-leds[_ngcontent-%COMP%]   .led.data-link[_ngcontent-%COMP%]{background:#00f3ff;animation:_ngcontent-%COMP%_led-pulse 2.5s infinite}.hw-bezel-detail.top[_ngcontent-%COMP%]   .status-leds[_ngcontent-%COMP%]   .led.sync-blink[_ngcontent-%COMP%]{background:#fe0;animation:_ngcontent-%COMP%_flash-sync 3s infinite}.hw-bezel-detail.top[_ngcontent-%COMP%]   .battery-meter[_ngcontent-%COMP%]{display:flex;gap:3px;padding:4px;background:#000;border:1px solid #333;border-radius:2px}.hw-bezel-detail.top[_ngcontent-%COMP%]   .battery-meter[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]{width:4px;height:8px;background:#0f4;box-shadow:0 0 5px #00ff444d}.hw-bezel-detail.top[_ngcontent-%COMP%]   .battery-meter[_ngcontent-%COMP%]   .bar.dim[_ngcontent-%COMP%]{background:#111;box-shadow:none}.hw-bezel-detail.left[_ngcontent-%COMP%]{left:.7rem;top:50%;transform:translateY(-50%);flex-direction:column;gap:2rem}.hw-bezel-detail.left[_ngcontent-%COMP%]   .grip-strip[_ngcontent-%COMP%]{width:8px;height:150px;background:repeating-linear-gradient(0deg,#000,#000 3px,#1a1a1a 3px 6px);border:1px solid #111;border-radius:4px}.hw-bezel-detail.left[_ngcontent-%COMP%]   .comm-link[_ngcontent-%COMP%]{width:12px;height:20px;background:#111;border:1px solid #333;border-radius:2px;position:relative}.hw-bezel-detail.left[_ngcontent-%COMP%]   .comm-link[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:3px;background:#00f3ff;box-shadow:0 0 5px #00f3ff;animation:_ngcontent-%COMP%_led-pulse 1s infinite}.hw-bezel-detail.right[_ngcontent-%COMP%]{right:-4px;top:50%;transform:translateY(-50%);flex-direction:column;gap:1.5rem}.hw-bezel-detail.right[_ngcontent-%COMP%]   .fingerprint-sensor[_ngcontent-%COMP%]{width:26px;height:36px;background:#000c;border:1px solid rgba(0,243,255,.2);border-radius:40% 40% 35% 35%/30% 30% 40% 40%;margin-right:6px;position:relative;overflow:hidden;box-shadow:0 0 6px #00f3ff14,inset 0 0 4px #0009}.hw-bezel-detail.right[_ngcontent-%COMP%]   .fingerprint-sensor[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:3px;background:repeating-linear-gradient(0deg,transparent,transparent 2px,rgba(0,243,255,.18) 2px,rgba(0,243,255,.18) 3px);border-radius:inherit;clip-path:ellipse(50% 50% at 50% 50%)}.hw-bezel-detail.right[_ngcontent-%COMP%]   .fingerprint-sensor[_ngcontent-%COMP%]:after{content:"";position:absolute;left:0;right:0;height:6px;background:linear-gradient(180deg,transparent,rgba(0,243,255,.35) 50%,transparent);animation:_ngcontent-%COMP%_fp-scan 3s ease-in-out infinite;pointer-events:none}@keyframes _ngcontent-%COMP%_fp-scan{0%{top:-6px;opacity:0}10%{opacity:1}90%{opacity:1}to{top:calc(100% + 6px);opacity:0}}.hw-bezel-detail.right[_ngcontent-%COMP%]   .hw-button[_ngcontent-%COMP%]{width:5px;height:35px;background:linear-gradient(to right,#222,#111);border:1px solid #000;border-radius:0 3px 3px 0;box-shadow:2px 2px 5px #00000080}.hw-bezel-detail.right[_ngcontent-%COMP%]   .hw-button.long[_ngcontent-%COMP%]{height:70px}.frame-base[_ngcontent-%COMP%], [class$=-frame][_ngcontent-%COMP%]{background:var(--bg-panel, rgba(16, 16, 16, .85));border:2px solid #000;display:flex;flex-direction:column;flex-grow:1;width:100%;overflow:hidden;position:relative;box-shadow:inset 0 0 30px #000000e6,0 0 0 1px #ffffff08;border-radius:4px;z-index:5}.frame-header[_ngcontent-%COMP%]{padding:.4rem 1.5rem;background:linear-gradient(180deg,#0009,#0006);border-bottom:1px solid rgba(0,243,255,.1);position:relative;flex:none;height:auto;min-height:auto}.frame-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;color:var(--text-main, #e0e0e0);font-size:.7rem;font-weight:700;letter-spacing:2px;text-transform:uppercase;font-family:JetBrains Mono,monospace;opacity:.9}.header-divider[_ngcontent-%COMP%]{height:1px;background:var(--neon-cyan, #00f3ff);box-shadow:0 0 10px var(--neon-cyan, #00f3ff);margin-top:3px;opacity:.3}.frame-content[_ngcontent-%COMP%]{flex:1;padding:1rem 1.5rem;overflow-y:auto;overflow-x:hidden;position:relative;scrollbar-width:thin;scrollbar-color:var(--neon-cyan, #00f3ff) transparent;display:flex;flex-direction:column;min-height:0;box-sizing:border-box}.frame-content[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.frame-content[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.frame-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--neon-cyan, #00f3ff);border-radius:4px;border:2px solid transparent;background-clip:padding-box}.frame-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#00f3ffcc;background-clip:padding-box}']})};var yl=class n{constructor(t){this.http=t;this.loadAllEquipment()}weaponsCache=[];armorCache=[];cyberneticsCache=[];dnaModificationsCache=[];symbiontsCache=[];gearCache=[];drugsCache=[];computersRobotsCache=[];vehiclesCache=[];spaceshipsCache=[];allEquipmentLoaded$=new Ve(!1);equipmentLoadError$=new Ve(null);loadAllEquipment(){let t=[{path:"assets/data/equipment/weapons.json",cache:"weapons"},{path:"assets/data/equipment/armor.json",cache:"armor"},{path:"assets/data/equipment/cybernetics.json",cache:"cybernetics"},{path:"assets/data/equipment/dnams.json",cache:"dnams"},{path:"assets/data/equipment/symbionts.json",cache:"symbionts"},{path:"assets/data/equipment/gear.json",cache:"gear"},{path:"assets/data/equipment/drugs.json",cache:"drugs"},{path:"assets/data/equipment/computers-robots.json",cache:"computersRobots"},{path:"assets/data/equipment/vehicles.json",cache:"vehicles"},{path:"assets/data/equipment/spaceships.json",cache:"spaceships"}],e=0;t.forEach(i=>{this.http.get(i.path).pipe(Gi(r=>(console.warn(`Failed to load ${i.path}:`,r),this.equipmentLoadError$.next(`Failed to load ${i.cache} equipment`),X([])))).subscribe(r=>{this.setCacheForType(i.cache,r),e++,e===t.length&&this.allEquipmentLoaded$.next(!0)})})}setCacheForType(t,e){switch(t){case"weapons":this.weaponsCache=e;break;case"armor":this.armorCache=e;break;case"cybernetics":this.cyberneticsCache=e;break;case"dnams":this.dnaModificationsCache=e;break;case"symbionts":this.symbiontsCache=e;break;case"gear":this.gearCache=e;break;case"drugs":this.drugsCache=e;break;case"computersRobots":this.computersRobotsCache=e;break;case"vehicles":this.vehiclesCache=e;break;case"spaceships":this.spaceshipsCache=e;break}}getAllEquipment(){return[...this.weaponsCache,...this.armorCache,...this.cyberneticsCache,...this.dnaModificationsCache,...this.symbiontsCache,...this.gearCache,...this.drugsCache,...this.computersRobotsCache,...this.vehiclesCache,...this.spaceshipsCache]}getWeapons(t){return this.filterEquipment(this.weaponsCache,t)}getArmor(t){return this.filterEquipment(this.armorCache,t)}getCybernetics(t){return this.filterEquipment(this.cyberneticsCache,t)}getDNAModifications(t){return this.filterEquipment(this.dnaModificationsCache,t)}getSymbionts(t){return this.filterEquipment(this.symbiontsCache,t)}getGear(t){return this.filterEquipment(this.gearCache,t)}getDrugs(t){return this.filterEquipment(this.drugsCache,t)}getComputersAndRobots(t){return this.filterEquipment(this.computersRobotsCache,t)}getVehicles(t){return this.filterEquipment(this.vehiclesCache,t)}getSpaceships(t){return this.filterEquipment(this.spaceshipsCache,t)}getEquipmentByCategory(t,e){let i=this.getAllEquipment().filter(r=>t.includes(r.category));return e&&(i=this.applyFilter(i,e)),i}getEquipmentById(t){return this.getAllEquipment().find(e=>e.id===t)}searchEquipment(t,e){let i=this.getAllEquipment(),r=t.toLowerCase(),o=i.filter(a=>a.name.toLowerCase().includes(r)||a.description.toLowerCase().includes(r));return e&&(o=this.applyFilter(o,e)),o}filterEquipment(t,e){return e?this.applyFilter(t,e):t}applyFilter(t,e){return t.filter(i=>{if(e.minTechLevel&&i.techLevel<e.minTechLevel||e.maxTechLevel&&i.techLevel>e.maxTechLevel||e.career&&i.restrictions&&(i.restrictions.includes("military_only")&&e.career!=="military"||i.restrictions.includes("military_or_corporate")&&e.career!=="military"&&e.career!=="corporate"))return!1;if(e.lawLevel!==void 0&&i.restrictions){for(let r of i.restrictions)if(r.startsWith("law_level_")){let o=r.replace("law_level_","").replace("plus",""),a=parseInt(o,10);if(e.lawLevel<a)return!1}}if(e.category&&i.category!==e.category)return!1;if(e.searchTerm){let r=e.searchTerm.toLowerCase();if(!i.name.toLowerCase().includes(r)&&!i.description.toLowerCase().includes(r))return!1}return!0})}getCareerMusteringOutEquipment(t,e,i){let r={maxTechLevel:i+2,career:t},o=[];switch(t.toLowerCase()){case"military":case"army":case"marine":case"navy":o.push(...this.getWeapons(r),...this.getArmor(r),...this.getCybernetics(r));break;case"merchant":case"trader":o.push(...this.getGear(r),...this.getComputersAndRobots(r));break;case"nobility":case"noble":o.push(...this.getGear(r),...this.getCybernetics(r));break;default:o.push(...this.getWeapons(r),...this.getGear(r),...this.getComputersAndRobots(r))}return o}getWeaponsByLawLevel(t,e){let i=A(E({},e),{lawLevel:t});return this.getWeapons(i)}isEquipmentLegal(t,e){if(!t.restrictions)return!0;for(let i of t.restrictions)if(i.startsWith("law_level_")){let r=i.replace("law_level_","").replace("plus",""),o=parseInt(r,10);if(e<o)return!1}return!0}getEquipmentCategories(){return[{value:"weapon_melee",display:"Melee Weapons"},{value:"weapon_firearm",display:"Firearms"},{value:"weapon_laser",display:"Laser Weapons"},{value:"weapon_plasma",display:"Plasma Weapons"},{value:"weapon_heavy",display:"Heavy Weapons"},{value:"weapon_thrown",display:"Thrown Weapons"},{value:"weapon_exotic",display:"Exotic Weapons"},{value:"armor_civilian",display:"Civilian Armor"},{value:"armor_military",display:"Military Armor"},{value:"armor_hardsuit",display:"Hardsuits"},{value:"armor_softsuit",display:"Softsuits"},{value:"armor_helmet",display:"Helmets"},{value:"armor_addon",display:"Armor Add-ons"},{value:"cybernetic_sensory",display:"Sensory Cybernetics"},{value:"cybernetic_limb",display:"Cybernetic Limbs"},{value:"cybernetic_implant",display:"Neural Implants"},{value:"cybernetic_subdermal",display:"Subdermal Implants"},{value:"cybernetic_weapon",display:"Weapon Implants"},{value:"dnam",display:"DNA Modifications"},{value:"symbiont",display:"Symbionts"},{value:"gear_survival",display:"Survival Gear"},{value:"gear_tools",display:"Tools"},{value:"gear_sensor",display:"Sensors"},{value:"gear_science",display:"Scientific Equipment"},{value:"gear_medical",display:"Medical Equipment"},{value:"gear_comm",display:"Communications"},{value:"gear_drug",display:"Pharmaceuticals"},{value:"gear_special",display:"Special Equipment"},{value:"gear_computer",display:"Computers"},{value:"gear_software",display:"Software"},{value:"gear_power",display:"Power Systems"},{value:"gear_industrial",display:"Industrial Equipment"},{value:"gear_pentapod",display:"Pentapod Equipment"},{value:"gear_robot",display:"Robots & Drones"},{value:"vehicle",display:"Vehicles & Spaceships"}]}calculateTotalCost(t){return t.reduce((e,i)=>e+(i.cost||0),0)}calculateTotalMass(t){return t.reduce((e,i)=>e+(i.mass||0),0)}isLoaded$(){return this.allEquipmentLoaded$.asObservable()}getLoadError$(){return this.equipmentLoadError$.asObservable()}static \u0275fac=function(e){return new(e||n)(B(xr))};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})};function $_(n,t){let i=!t?.manualCleanup?t?.injector?.get(qe)??C(qe):null,r=d2(t?.equal),o;t?.requireSync?o=N({kind:0},{equal:r}):o=N({kind:1,value:t?.initialValue},{equal:r});let a,l=n.subscribe({next:u=>o.set({kind:1,value:u}),error:u=>{o.set({kind:2,error:u}),a?.()},complete:()=>{a?.()}});if(t?.requireSync&&o().kind===0)throw new F(601,!1);return a=i?.onDestroy(l.unsubscribe.bind(l)),le(()=>{let u=o();switch(u.kind){case 1:return u.value;case 2:throw u.error;case 0:throw new F(601,!1)}},{equal:t?.equal})}function d2(n=Object.is){return(t,e)=>t.kind===1&&e.kind===1&&n(t.value,e.value)}function u2(n,t){n&1&&M(0,"div",56)}function p2(n,t){if(n&1){let e=T();s(0,"button",51),O("click",function(){let r=S(e).$implicit,o=h(3);return P(o.selectCategory(r.category))}),b(1,u2,1,0,"div",52),s(2,"span",53),d(3),c(),s(4,"span",54),d(5),c(),s(6,"span",55),d(7),c()()}if(n&2){let e=t.$implicit,i=h(3);I("active",i.selectedCategory()===e.category),p(),v("ngIf",i.selectedCategory()===e.category),p(2),x(e.code),p(2),x(e.name),p(2),x(i.getItemsInCategory(e.category).length)}}function f2(n,t){if(n&1){let e=T();s(0,"div",43)(1,"button",44),O("click",function(){let r=S(e).$implicit,o=h(2);return P(o.toggleGroup(r.code))}),s(2,"div",45)(3,"span",46),d(4,"\u25B6"),c(),s(5,"span",47),d(6),c()(),M(7,"div",48),c(),s(8,"div",49),b(9,p2,8,6,"button",50),c()()}if(n&2){let e=t.$implicit,i=h(2);p(3),I("expanded",i.expandedGroups()[e.code]),p(3),x(e.name),p(2),I("open",i.expandedGroups()[e.code]),p(),v("ngForOf",e.items)}}function g2(n,t){n&1&&(s(0,"div",79),M(1,"div",80),c())}function m2(n,t){if(n&1){let e=T();s(0,"div",57),O("click",function(r){let o=S(e).$implicit,a=h(2);return P(a.openDetail(r,o))}),s(1,"div",58),M(2,"div",59)(3,"div",60)(4,"div",61)(5,"div",62),c(),s(6,"button",63),O("click",function(r){let o=S(e).$implicit,a=h(2);return P(a.toggleEquipmentSelection(r,o))}),M(7,"div",64),nt(),s(8,"svg",65),M(9,"path",37),c()(),at(),s(10,"div",66),b(11,g2,2,0,"div",67),s(12,"div",68)(13,"div",69)(14,"div",70),d(15),c()()(),s(16,"div",71)(17,"span",72),d(18),c(),s(19,"span",73),d(20),c()(),s(21,"div",74)(22,"p",75),d(23),c()(),s(24,"div",76)(25,"span",77),d(26,"CREDITS_REQ"),c(),s(27,"span",78),d(28),ie(29,"number"),c()()()()}if(n&2){let e=t.$implicit,i=h(2);I("selected",i.isSelected(e)),p(6),I("in-cart",i.isSelected(e)),p(5),v("ngIf",i.isSelected(e)),p(3),v("title",e.name),p(),x(e.name),p(3),w("TL",e.techLevel),p(2),w("",e.mass," kg"),p(3),x(e.description||"NO_DATA_AVAILABLE"),p(5),w("",he(29,11,e.cost)," Lv")}}function h2(n,t){n&1&&(s(0,"div",81)(1,"div",82)(2,"span",83),d(3,"!"),c(),s(4,"div",84),d(5,"NO_DATABANKS_FOUND"),c(),s(6,"div",85),d(7,"AWAITING_UPLOAD_FOR_THIS_SECTOR"),c()()())}function v2(n,t){if(n&1){let e=T();s(0,"div",3)(1,"aside",4)(2,"div",5)(3,"div",6),M(4,"span",7)(5,"span",8),c(),s(6,"h3"),d(7,"DATABASE_INDEX"),c()(),s(8,"div",9),b(9,f2,10,6,"div",10),c()(),s(10,"main",11)(11,"header",12)(12,"div",13)(13,"h2"),d(14),c(),s(15,"div",14)(16,"span",15),d(17,"DATA_NODES:"),c(),s(18,"span",16),d(19),c(),s(20,"span",17),d(21,"//"),c(),s(22,"span",15),d(23,"SYS_TOTAL:"),c(),s(24,"span",18),d(25),c()()(),s(26,"div",19)(27,"div",20),nt(),s(28,"svg",21),M(29,"circle",22)(30,"line",23),c(),at(),s(31,"input",24),O("input",function(r){S(e);let o=h();return P(o.updateSearch(r))}),c(),M(32,"div",25),c(),s(33,"div",26)(34,"span",27),d(35,"SORT:"),c(),s(36,"select",28),O("change",function(r){S(e);let o=h();return P(o.setSortOption(r.target.value))}),s(37,"option",29),d(38,"NAME (A-Z)"),c(),s(39,"option",30),d(40,"NAME (Z-A)"),c(),s(41,"option",31),d(42,"PRICE (LOW-HIGH)"),c(),s(43,"option",32),d(44,"PRICE (HIGH-LOW)"),c(),s(45,"option",33),d(46,"TL (LOW-HIGH)"),c(),s(47,"option",34),d(48,"TL (HIGH-LOW)"),c()()(),s(49,"button",35),O("click",function(){S(e);let r=h();return P(r.toggleCart())}),nt(),s(50,"svg",36),M(51,"path",37),c(),at(),s(52,"span",38),d(53),c()()()(),s(54,"div",39)(55,"div",40),b(56,m2,30,13,"div",41),c(),b(57,h2,8,0,"div",42),c()()()}if(n&2){let e=h();p(9),v("ngForOf",e.categoryGroups),p(5),x(e.getSelectedCategoryName()),p(5),x(e.viewportItems().length),p(6),x(e.getAllEquipment().length),p(6),v("value",e.searchQuery()),p(6),v("selected",e.sortOption()==="name_asc"),p(2),v("selected",e.sortOption()==="name_desc"),p(2),v("selected",e.sortOption()==="price_asc"),p(2),v("selected",e.sortOption()==="price_desc"),p(2),v("selected",e.sortOption()==="tl_asc"),p(2),v("selected",e.sortOption()==="tl_desc"),p(2),I("has-items",e.selectedEquipment().length>0),p(4),w("QUEUE [",e.selectedEquipment().length,"]"),p(3),v("ngForOf",e.viewportItems()),p(),v("ngIf",e.viewportItems().length===0)}}function _2(n,t){if(n&1&&(s(0,"span",103),d(1),c()),n&2){let e=h(2);p(),w("[",e.selectedEquipment().length,"]")}}function C2(n,t){n&1&&(s(0,"div",104),nt(),s(1,"svg",105),M(2,"path",106),c(),at(),s(3,"span"),d(4,"NO_ITEMS_QUEUED"),c()())}function y2(n,t){if(n&1){let e=T();s(0,"div",107)(1,"div",108)(2,"span",109),d(3),c(),s(4,"span",110),d(5),ie(6,"number"),c()(),s(7,"button",111),O("click",function(r){let o=S(e).$implicit,a=h(2);return P(a.removeSelection(r,o))}),d(8,"\u2715"),c()()}if(n&2){let e=t.$implicit;p(2),v("title",e.name),p(),x(e.name),p(2),w("",he(6,3,e.cost)," Lv")}}function b2(n,t){if(n&1){let e=T();s(0,"div",86),O("click",function(){S(e);let r=h();return P(r.toggleCart())}),s(1,"aside",87),O("click",function(r){return S(e),P(r.stopPropagation())}),s(2,"div",58),M(3,"div",59)(4,"div",60)(5,"div",61)(6,"div",62),c(),s(7,"div",88)(8,"div",6),M(9,"span",89)(10,"span",8),c(),s(11,"h3"),d(12,"ACQUISITION_QUEUE"),c(),b(13,_2,2,1,"span",90),s(14,"button",91),O("click",function(){S(e);let r=h();return P(r.toggleCart())}),nt(),s(15,"svg",92),M(16,"path",93),c()()(),at(),s(17,"div",94),b(18,C2,5,0,"div",95)(19,y2,9,5,"div",96),c(),s(20,"div",97)(21,"div",98)(22,"span",99),d(23,"TOTAL_FUNDS_REQ"),c(),s(24,"span",100),d(25),ie(26,"number"),c()(),s(27,"div",101)(28,"button",102),O("click",function(){S(e);let r=h();return P(r.clearSelection())}),s(29,"span",38),d(30,"PURGE_DATA"),c()()()()()()}if(n&2){let e=h();p(9),I("pulse",e.selectedEquipment().length>0),p(4),v("ngIf",e.selectedEquipment().length>0),p(5),v("ngIf",e.selectedEquipment().length===0),p(),v("ngForOf",e.selectedEquipment()),p(6),w("",he(26,7,e.totalCost())," Lv"),p(3),v("disabled",e.selectedEquipment().length===0)}}function x2(n,t){if(n&1&&(s(0,"div",129)(1,"span",130),d(2),c(),s(3,"span",131),d(4),c()()),n&2){let e=t.$implicit;p(2),w("",e.label,":"),p(2),x(e.value)}}function M2(n,t){if(n&1&&(s(0,"div",125)(1,"h4",126),d(2,"// TECHNICAL_SPECS"),c(),s(3,"div",127),b(4,x2,5,2,"div",128),c()()),n&2){let e=h(2);p(4),v("ngForOf",e.getItemSpecs(e.detailItem()))}}function O2(n,t){if(n&1&&(s(0,"span",136),d(1),ie(2,"uppercase"),c()),n&2){let e=t.$implicit;p(),x(he(2,1,e))}}function E2(n,t){if(n&1&&(s(0,"div",132)(1,"h4",133),d(2,"// ACCESS_RESTRICTIONS"),c(),s(3,"div",134),b(4,O2,3,3,"span",135),c()()),n&2){let e=h(2);p(4),v("ngForOf",e.detailItem().restrictions)}}function S2(n,t){if(n&1){let e=T();s(0,"div",86),O("click",function(){S(e);let r=h();return P(r.closeDetail())}),s(1,"div",112),O("click",function(r){return S(e),P(r.stopPropagation())}),s(2,"div",58),M(3,"div",59)(4,"div",60)(5,"div",61)(6,"div",62),c(),s(7,"div",88)(8,"div",6),M(9,"span",7)(10,"span",113),c(),s(11,"h3"),d(12),ie(13,"uppercase"),c(),s(14,"button",91),O("click",function(){S(e);let r=h();return P(r.closeDetail())}),nt(),s(15,"svg",92),M(16,"path",93),c()()(),at(),s(17,"div",114)(18,"div",115)(19,"h2",116),d(20),c(),s(21,"div",117)(22,"span",77),d(23,"CREDITS_REQ"),c(),s(24,"span",118),d(25),ie(26,"number"),c()()(),s(27,"div",119)(28,"span",72),d(29),c(),s(30,"span",73),d(31),c()(),s(32,"div",120)(33,"p"),d(34),c()(),b(35,M2,5,1,"div",121)(36,E2,5,1,"div",122),c(),s(37,"div",123)(38,"button",124),O("click",function(r){S(e);let o=h();return o.toggleEquipmentSelection(r,o.detailItem()),P(o.closeDetail())}),s(39,"span",38),d(40),c()()()()()}if(n&2){let e=h();p(12),w("SYS_LOG://",he(13,13,e.getCategoryDisplay(e.detailItem().category))),p(8),x(e.detailItem().name),p(5),w("",he(26,15,e.detailItem().cost)," Lv"),p(4),w("TL",e.detailItem().techLevel),p(2),w("",e.detailItem().mass," kg"),p(3),x(e.detailItem().description),p(),v("ngIf",e.getItemSpecs(e.detailItem()).length>0),p(),v("ngIf",e.detailItem().restrictions&&e.detailItem().restrictions.length>0),p(2),I("primary",!e.isSelected(e.detailItem()))("warning",e.isSelected(e.detailItem())),p(2),w(" ",e.isSelected(e.detailItem())?"REMOVE_FROM_QUEUE":"ADD_TO_QUEUE"," ")}}var Hr=class n{equipmentService=C(yl);route=C(Jt);mode=N("equipment");brandingLabel=le(()=>{switch(this.mode()){case"vessels":return"STARDRIVE_CATALOG_v1.2";case"vehicles":return"MOTORPOOL_CATALOG_v2.4";default:return"ARMORY_CATALOG_v2.8"}});frameLabel=le(()=>{switch(this.mode()){case"vessels":return"SPACEPORT.SYS";case"vehicles":return"MOTORPOOL.SYS";default:return"QUARTERMASTER.SYS"}});selectedEquipment=N([]);selectedCategory=N("weapon_melee");detailItem=N(null);isLoaded=$_(this.equipmentService.isLoaded$(),{initialValue:!1});isCartModalOpen=N(!1);searchQuery=N("");sortOption=N("name_asc");categoryGroups=[];expandedGroups=N({WEAPONS:!0,ARMOR:!0,CYBERNETICS:!1,GEAR:!1,VEHICLES:!1});viewportItems=le(()=>{let t=this.getItemsInCategory(this.selectedCategory()),e=this.searchQuery().toLowerCase().trim();e&&(t=t.filter(r=>r.name.toLowerCase().includes(e)||r.description&&r.description.toLowerCase().includes(e)||`tl${r.techLevel}`.includes(e))),t=[...t];let i=this.sortOption();return t.sort((r,o)=>i.startsWith("name")?i.endsWith("asc")?r.name.localeCompare(o.name):o.name.localeCompare(r.name):i.startsWith("price")?i.endsWith("asc")?r.cost-o.cost:o.cost-r.cost:i.startsWith("tl")?i.endsWith("asc")?r.techLevel-o.techLevel:o.techLevel-r.techLevel:0),t});ngOnInit(){this.route.data.subscribe(t=>{t.mode&&(this.mode.set(t.mode),this.updateGroupsForMode(t.mode))})}updateGroupsForMode(t){if(t==="vessels"){this.categoryGroups=[{name:"VESSELS",code:"VESSELS",items:[{name:"Spacecraft",code:"SPC",category:"vehicle"}]}],this.expandedGroups.set({VESSELS:!0}),this.selectedCategory.set("vehicle");return}if(t==="vehicles"){this.categoryGroups=[{name:"VEHICLES",code:"VEHICLES",items:[{name:"Ground & Air",code:"GND",category:"vehicle"}]}],this.expandedGroups.set({VEHICLES:!0}),this.selectedCategory.set("vehicle");return}this.categoryGroups=[{name:"WEAPONS",code:"WEAPONS",items:[{name:"Melee",code:"CQC",category:"weapon_melee"},{name:"Firearms",code:"GUN",category:"weapon_firearm"},{name:"Energy/Laser",code:"LSR",category:"weapon_laser"},{name:"Plasma/Heavy",code:"PLM",category:"weapon_plasma"}]},{name:"ARMOR",code:"ARMOR",items:[{name:"Civilian",code:"CVL",category:"armor_civilian"},{name:"Military",code:"MIL",category:"armor_military"},{name:"Hardsuit",code:"HRD",category:"armor_hardsuit"},{name:"Softsuit",code:"SFT",category:"armor_softsuit"}]},{name:"CYBERNETICS",code:"CYBERNETICS",items:[{name:"Sensory",code:"SNS",category:"cybernetic_sensory"},{name:"Limbs",code:"LMB",category:"cybernetic_limb"},{name:"Implants",code:"IMP",category:"cybernetic_implant"}]},{name:"GEAR",code:"GEAR",items:[{name:"Survival",code:"SRV",category:"gear_survival"},{name:"Tools",code:"TLS",category:"gear_tools"},{name:"Special",code:"SPC",category:"gear_special"}]}];let e=localStorage.getItem("equipmentSelectedCategory"),i=this.categoryGroups.some(r=>r.items.some(o=>o.category===e));if(e&&i){this.selectedCategory.set(e);for(let r of this.categoryGroups)r.items.some(o=>o.category===e)&&this.expandedGroups.update(o=>A(E({},o),{[r.code]:!0}))}else if(this.categoryGroups.length>0&&this.categoryGroups[0].items.length>0){let r=this.categoryGroups[0].items[0].category;this.selectedCategory.set(r),this.expandedGroups.update(o=>A(E({},o),{[this.categoryGroups[0].code]:!0}))}}toggleGroup(t){this.expandedGroups.update(e=>A(E({},e),{[t]:!e[t]}))}selectCategory(t){this.selectedCategory.set(t),localStorage.setItem("equipmentSelectedCategory",t)}updateSearch(t){this.searchQuery.set(t.target.value)}setSortOption(t){this.sortOption.set(t)}toggleCart(){this.isCartModalOpen.update(t=>!t)}getSelectedCategoryName(){for(let t of this.categoryGroups)for(let e of t.items)if(e.category===this.selectedCategory())return e.name.toUpperCase();return"EQUIPMENT"}getItemsInCategory(t){let e=this.equipmentService.getAllEquipment().filter(i=>i.category===t);return t==="vehicle"&&(this.mode()==="vessels"?e=e.filter(i=>"vehicleType"in i&&(i.vehicleType==="spacecraft"||i.vehicleType==="space_boat")):this.mode()==="vehicles"&&(e=e.filter(i=>"vehicleType"in i&&i.vehicleType!=="spacecraft"&&i.vehicleType!=="space_boat"))),e}getAllEquipment(){return this.equipmentService.getAllEquipment()}isSelected(t){return this.selectedEquipment().some(e=>e.id===t.id)}toggleEquipmentSelection(t,e){t.stopPropagation(),this.isSelected(e)?this.selectedEquipment.update(i=>i.filter(r=>r.id!==e.id)):this.selectedEquipment.update(i=>[...i,e])}removeSelection(t,e){t.stopPropagation(),this.selectedEquipment.update(i=>i.filter(r=>r.id!==e.id))}totalCost(){return this.selectedEquipment().reduce((t,e)=>t+e.cost,0)}clearSelection(){this.selectedEquipment.set([])}openDetail(t,e){t.stopPropagation(),this.detailItem.set(e)}closeDetail(){this.detailItem.set(null)}getItemSpecs(t){let e=[];return"damage"in t&&t.damage&&e.push({label:"Damage",value:String(t.damage)}),"range"in t&&t.range&&e.push({label:"Range",value:String(t.range)}),"magazine"in t&&t.magazine&&e.push({label:"Magazine",value:String(t.magazine)}),"protection"in t&&t.protection&&e.push({label:"Protection",value:`+${t.protection}`}),"surgeryTime"in t&&t.surgeryTime&&e.push({label:"Surgery Time",value:String(t.surgeryTime)}),"modType"in t&&t.modType&&e.push({label:"Type",value:String(t.modType)}),e}getCategoryDisplay(t){for(let e of this.categoryGroups)for(let i of e.items)if(i.category===t)return i.name;return t}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=G({type:n,selectors:[["app-equipment-section"]],decls:4,vars:5,consts:[["frameClass","equipment-frame",3,"brandingLabel","frameLabel"],["class","equipment-container",4,"ngIf"],["class","modal-overlay fade-in",3,"click",4,"ngIf"],[1,"equipment-container"],[1,"hud-panel","categories-sidebar"],[1,"panel-header"],[1,"header-pips"],[1,"pip","cyan"],[1,"pip","dim"],[1,"category-list"],["class","category-group",4,"ngFor","ngForOf"],[1,"hud-panel","equipment-main"],[1,"main-header"],[1,"header-content"],[1,"status-bar"],[1,"status-label"],[1,"status-value","highlight"],[1,"status-label","separator"],[1,"status-value"],[1,"equipment-toolbar"],[1,"search-box"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"search-icon"],["cx","11","cy","11","r","8"],["x1","21","y1","21","x2","16.65","y2","16.65"],["type","text","placeholder","SEARCH DATABANKS...",3,"input","value"],[1,"search-line"],[1,"sort-controls"],[1,"sort-label"],["title","Sort Options",1,"cyber-select",3,"change"],["value","name_asc",3,"selected"],["value","name_desc",3,"selected"],["value","price_asc",3,"selected"],["value","price_desc",3,"selected"],["value","tl_asc",3,"selected"],["value","tl_desc",3,"selected"],[1,"cart-trigger",3,"click"],["viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg",1,"btn-icon"],["d","M3 3H5L5.4 5M7 13H17L21 5H5.4M7 13L5.4 5M7 13L4.70711 15.2929C4.07714 15.9229 4.52331 17 5.41421 17H17M17 17C15.8954 17 15 17.8954 15 19C15 20.1046 15.8954 21 17 21C18.1046 21 19 20.1046 19 19C19 17.8954 18.1046 17 17 17ZM9 19C9 20.1046 8.10457 21 7 21C5.89543 21 5 20.1046 5 19C5 17.8954 5.89543 17 7 17C8.10457 17 9 17.8954 9 19Z","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],[1,"btn-text"],[1,"equipment-grid-wrapper"],[1,"equipment-grid","list-animation-container"],["class","equipment-card hud-card",3,"selected","click",4,"ngFor","ngForOf"],["class","empty-state-container",4,"ngIf"],[1,"category-group"],[1,"group-header",3,"click"],[1,"group-title"],[1,"group-toggle"],[1,"group-name"],[1,"group-line"],[1,"group-items"],["class","category-btn",3,"active","click",4,"ngFor","ngForOf"],[1,"category-btn",3,"click"],["class","btn-indicator",4,"ngIf"],[1,"category-code"],[1,"category-name"],[1,"item-count"],[1,"btn-indicator"],[1,"equipment-card","hud-card",3,"click"],[1,"card-borders"],[1,"corner","top-left"],[1,"corner","top-right"],[1,"corner","bottom-left"],[1,"corner","bottom-right"],["title","Toggle Cart","aria-label","Toggle Cart",1,"cart-add-btn",3,"click"],[1,"cart-triangle"],["viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg",1,"cart-icon"],[1,"card-inner"],["class","selection-overlay",4,"ngIf"],[1,"card-header"],[1,"header-left"],[1,"item-title",3,"title"],[1,"item-specs"],[1,"spec-tag","tl-tag"],[1,"spec-tag","mass-tag"],[1,"item-description-container"],[1,"item-description"],[1,"card-footer"],[1,"cost-label"],[1,"item-cost"],[1,"selection-overlay"],[1,"overlay-scanline"],[1,"empty-state-container"],[1,"glitch-wrapper"],[1,"empty-icon","warning-glitch"],[1,"empty-text"],[1,"empty-subtext"],[1,"modal-overlay","fade-in",3,"click"],[1,"hud-panel","cart-modal-panel","modal-content",3,"click"],[1,"panel-header","modal-header-custom"],[1,"pip","neon-green"],["class","queue-count",4,"ngIf"],["title","Close details","aria-label","Close details modal",1,"btn-close-modal","cyber-icon-btn","warning",3,"click"],["viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M18 6L6 18M6 6L18 18","stroke","currentColor","stroke-width","2","stroke-linecap","round"],[1,"modal-body","cart-list","scrollable-content"],["class","empty-selection",4,"ngIf"],["class","selected-row pulse-enter",4,"ngFor","ngForOf"],[1,"modal-footer","detail-modal-footer","queue-footer"],[1,"total-line"],[1,"total-label"],[1,"total-cost"],[1,"action-row"],[1,"cyber-btn","warning","full-width",3,"click","disabled"],[1,"queue-count"],[1,"empty-selection"],["viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg",1,"empty-icon-small"],["d","M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z","stroke","currentColor","stroke-width","1.5","stroke-dasharray","2 4"],[1,"selected-row","pulse-enter"],[1,"row-info"],[1,"selected-name",3,"title"],[1,"selected-cost"],["title","Remove Item",1,"btn-remove","cyber-btn",3,"click"],[1,"modal-content","hud-panel",3,"click"],[1,"pip","dim","pulse"],[1,"modal-body","scrollable-content"],[1,"detail-hero"],[1,"detail-name"],[1,"detail-price-box"],[1,"detail-price","highlight"],[1,"detail-tags"],[1,"detail-desc"],["class","detail-specs",4,"ngIf"],["class","detail-restrictions",4,"ngIf"],[1,"modal-footer","detail-modal-footer"],[1,"cyber-btn",3,"click"],[1,"detail-specs"],[1,"section-title"],[1,"specs-grid-inline"],["class","spec-row",4,"ngFor","ngForOf"],[1,"spec-row"],[1,"spec-label"],[1,"spec-value"],[1,"detail-restrictions"],[1,"section-title","warning-text"],[1,"tags-container"],["class","restriction-tag",4,"ngFor","ngForOf"],[1,"restriction-tag"]],template:function(e,i){e&1&&(s(0,"app-tablet-frame",0),b(1,v2,58,16,"div",1)(2,b2,31,9,"div",2)(3,S2,41,17,"div",2),c()),e&2&&(v("brandingLabel",i.brandingLabel())("frameLabel",i.frameLabel()),p(),v("ngIf",i.isLoaded()),p(),v("ngIf",i.isCartModalOpen()),p(),v("ngIf",i.detailItem()))},dependencies:[Z,_e,ne,Cl,gt,Wt],styles:[`[_nghost-%COMP%]{display:block;width:100%;height:100%;--cyber-bg: rgba(6, 10, 15, .85);--cyber-panel-bg: rgba(10, 18, 26, .9);--cyber-panel-border: rgba(0, 243, 255, .2);--cyber-primary: #00f3ff;--cyber-primary-glow: rgba(0, 243, 255, .4);--cyber-secondary: #00ff44;--cyber-secondary-glow: rgba(0, 255, 68, .4);--cyber-warning: #ff2a2a;--cyber-warning-glow: rgba(255, 42, 42, .4);--cyber-currency: #ffcc00;--cyber-text-main: #e0e0e0;--cyber-text-dim: #8892b0;--scanline-color: rgba(0, 243, 255, .03);--hud-border: 1px solid var(--cyber-panel-border)}.equipment-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:240px 1fr;gap:1.25rem;height:100%;min-height:0;font-family:Inter,sans-serif;color:var(--cyber-text-main)}.hud-panel[_ngcontent-%COMP%]{display:flex;flex-direction:column;background:var(--cyber-panel-bg);border:var(--hud-border);border-radius:4px;overflow:hidden;position:relative;box-shadow:0 4px 15px #00000080,inset 0 0 30px #00f3ff05;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);min-height:0}.hud-panel[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:linear-gradient(180deg,transparent 50%,var(--scanline-color) 50%);background-size:100% 4px;pointer-events:none;z-index:1}.panel-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;background:linear-gradient(90deg,rgba(0,243,255,.1) 0%,transparent 100%);border-bottom:var(--hud-border);padding:.8rem 1rem;position:relative;z-index:2}.panel-header[_ngcontent-%COMP%]   .header-pips[_ngcontent-%COMP%]{display:flex;gap:3px}.panel-header[_ngcontent-%COMP%]   .header-pips[_ngcontent-%COMP%]   .pip[_ngcontent-%COMP%]{width:6px;height:6px;border-radius:1px}.panel-header[_ngcontent-%COMP%]   .header-pips[_ngcontent-%COMP%]   .pip.cyan[_ngcontent-%COMP%]{background:var(--cyber-primary);box-shadow:0 0 8px var(--cyber-primary-glow)}.panel-header[_ngcontent-%COMP%]   .header-pips[_ngcontent-%COMP%]   .pip.neon-green[_ngcontent-%COMP%]{background:var(--cyber-secondary);box-shadow:0 0 8px var(--cyber-secondary-glow)}.panel-header[_ngcontent-%COMP%]   .header-pips[_ngcontent-%COMP%]   .pip.dim[_ngcontent-%COMP%]{background:#00f3ff33}.panel-header[_ngcontent-%COMP%]   .header-pips[_ngcontent-%COMP%]   .pip.pulse[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pip-blink 2s infinite}.panel-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:.75rem;font-weight:700;color:var(--cyber-primary);text-transform:uppercase;font-family:JetBrains Mono,monospace;letter-spacing:2px}@keyframes _ngcontent-%COMP%_pip-blink{0%,to{opacity:1}50%{opacity:.3}}.categories-sidebar[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;overflow-y:auto;flex:1;min-height:0;padding:.5rem;z-index:2}.categories-sidebar[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]::-webkit-scrollbar{width:4px}.categories-sidebar[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--cyber-panel-border);border-radius:2px}.categories-sidebar[_ngcontent-%COMP%]   .category-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:.2rem}.categories-sidebar[_ngcontent-%COMP%]   .category-group[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]{background:transparent;border:none;padding:.7rem .5rem;cursor:pointer;text-align:left;color:var(--cyber-primary);transition:all .2s ease}.categories-sidebar[_ngcontent-%COMP%]   .category-group[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]:hover{background:#00f3ff0d}.categories-sidebar[_ngcontent-%COMP%]   .category-group[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-family:JetBrains Mono,monospace;font-size:.75rem;font-weight:600;letter-spacing:1px}.categories-sidebar[_ngcontent-%COMP%]   .category-group[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title[_ngcontent-%COMP%]   .group-toggle[_ngcontent-%COMP%]{font-size:.6rem;color:#00f3ff99;transition:transform .2s ease}.categories-sidebar[_ngcontent-%COMP%]   .category-group[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title[_ngcontent-%COMP%]   .group-toggle.expanded[_ngcontent-%COMP%]{transform:rotate(90deg)}.categories-sidebar[_ngcontent-%COMP%]   .category-group[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-line[_ngcontent-%COMP%]{height:1px;background:linear-gradient(90deg,var(--cyber-primary) 0%,transparent 100%);margin-top:.4rem;opacity:.3}.categories-sidebar[_ngcontent-%COMP%]   .category-group[_ngcontent-%COMP%]   .group-items[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.4rem;padding-left:1rem;overflow:hidden;max-height:0;opacity:0;transition:all .3s cubic-bezier(.2,.8,.2,1)}.categories-sidebar[_ngcontent-%COMP%]   .category-group[_ngcontent-%COMP%]   .group-items.open[_ngcontent-%COMP%]{max-height:400px;opacity:1;padding-bottom:.5rem;padding-top:.2rem}.categories-sidebar[_ngcontent-%COMP%]   .category-group[_ngcontent-%COMP%]   .group-items[_ngcontent-%COMP%]   .category-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;background:#000a1480;border:1px solid rgba(0,243,255,.1);color:var(--cyber-text-dim);padding:.5rem;border-radius:2px;clip-path:polygon(0 0,calc(100% - 10px) 0,100% 10px,100% 100%,0 100%);font-family:JetBrains Mono,monospace;font-size:.65rem;cursor:pointer;transition:all .2s ease;position:relative;text-align:left}.categories-sidebar[_ngcontent-%COMP%]   .category-group[_ngcontent-%COMP%]   .group-items[_ngcontent-%COMP%]   .category-btn[_ngcontent-%COMP%]   .btn-indicator[_ngcontent-%COMP%]{position:absolute;left:0;top:0;height:100%;width:3px;background:var(--cyber-primary);box-shadow:0 0 8px var(--cyber-primary-glow)}.categories-sidebar[_ngcontent-%COMP%]   .category-group[_ngcontent-%COMP%]   .group-items[_ngcontent-%COMP%]   .category-btn[_ngcontent-%COMP%]   .category-code[_ngcontent-%COMP%]{color:#00f3ff80;font-weight:600;min-width:25px;transition:all .2s ease}.categories-sidebar[_ngcontent-%COMP%]   .category-group[_ngcontent-%COMP%]   .group-items[_ngcontent-%COMP%]   .category-btn[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%]{flex:1;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.categories-sidebar[_ngcontent-%COMP%]   .category-group[_ngcontent-%COMP%]   .group-items[_ngcontent-%COMP%]   .category-btn[_ngcontent-%COMP%]   .item-count[_ngcontent-%COMP%]{background:#ffffff0d;border:1px solid rgba(255,255,255,.1);padding:.1rem .3rem;border-radius:2px;font-size:.55rem;transition:all .2s ease}.categories-sidebar[_ngcontent-%COMP%]   .category-group[_ngcontent-%COMP%]   .group-items[_ngcontent-%COMP%]   .category-btn[_ngcontent-%COMP%]:hover{background:#00f3ff0d;border-color:#00f3ff4d;color:var(--cyber-text-main);padding-left:.8rem}.categories-sidebar[_ngcontent-%COMP%]   .category-group[_ngcontent-%COMP%]   .group-items[_ngcontent-%COMP%]   .category-btn[_ngcontent-%COMP%]:hover   .category-code[_ngcontent-%COMP%]{color:var(--cyber-primary)}.categories-sidebar[_ngcontent-%COMP%]   .category-group[_ngcontent-%COMP%]   .group-items[_ngcontent-%COMP%]   .category-btn.active[_ngcontent-%COMP%]{background:linear-gradient(90deg,#00f3ff26,#0032641a);color:var(--cyber-text-main);border-color:#00f3ff66}.categories-sidebar[_ngcontent-%COMP%]   .category-group[_ngcontent-%COMP%]   .group-items[_ngcontent-%COMP%]   .category-btn.active[_ngcontent-%COMP%]   .category-code[_ngcontent-%COMP%]{color:var(--cyber-primary);text-shadow:0 0 8px var(--cyber-primary-glow)}.categories-sidebar[_ngcontent-%COMP%]   .category-group[_ngcontent-%COMP%]   .group-items[_ngcontent-%COMP%]   .category-btn.active[_ngcontent-%COMP%]   .item-count[_ngcontent-%COMP%]{background:#00f3ff26;border-color:#00f3ff66;color:var(--cyber-primary)}.equipment-main[_ngcontent-%COMP%]{min-width:0;max-width:100%}.equipment-main[_ngcontent-%COMP%]   .main-header[_ngcontent-%COMP%]{background:linear-gradient(180deg,rgba(0,243,255,.05) 0%,transparent 100%);border-bottom:var(--hud-border);padding:1rem 1.25rem;position:relative;z-index:2}.equipment-main[_ngcontent-%COMP%]   .main-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-end;margin-bottom:.5rem}.equipment-main[_ngcontent-%COMP%]   .main-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.1rem;font-weight:600;color:#fff;font-family:JetBrains Mono,monospace;letter-spacing:2px;text-shadow:0 0 10px rgba(0,243,255,.3)}.equipment-main[_ngcontent-%COMP%]   .main-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .status-bar[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.4rem;font-family:JetBrains Mono,monospace;font-size:.65rem}.equipment-main[_ngcontent-%COMP%]   .main-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .status-bar[_ngcontent-%COMP%]   .status-label[_ngcontent-%COMP%]{color:var(--cyber-text-dim)}.equipment-main[_ngcontent-%COMP%]   .main-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .status-bar[_ngcontent-%COMP%]   .status-value[_ngcontent-%COMP%]{color:var(--cyber-text-main);font-weight:600}.equipment-main[_ngcontent-%COMP%]   .main-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .status-bar[_ngcontent-%COMP%]   .status-value.highlight[_ngcontent-%COMP%]{color:var(--cyber-primary)}.equipment-main[_ngcontent-%COMP%]   .main-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .status-bar[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{color:#00f3ff4d}.equipment-main[_ngcontent-%COMP%]   .main-header[_ngcontent-%COMP%]   .equipment-toolbar[_ngcontent-%COMP%]{display:flex;gap:1rem;align-items:center;margin-top:1rem;padding-top:1rem;border-top:1px solid rgba(0,243,255,.1)}.equipment-main[_ngcontent-%COMP%]   .main-header[_ngcontent-%COMP%]   .equipment-toolbar[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]{flex:1;position:relative;display:flex;align-items:center;background:#000a1480;border:1px solid rgba(0,243,255,.2);padding:.5rem .75rem;border-radius:2px;transition:all .2s}.equipment-main[_ngcontent-%COMP%]   .main-header[_ngcontent-%COMP%]   .equipment-toolbar[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]:focus-within{border-color:var(--cyber-primary);box-shadow:0 0 10px #00f3ff33}.equipment-main[_ngcontent-%COMP%]   .main-header[_ngcontent-%COMP%]   .equipment-toolbar[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]:focus-within   .search-line[_ngcontent-%COMP%]{transform:scaleX(1)}.equipment-main[_ngcontent-%COMP%]   .main-header[_ngcontent-%COMP%]   .equipment-toolbar[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]:focus-within   .search-icon[_ngcontent-%COMP%]{color:var(--cyber-primary)}.equipment-main[_ngcontent-%COMP%]   .main-header[_ngcontent-%COMP%]   .equipment-toolbar[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{width:16px;height:16px;margin-right:.5rem;color:#00f3ff80;transition:.2s}.equipment-main[_ngcontent-%COMP%]   .main-header[_ngcontent-%COMP%]   .equipment-toolbar[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;background:transparent;border:none;color:#fff;font-family:JetBrains Mono,monospace;font-size:.75rem;outline:none}.equipment-main[_ngcontent-%COMP%]   .main-header[_ngcontent-%COMP%]   .equipment-toolbar[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#00f3ff4d}.equipment-main[_ngcontent-%COMP%]   .main-header[_ngcontent-%COMP%]   .equipment-toolbar[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]   .search-line[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;width:100%;height:1px;background:var(--cyber-primary);transform:scaleX(0);transform-origin:left;transition:transform .3s ease}.equipment-main[_ngcontent-%COMP%]   .main-header[_ngcontent-%COMP%]   .equipment-toolbar[_ngcontent-%COMP%]   .sort-controls[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.equipment-main[_ngcontent-%COMP%]   .main-header[_ngcontent-%COMP%]   .equipment-toolbar[_ngcontent-%COMP%]   .sort-controls[_ngcontent-%COMP%]   .sort-label[_ngcontent-%COMP%]{font-family:JetBrains Mono,monospace;font-size:.6rem;color:var(--cyber-text-dim);letter-spacing:1px}.equipment-main[_ngcontent-%COMP%]   .main-header[_ngcontent-%COMP%]   .equipment-toolbar[_ngcontent-%COMP%]   .sort-controls[_ngcontent-%COMP%]   .cyber-select[_ngcontent-%COMP%]{background:#000a14cc;border:1px solid rgba(0,243,255,.3);color:var(--cyber-primary);font-family:JetBrains Mono,monospace;font-size:.7rem;padding:.4rem 1.8rem .4rem .8rem;cursor:pointer;outline:none;appearance:none;background-image:url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%2300f3ff' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e");background-repeat:no-repeat;background-position:right .5rem center;background-size:1em}.equipment-main[_ngcontent-%COMP%]   .main-header[_ngcontent-%COMP%]   .equipment-toolbar[_ngcontent-%COMP%]   .sort-controls[_ngcontent-%COMP%]   .cyber-select[_ngcontent-%COMP%]:hover, .equipment-main[_ngcontent-%COMP%]   .main-header[_ngcontent-%COMP%]   .equipment-toolbar[_ngcontent-%COMP%]   .sort-controls[_ngcontent-%COMP%]   .cyber-select[_ngcontent-%COMP%]:focus{border-color:var(--cyber-primary);box-shadow:0 0 10px #00f3ff33}.equipment-main[_ngcontent-%COMP%]   .main-header[_ngcontent-%COMP%]   .equipment-toolbar[_ngcontent-%COMP%]   .sort-controls[_ngcontent-%COMP%]   .cyber-select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background:#050a0f;color:#fff}.equipment-main[_ngcontent-%COMP%]   .main-header[_ngcontent-%COMP%]   .equipment-toolbar[_ngcontent-%COMP%]   .cart-trigger[_ngcontent-%COMP%]{background:transparent;border:1px solid var(--cyber-primary);color:var(--cyber-primary);font-family:JetBrains Mono,monospace;font-weight:700;font-size:.75rem;padding:.5rem 1rem;cursor:pointer;display:flex;align-items:center;gap:.5rem;transition:all .2s ease;border-radius:2px;letter-spacing:1px}.equipment-main[_ngcontent-%COMP%]   .main-header[_ngcontent-%COMP%]   .equipment-toolbar[_ngcontent-%COMP%]   .cart-trigger[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{width:16px;height:16px}.equipment-main[_ngcontent-%COMP%]   .main-header[_ngcontent-%COMP%]   .equipment-toolbar[_ngcontent-%COMP%]   .cart-trigger[_ngcontent-%COMP%]:hover{background:#00f3ff26;box-shadow:0 0 15px var(--cyber-primary-glow);color:#fff}.equipment-main[_ngcontent-%COMP%]   .main-header[_ngcontent-%COMP%]   .equipment-toolbar[_ngcontent-%COMP%]   .cart-trigger.has-items[_ngcontent-%COMP%]{background:#00ff441a;border-color:var(--cyber-secondary);color:var(--cyber-secondary)}.equipment-main[_ngcontent-%COMP%]   .main-header[_ngcontent-%COMP%]   .equipment-toolbar[_ngcontent-%COMP%]   .cart-trigger.has-items[_ngcontent-%COMP%]:hover{background:#00ff4440;color:#fff;box-shadow:0 0 15px var(--cyber-secondary-glow)}.equipment-main[_ngcontent-%COMP%]   .equipment-grid-wrapper[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:1.25rem;z-index:2;position:relative}.equipment-main[_ngcontent-%COMP%]   .equipment-grid-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.equipment-main[_ngcontent-%COMP%]   .equipment-grid-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#00f3ff4d;border-radius:3px}.equipment-main[_ngcontent-%COMP%]   .equipment-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:1.25rem}.equipment-main[_ngcontent-%COMP%]   .hud-card[_ngcontent-%COMP%]{position:relative;background:#0a0f1499;border:1px solid rgba(0,243,255,.1);cursor:pointer;transition:all .3s cubic-bezier(.2,.8,.2,1);height:100%;display:flex;flex-direction:column}.equipment-main[_ngcontent-%COMP%]   .hud-card[_ngcontent-%COMP%]   .card-borders[_ngcontent-%COMP%]{pointer-events:none;position:absolute;inset:-2px;z-index:2}.equipment-main[_ngcontent-%COMP%]   .hud-card[_ngcontent-%COMP%]   .card-borders[_ngcontent-%COMP%]   .corner[_ngcontent-%COMP%]{position:absolute;width:6px;height:6px;border:2px solid transparent;transition:border-color .3s ease}.equipment-main[_ngcontent-%COMP%]   .hud-card[_ngcontent-%COMP%]   .card-borders[_ngcontent-%COMP%]   .top-left[_ngcontent-%COMP%]{top:0;left:0;border-top-color:#00f3ff4d;border-left-color:#00f3ff4d}.equipment-main[_ngcontent-%COMP%]   .hud-card[_ngcontent-%COMP%]   .card-borders[_ngcontent-%COMP%]   .top-right[_ngcontent-%COMP%]{top:0;right:0;border-top-color:#00f3ff4d;border-right-color:#00f3ff4d}.equipment-main[_ngcontent-%COMP%]   .hud-card[_ngcontent-%COMP%]   .card-borders[_ngcontent-%COMP%]   .bottom-left[_ngcontent-%COMP%]{bottom:0;left:0;border-bottom-color:#00f3ff4d;border-left-color:#00f3ff4d}.equipment-main[_ngcontent-%COMP%]   .hud-card[_ngcontent-%COMP%]   .card-borders[_ngcontent-%COMP%]   .bottom-right[_ngcontent-%COMP%]{bottom:0;right:0;border-bottom-color:#00f3ff4d;border-right-color:#00f3ff4d}.equipment-main[_ngcontent-%COMP%]   .hud-card[_ngcontent-%COMP%]   .card-inner[_ngcontent-%COMP%]{padding:1rem;display:flex;flex-direction:column;flex:1;position:relative;z-index:1;background:linear-gradient(135deg,rgba(0,243,255,.03) 0%,transparent 100%)}.equipment-main[_ngcontent-%COMP%]   .hud-card[_ngcontent-%COMP%]   .cart-add-btn[_ngcontent-%COMP%]{position:absolute;top:-1px;right:-1px;width:45px;height:45px;background:transparent;border:none;cursor:pointer;z-index:10;padding:0}.equipment-main[_ngcontent-%COMP%]   .hud-card[_ngcontent-%COMP%]   .cart-add-btn[_ngcontent-%COMP%]   .cart-triangle[_ngcontent-%COMP%]{position:absolute;top:0;right:0;width:100%;height:100%;background:var(--cyber-currency);clip-path:polygon(100% 0,100% 100%,0 0);transition:all .2s ease;opacity:.85}.equipment-main[_ngcontent-%COMP%]   .hud-card[_ngcontent-%COMP%]   .cart-add-btn[_ngcontent-%COMP%]   .cart-icon[_ngcontent-%COMP%]{position:absolute;top:6px;right:5px;width:14px;height:14px;color:#000;z-index:2;transition:all .2s cubic-bezier(.2,.8,.2,1)}.equipment-main[_ngcontent-%COMP%]   .hud-card[_ngcontent-%COMP%]   .cart-add-btn[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;right:0;width:100%;height:100%;box-shadow:0 0 15px #fc09;opacity:0;transition:opacity .3s ease}.equipment-main[_ngcontent-%COMP%]   .hud-card[_ngcontent-%COMP%]   .cart-add-btn[_ngcontent-%COMP%]:hover   .cart-triangle[_ngcontent-%COMP%]{opacity:1;background:#fff}.equipment-main[_ngcontent-%COMP%]   .hud-card[_ngcontent-%COMP%]   .cart-add-btn[_ngcontent-%COMP%]:hover   .cart-icon[_ngcontent-%COMP%]{transform:scale(1.1)}.equipment-main[_ngcontent-%COMP%]   .hud-card[_ngcontent-%COMP%]   .cart-add-btn.in-cart[_ngcontent-%COMP%]   .cart-triangle[_ngcontent-%COMP%]{background:var(--cyber-secondary)}.equipment-main[_ngcontent-%COMP%]   .hud-card[_ngcontent-%COMP%]   .cart-add-btn.in-cart[_ngcontent-%COMP%]:after{box-shadow:0 0 15px var(--cyber-secondary-glow);opacity:1}.equipment-main[_ngcontent-%COMP%]   .hud-card[_ngcontent-%COMP%]   .cart-add-btn.in-cart[_ngcontent-%COMP%]:hover   .cart-triangle[_ngcontent-%COMP%]{background:#fff}.equipment-main[_ngcontent-%COMP%]   .hud-card[_ngcontent-%COMP%]   .selection-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:#00ff440d;z-index:-1;overflow:hidden}.equipment-main[_ngcontent-%COMP%]   .hud-card[_ngcontent-%COMP%]   .selection-overlay[_ngcontent-%COMP%]   .overlay-scanline[_ngcontent-%COMP%]{position:absolute;width:100%;height:20px;background:linear-gradient(to bottom,transparent,rgba(0,255,68,.2),transparent);animation:_ngcontent-%COMP%_card-scan 3s linear infinite}.equipment-main[_ngcontent-%COMP%]   .hud-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:.75rem}.equipment-main[_ngcontent-%COMP%]   .hud-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .item-title[_ngcontent-%COMP%]{font-family:JetBrains Mono,monospace;font-size:.8rem;font-weight:700;color:#fff;line-height:1.3;display:-webkit-box;-webkit-line-clamp:2;line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}.equipment-main[_ngcontent-%COMP%]   .hud-card[_ngcontent-%COMP%]   .item-specs[_ngcontent-%COMP%]{display:flex;gap:.5rem;margin-bottom:.75rem}.equipment-main[_ngcontent-%COMP%]   .hud-card[_ngcontent-%COMP%]   .item-specs[_ngcontent-%COMP%]   .spec-tag[_ngcontent-%COMP%]{font-family:JetBrains Mono,monospace;font-size:.6rem;padding:.15rem .4rem;border-radius:2px;font-weight:600}.equipment-main[_ngcontent-%COMP%]   .hud-card[_ngcontent-%COMP%]   .item-specs[_ngcontent-%COMP%]   .spec-tag.tl-tag[_ngcontent-%COMP%]{background:#00f3ff26;color:var(--cyber-primary);border:1px solid rgba(0,243,255,.3)}.equipment-main[_ngcontent-%COMP%]   .hud-card[_ngcontent-%COMP%]   .item-specs[_ngcontent-%COMP%]   .spec-tag.mass-tag[_ngcontent-%COMP%]{background:#ffffff0d;color:var(--cyber-text-dim);border:1px solid rgba(255,255,255,.1)}.equipment-main[_ngcontent-%COMP%]   .hud-card[_ngcontent-%COMP%]   .item-description-container[_ngcontent-%COMP%]{flex:1;margin-bottom:1rem}.equipment-main[_ngcontent-%COMP%]   .hud-card[_ngcontent-%COMP%]   .item-description-container[_ngcontent-%COMP%]   .item-description[_ngcontent-%COMP%]{margin:0;font-size:.7rem;color:var(--cyber-text-dim);line-height:1.4;display:-webkit-box;-webkit-line-clamp:3;line-clamp:3;-webkit-box-orient:vertical;overflow:hidden}.equipment-main[_ngcontent-%COMP%]   .hud-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;border-top:1px solid rgba(255,255,255,.05);padding-top:.75rem}.equipment-main[_ngcontent-%COMP%]   .hud-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .cost-label[_ngcontent-%COMP%]{font-family:JetBrains Mono,monospace;font-size:.55rem;color:var(--cyber-text-dim)}.equipment-main[_ngcontent-%COMP%]   .hud-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .item-cost[_ngcontent-%COMP%]{font-family:JetBrains Mono,monospace;font-size:.85rem;font-weight:700;color:var(--cyber-currency);text-shadow:0 0 8px rgba(255,204,0,.4)}.equipment-main[_ngcontent-%COMP%]   .hud-card[_ngcontent-%COMP%]:hover{background:#00f3ff0d;border-color:#00f3ff66;transform:translateY(-2px);box-shadow:0 8px 20px #0006,0 0 15px #00f3ff1a}.equipment-main[_ngcontent-%COMP%]   .hud-card[_ngcontent-%COMP%]:hover   .card-borders[_ngcontent-%COMP%]   .corner[_ngcontent-%COMP%]{border-color:var(--cyber-primary)}.equipment-main[_ngcontent-%COMP%]   .hud-card.selected[_ngcontent-%COMP%]{border-color:var(--cyber-secondary);background:#00ff4405}.equipment-main[_ngcontent-%COMP%]   .hud-card.selected[_ngcontent-%COMP%]   .card-borders[_ngcontent-%COMP%]   .corner[_ngcontent-%COMP%]{border-color:var(--cyber-secondary)}.equipment-main[_ngcontent-%COMP%]   .hud-card.selected[_ngcontent-%COMP%]   .item-title[_ngcontent-%COMP%]{color:var(--cyber-secondary);text-shadow:0 0 8px rgba(0,255,68,.4)}.equipment-main[_ngcontent-%COMP%]   .hud-card.selected[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 20px #0006,0 0 15px #00ff4426}.equipment-main[_ngcontent-%COMP%]   .empty-state-container[_ngcontent-%COMP%]{height:100%;display:flex;align-items:center;justify-content:center}.equipment-main[_ngcontent-%COMP%]   .empty-state-container[_ngcontent-%COMP%]   .glitch-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:1rem;opacity:.5}.equipment-main[_ngcontent-%COMP%]   .empty-state-container[_ngcontent-%COMP%]   .glitch-wrapper[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:3rem;color:var(--cyber-warning);font-weight:700;font-family:JetBrains Mono,monospace;text-shadow:0 0 15px var(--cyber-warning-glow);animation:_ngcontent-%COMP%_glitch-anim 4s infinite}.equipment-main[_ngcontent-%COMP%]   .empty-state-container[_ngcontent-%COMP%]   .glitch-wrapper[_ngcontent-%COMP%]   .empty-text[_ngcontent-%COMP%]{font-family:JetBrains Mono,monospace;font-size:1rem;font-weight:700;letter-spacing:2px;color:var(--cyber-text-main)}.equipment-main[_ngcontent-%COMP%]   .empty-state-container[_ngcontent-%COMP%]   .glitch-wrapper[_ngcontent-%COMP%]   .empty-subtext[_ngcontent-%COMP%]{font-family:JetBrains Mono,monospace;font-size:.65rem;color:var(--cyber-text-dim)}@keyframes _ngcontent-%COMP%_card-scan{0%{top:-20px}to{top:100%}}@keyframes _ngcontent-%COMP%_glitch-anim{0%,to{transform:translate(0)}20%{transform:translate(-2px,2px)}21%{transform:translate(2px,-2px)}22%{transform:translate(0)}60%{transform:translate(2px,2px)}61%{transform:translate(-2px,-2px)}62%{transform:translate(0)}}@keyframes _ngcontent-%COMP%_list-enter{0%{opacity:0;transform:translate(10px)}to{opacity:1;transform:translate(0)}}.cart-modal-panel[_ngcontent-%COMP%]{width:100%;max-width:450px;height:80vh;display:flex;flex-direction:column}.cart-modal-panel[_ngcontent-%COMP%]   .queue-count[_ngcontent-%COMP%]{margin-left:auto;font-family:JetBrains Mono,monospace;font-size:.7rem;color:var(--cyber-secondary);font-weight:700}.cart-modal-panel[_ngcontent-%COMP%]   .cart-list[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:1rem;display:flex;flex-direction:column;gap:.5rem;z-index:2}.cart-modal-panel[_ngcontent-%COMP%]   .cart-list[_ngcontent-%COMP%]::-webkit-scrollbar{width:4px}.cart-modal-panel[_ngcontent-%COMP%]   .cart-list[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#00ff444d;border-radius:2px}.cart-modal-panel[_ngcontent-%COMP%]   .empty-selection[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;color:var(--cyber-text-dim);gap:.5rem;font-family:JetBrains Mono,monospace;font-size:.7rem;opacity:.5}.cart-modal-panel[_ngcontent-%COMP%]   .empty-selection[_ngcontent-%COMP%]   .empty-icon-small[_ngcontent-%COMP%]{width:24px;height:24px;color:var(--cyber-text-dim)}.cart-modal-panel[_ngcontent-%COMP%]   .selected-row[_ngcontent-%COMP%]{display:flex;align-items:stretch;background:#00ff440d;border:1px solid rgba(0,255,68,.2);border-radius:3px;animation:_ngcontent-%COMP%_list-enter .3s ease-out}.cart-modal-panel[_ngcontent-%COMP%]   .selected-row[_ngcontent-%COMP%]   .row-info[_ngcontent-%COMP%]{flex:1;padding:.5rem;display:flex;flex-direction:column;gap:.25rem;min-width:0}.cart-modal-panel[_ngcontent-%COMP%]   .selected-row[_ngcontent-%COMP%]   .row-info[_ngcontent-%COMP%]   .selected-name[_ngcontent-%COMP%]{font-size:.7rem;font-weight:600;color:#fff;font-family:Inter,sans-serif;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.cart-modal-panel[_ngcontent-%COMP%]   .selected-row[_ngcontent-%COMP%]   .row-info[_ngcontent-%COMP%]   .selected-cost[_ngcontent-%COMP%]{font-family:JetBrains Mono,monospace;font-size:.7rem;color:var(--cyber-currency)}.cart-modal-panel[_ngcontent-%COMP%]   .selected-row[_ngcontent-%COMP%]   .btn-remove[_ngcontent-%COMP%]{width:32px;display:flex;align-items:center;justify-content:center;background:#ff2a2a1a;border:none;border-left:1px solid rgba(0,255,68,.2);color:var(--cyber-warning);cursor:pointer;font-size:.8rem;font-weight:700;transition:all .2s ease}.cart-modal-panel[_ngcontent-%COMP%]   .selected-row[_ngcontent-%COMP%]   .btn-remove[_ngcontent-%COMP%]:hover{background:#ff2a2a33;color:#fff;text-shadow:0 0 5px var(--cyber-warning-glow)}.cart-modal-panel[_ngcontent-%COMP%]   .queue-footer[_ngcontent-%COMP%]{border-top:var(--hud-border);padding:1.5rem;z-index:2;background:#0003}.cart-modal-panel[_ngcontent-%COMP%]   .queue-footer[_ngcontent-%COMP%]   .total-line[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1.5rem;font-family:JetBrains Mono,monospace}.cart-modal-panel[_ngcontent-%COMP%]   .queue-footer[_ngcontent-%COMP%]   .total-line[_ngcontent-%COMP%]   .total-label[_ngcontent-%COMP%]{font-size:.7rem;color:var(--cyber-text-dim)}.cart-modal-panel[_ngcontent-%COMP%]   .queue-footer[_ngcontent-%COMP%]   .total-line[_ngcontent-%COMP%]   .total-cost[_ngcontent-%COMP%]{font-size:1.2rem;color:var(--cyber-currency);font-weight:700;text-shadow:0 0 10px rgba(255,204,0,.4)}.cart-modal-panel[_ngcontent-%COMP%]   .queue-footer[_ngcontent-%COMP%]   .action-row[_ngcontent-%COMP%]{display:flex}.cart-modal-panel[_ngcontent-%COMP%]   .queue-footer[_ngcontent-%COMP%]   .action-row[_ngcontent-%COMP%]   .full-width[_ngcontent-%COMP%]{flex:1;background:#ff2a2a1a;border:1px solid rgba(255,42,42,.3);color:var(--cyber-warning);padding:.8rem;border-radius:2px;font-family:JetBrains Mono,monospace;font-size:.85rem;font-weight:700;cursor:pointer;transition:all .2s ease;text-transform:uppercase;letter-spacing:2px}.cart-modal-panel[_ngcontent-%COMP%]   .queue-footer[_ngcontent-%COMP%]   .action-row[_ngcontent-%COMP%]   .full-width[_ngcontent-%COMP%]:not([disabled]):hover{background:#ff2a2a33;box-shadow:0 0 15px var(--cyber-warning-glow);color:#fff}.cart-modal-panel[_ngcontent-%COMP%]   .queue-footer[_ngcontent-%COMP%]   .action-row[_ngcontent-%COMP%]   .full-width[disabled][_ngcontent-%COMP%]{opacity:.3;cursor:not-allowed}.modal-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:#00050ad9;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);display:flex;align-items:center;justify-content:center;z-index:100;padding:2rem}.modal-overlay.fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease-out}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{width:100%;max-width:600px;max-height:90vh;display:flex;flex-direction:column;background:linear-gradient(180deg,#0a1923f2,#050a0ffa);box-shadow:0 0 40px #00f3ff1a,inset 0 0 20px #00f3ff0d}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .card-borders[_ngcontent-%COMP%]   .corner[_ngcontent-%COMP%]{width:10px;height:10px;border-width:3px}.modal-overlay[_ngcontent-%COMP%]   .modal-header-custom[_ngcontent-%COMP%]{padding:1rem 1.25rem;justify-content:space-between}.modal-overlay[_ngcontent-%COMP%]   .modal-header-custom[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:.9rem;margin:0 auto 0 .5rem}.modal-overlay[_ngcontent-%COMP%]   .modal-header-custom[_ngcontent-%COMP%]   .btn-close-modal[_ngcontent-%COMP%]{background:#ff2a2a1a;border:1px solid rgba(255,42,42,.3);color:var(--cyber-warning);width:28px;height:28px;border-radius:2px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s ease}.modal-overlay[_ngcontent-%COMP%]   .modal-header-custom[_ngcontent-%COMP%]   .btn-close-modal[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:16px;height:16px}.modal-overlay[_ngcontent-%COMP%]   .modal-header-custom[_ngcontent-%COMP%]   .btn-close-modal[_ngcontent-%COMP%]:hover{background:#ff2a2a33;color:#fff;box-shadow:0 0 10px var(--cyber-warning-glow)}.modal-overlay[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:1.5rem;display:flex;flex-direction:column;gap:1.5rem}.modal-overlay[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.modal-overlay[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#00f3ff4d;border-radius:3px}.modal-overlay[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .detail-hero[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;gap:1rem;border-bottom:1px solid rgba(0,243,255,.1);padding-bottom:1rem}.modal-overlay[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .detail-hero[_ngcontent-%COMP%]   .detail-name[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;color:#fff;font-family:JetBrains Mono,monospace;text-shadow:0 0 15px rgba(0,243,255,.4);line-height:1.2}.modal-overlay[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .detail-hero[_ngcontent-%COMP%]   .detail-price-box[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end;background:#ffcc000d;border:1px solid rgba(255,204,0,.2);padding:.5rem 1rem;border-radius:4px}.modal-overlay[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .detail-hero[_ngcontent-%COMP%]   .detail-price-box[_ngcontent-%COMP%]   .cost-label[_ngcontent-%COMP%]{font-size:.65rem;color:var(--cyber-currency);opacity:.8;font-family:JetBrains Mono,monospace}.modal-overlay[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .detail-hero[_ngcontent-%COMP%]   .detail-price-box[_ngcontent-%COMP%]   .detail-price[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700;color:var(--cyber-currency);text-shadow:0 0 10px rgba(255,204,0,.5);font-family:JetBrains Mono,monospace}.modal-overlay[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .detail-tags[_ngcontent-%COMP%]{display:flex;gap:.75rem}.modal-overlay[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .detail-tags[_ngcontent-%COMP%]   .spec-tag[_ngcontent-%COMP%]{font-family:JetBrains Mono,monospace;font-size:.75rem;padding:.3rem .6rem;border-radius:2px;font-weight:600}.modal-overlay[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .detail-tags[_ngcontent-%COMP%]   .spec-tag.tl-tag[_ngcontent-%COMP%]{background:#00f3ff26;color:var(--cyber-primary);border:1px solid rgba(0,243,255,.3)}.modal-overlay[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .detail-tags[_ngcontent-%COMP%]   .spec-tag.mass-tag[_ngcontent-%COMP%]{background:#ffffff0d;color:var(--cyber-text-dim);border:1px solid rgba(255,255,255,.1)}.modal-overlay[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .detail-desc[_ngcontent-%COMP%]{font-size:.85rem;color:var(--cyber-text-dim);line-height:1.6;background:#0000004d;padding:1rem;border-radius:4px;border-left:2px solid rgba(0,243,255,.2)}.modal-overlay[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .detail-desc[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.modal-overlay[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-family:JetBrains Mono,monospace;font-size:.85rem;color:var(--cyber-primary);margin:0 0 1rem;letter-spacing:1px}.modal-overlay[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .section-title.warning-text[_ngcontent-%COMP%]{color:var(--cyber-warning);text-shadow:0 0 10px var(--cyber-warning-glow)}.modal-overlay[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .specs-grid-inline[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:.75rem}.modal-overlay[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .specs-grid-inline[_ngcontent-%COMP%]   .spec-row[_ngcontent-%COMP%]{background:#00f3ff0d;border:1px solid rgba(0,243,255,.1);padding:.5rem .75rem;border-radius:2px;display:flex;justify-content:space-between;align-items:center}.modal-overlay[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .specs-grid-inline[_ngcontent-%COMP%]   .spec-row[_ngcontent-%COMP%]   .spec-label[_ngcontent-%COMP%]{font-size:.75rem;color:var(--cyber-text-dim)}.modal-overlay[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .specs-grid-inline[_ngcontent-%COMP%]   .spec-row[_ngcontent-%COMP%]   .spec-value[_ngcontent-%COMP%]{font-family:JetBrains Mono,monospace;font-size:.85rem;color:#fff;font-weight:600}.modal-overlay[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .tags-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem}.modal-overlay[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .tags-container[_ngcontent-%COMP%]   .restriction-tag[_ngcontent-%COMP%]{font-family:JetBrains Mono,monospace;font-size:.7rem;background:#ff2a2a26;color:var(--cyber-warning);border:1px solid rgba(255,42,42,.4);padding:.3rem .5rem;border-radius:2px;box-shadow:0 0 8px #ff2a2a33;font-weight:700;letter-spacing:1px}.modal-overlay[_ngcontent-%COMP%]   .detail-modal-footer[_ngcontent-%COMP%]{border-top:1px solid rgba(0,243,255,.2);padding:1rem 1.5rem;display:flex;justify-content:flex-end;background:#0000004d}.modal-overlay[_ngcontent-%COMP%]   .detail-modal-footer[_ngcontent-%COMP%]   .cyber-btn[_ngcontent-%COMP%]{padding:.75rem 2rem;background:transparent;border:1px solid var(--cyber-primary);color:var(--cyber-primary);font-family:JetBrains Mono,monospace;font-weight:700;font-size:.85rem;border-radius:2px;cursor:pointer;transition:all .2s ease;text-transform:uppercase;letter-spacing:2px}.modal-overlay[_ngcontent-%COMP%]   .detail-modal-footer[_ngcontent-%COMP%]   .cyber-btn.primary[_ngcontent-%COMP%]{background:#00f3ff1a}.modal-overlay[_ngcontent-%COMP%]   .detail-modal-footer[_ngcontent-%COMP%]   .cyber-btn.primary[_ngcontent-%COMP%]:hover{background:#00f3ff33;color:#fff;box-shadow:0 0 15px var(--cyber-primary-glow)}.modal-overlay[_ngcontent-%COMP%]   .detail-modal-footer[_ngcontent-%COMP%]   .cyber-btn.warning[_ngcontent-%COMP%]{border-color:var(--cyber-warning);color:var(--cyber-warning);background:#ff2a2a1a}.modal-overlay[_ngcontent-%COMP%]   .detail-modal-footer[_ngcontent-%COMP%]   .cyber-btn.warning[_ngcontent-%COMP%]:hover{background:#ff2a2a33;color:#fff;box-shadow:0 0 15px var(--cyber-warning-glow)}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}`],changeDetection:0})};var z_=[{path:"",redirectTo:"dossier",pathMatch:"full"},{path:"dossier",component:_l},{path:"equipment",component:Hr,data:{mode:"equipment"}},{path:"vehicles",component:Hr,data:{mode:"vehicles"}},{path:"vessels",component:Hr,data:{mode:"vessels"}}];var G_={providers:[qd(),bf(z_,xf()),Kp(),{provide:Bs,useFactory:n=>()=>n.loadAllCareers(),deps:[ti],multi:!0}]};var P2=["outcomesTable"],w2=()=>[];function D2(n,t){if(n&1&&(lt(0),d(1),dt()),n&2){let e=h(3);p(),w(" \xB7 ",e.request.statName)}}function I2(n,t){if(n&1&&(lt(0),d(1),dt()),n&2){let e=h(3);p(),w(" \u2192 ",e.request.target,"+")}}function T2(n,t){if(n&1&&(s(0,"div",19)(1,"span",20),d(2,">>"),c(),s(3,"p"),d(4),c()()),n&2){let e=h(3);p(4),x(e.request.announcement)}}function k2(n,t){if(n&1&&(s(0,"div",26),d(1),c()),n&2){let e=t.$implicit;I("pos",e.value>0)("neg",e.value<0),p(),qs(" ",e.label,": ",e.value>0?"+":"","",e.value," ")}}function A2(n,t){if(n&1&&(s(0,"div",27),d(1),c()),n&2){let e=h(4);I("pos",e.request.dm>0)("neg",e.request.dm<0),p(),te(" NET_DM: ",e.request.dm>=0?"+":"","",e.request.dm," ")}}function R2(n,t){if(n&1&&(s(0,"div",21)(1,"span",22),d(2,"ACTIVE_MODIFIERS"),c(),s(3,"div",23),b(4,k2,2,7,"div",24)(5,A2,2,6,"div",25),c()()),n&2){let e=h(3);p(4),v("ngForOf",e.request.modifiers),p(),v("ngIf",(!e.request.modifiers||e.request.modifiers.length===0)&&e.request.dm!==0)}}function N2(n,t){if(n&1&&(s(0,"div",32)(1,"span",33),d(2,"\u2714"),c(),s(3,"div",34)(4,"span",35),d(5,"SUCCESS"),c(),s(6,"span",36),d(7),c()()()),n&2){let e=h(4);p(7),x(e.request.successContext)}}function L2(n,t){if(n&1&&(s(0,"div",37)(1,"span",33),d(2,"\u2718"),c(),s(3,"div",34)(4,"span",35),d(5,"FAILURE"),c(),s(6,"span",36),d(7),c()()()),n&2){let e=h(4);p(7),x(e.request.failureContext)}}function F2(n,t){if(n&1&&(s(0,"div",28)(1,"span",22),d(2,"OUTCOME_MATRIX"),c(),s(3,"div",29),b(4,N2,8,1,"div",30)(5,L2,8,1,"div",31),c()()),n&2){let e=h(3);p(4),v("ngIf",e.request.successContext),p(),v("ngIf",e.request.failureContext)}}function V2(n,t){if(n&1&&(s(0,"div",8)(1,"div",9)(2,"span",10),d(3),c(),s(4,"div",11),d(5),b(6,D2,2,1,"ng-container",12)(7,I2,2,1,"ng-container",12),c()(),b(8,T2,5,1,"div",13)(9,R2,6,2,"div",14)(10,F2,6,2,"div",15),s(11,"div",16),M(12,"div",17)(13,"div",18)(14,"div",18),c()()),n&2){let e=h(2);p(3),x(e.request.reason),p(2),w(" ",e.request.diceCount,"D6 "),p(),v("ngIf",e.request.statName),p(),v("ngIf",e.request.target>0),p(),v("ngIf",e.request.announcement),p(),v("ngIf",e.request.modifiers&&e.request.modifiers.length>0||e.request.dm!==0),p(),v("ngIf",e.request.successContext||e.request.failureContext)}}function j2(n,t){n&1&&M(0,"div",60)}function B2(n,t){if(n&1&&(s(0,"div",56)(1,"span",57),d(2),c(),s(3,"span",58),d(4),c(),b(5,j2,1,0,"div",59),c()),n&2){let e=t.$implicit;I("active",e.active),p(2),x(e.roll),p(2),x(e.value),p(),v("ngIf",e.active)}}function U2(n,t){if(n&1&&(s(0,"div",52)(1,"span",53),d(2,"PROBABILITY_MATRIX / OUTCOMES"),c(),s(3,"div",54,0),b(5,B2,6,5,"div",55),c()()),n&2){let e=h(3);p(5),v("ngForOf",e.tableRows)}}function H2(n,t){if(n&1&&(s(0,"div",65)(1,"span",66),d(2,"VECTOR_IN"),c(),s(3,"div",67),d(4),c()()),n&2){let e=h(4);p(4),x(e.request.statName)}}function $2(n,t){if(n&1&&(s(0,"div",65)(1,"span",66),d(2,"THRESHOLD"),c(),s(3,"div",67),d(4),c()()),n&2){let e=h(4);p(4),w("",e.request.target,"+")}}function z2(n,t){if(n&1&&(s(0,"div",72)(1,"span",73),d(2),c(),s(3,"span",74),d(4),c()()),n&2){let e=t.$implicit;I("pos",e.value>0)("neg",e.value<0),p(2),w("",e.label,":"),p(2),te("",e.value>0?"+":"","",e.value)}}function G2(n,t){if(n&1&&(s(0,"div",72),d(1),c()),n&2){let e=h(5);I("pos",e.request.dm>0)("neg",e.request.dm<0),p(),te(" DM: ",e.request.dm>=0?"+":"","",e.request.dm," ")}}function q2(n,t){if(n&1&&(s(0,"div",68)(1,"span",53),d(2,"ACTIVE_MODIFIERS"),c(),s(3,"div",69),b(4,z2,5,7,"div",70)(5,G2,2,6,"div",71),c()()),n&2){let e=h(4);p(4),v("ngForOf",e.request.modifiers),p(),v("ngIf",(!e.request.modifiers||e.request.modifiers.length===0)&&e.request.dm!==0)}}function W2(n,t){if(n&1&&(s(0,"div",61)(1,"div",62),b(2,H2,5,1,"div",63)(3,$2,5,1,"div",63),c(),b(4,q2,6,2,"div",64),c()),n&2){let e=h(3);p(2),v("ngIf",e.request.statName),p(),v("ngIf",e.request.target>0),p(),v("ngIf",e.request.modifiers&&e.request.modifiers.length>0||e.request.dm!==0)}}function Y2(n,t){n&1&&(s(0,"div",76)(1,"div",77)(2,"div",78),d(3,"?"),c(),s(4,"div",79),d(5,"?"),c(),s(6,"div",80),d(7,"?"),c(),s(8,"div",81),d(9,"?"),c(),s(10,"div",82),d(11,"?"),c(),s(12,"div",83),d(13,"?"),c()()())}function K2(n,t){if(n&1&&(lt(0),b(1,Y2,14,0,"div",75),dt()),n&2){let e=h(3);p(),v("ngForOf",wt(1,w2).constructor(e.request.diceCount||2))}}function J2(n,t){if(n&1&&(s(0,"div",85)(1,"div")(2,"div",78),d(3,"1"),c(),s(4,"div",79),d(5,"6"),c(),s(6,"div",80),d(7,"3"),c(),s(8,"div",81),d(9,"4"),c(),s(10,"div",82),d(11,"5"),c(),s(12,"div",83),d(13,"2"),c()()()),n&2){let e=t.$implicit;p(),Ti(Lo("cube show-",e))}}function Q2(n,t){if(n&1&&(lt(0),b(1,J2,14,3,"div",84),dt()),n&2){let e=h(3);p(),v("ngForOf",e.resultValues)}}function Z2(n,t){n&1&&(s(0,"div",86),d(1," 0101010101011101010101010101110101 "),c())}function X2(n,t){if(n&1&&(s(0,"span",97),d(1),c()),n&2){let e=h(4);p(),x(e.effectiveTotal)}}function eT(n,t){if(n&1){let e=T();s(0,"input",98),O("input",function(r){S(e);let o=h(4);return P(o.updateManualTotal(r))}),c()}if(n&2){let e=h(4);v("value",e.total)}}function tT(n,t){n&1&&(s(0,"span",102),d(1,"OP_SUCCESS"),c())}function nT(n,t){n&1&&(s(0,"span",103),d(1,"OP_FAILURE"),c())}function iT(n,t){if(n&1&&(s(0,"div",99),b(1,tT,2,0,"span",100)(2,nT,2,0,"span",101),c()),n&2){let e=h(4);p(),v("ngIf",e.isSuccess),p(),v("ngIf",!e.isSuccess)}}function rT(n,t){if(n&1&&(s(0,"div",87)(1,"div",88)(2,"div",89),d(3),s(4,"span",90),d(5,"RAW"),c()(),s(6,"div",91),d(7,"+"),c(),s(8,"div",89),d(9),s(10,"span",90),d(11,"MODS"),c()()(),s(12,"div",92)(13,"div",93),b(14,X2,2,1,"span",94)(15,eT,1,1,"input",95),c(),b(16,iT,3,2,"div",96),c()()),n&2){let e=h(3);p(3),w(" ",e.total," "),p(6),w(" ",e.request.dm," "),p(5),v("ngIf",!e.diceService.debugMode()),p(),v("ngIf",e.diceService.debugMode()),p(),v("ngIf",e.request&&e.request.target>0)}}function oT(n,t){if(n&1&&(s(0,"div",104),d(1),c()),n&2){let e=h(3);p(),w(" ",e.resultDescription," ")}}function aT(n,t){if(n&1&&(s(0,"div",105)(1,"span",106),d(2),c(),s(3,"span",107),d(4),c()()),n&2){let e=h(3);I("outcome-success",e.isSuccess)("outcome-failure",!e.isSuccess),p(2),x(e.isSuccess?"\u2714":"\u2718"),p(2),x(e.outcomeContext)}}function sT(n,t){if(n&1&&(s(0,"div",38)(1,"div",39)(2,"div",40)(3,"span",41),d(4,">>"),c(),d(5," DATA_CONTEXT "),c(),b(6,U2,6,1,"div",42)(7,W2,5,3,"div",43),s(8,"div",16),M(9,"div",18)(10,"div",18)(11,"div",18),c()(),s(12,"div",44)(13,"div",45)(14,"span",41),d(15,"::"),c(),d(16," TACTICAL_DICE_SCAN "),s(17,"span",41),d(18,"::"),c()(),s(19,"div",46)(20,"div",47),b(21,K2,2,2,"ng-container",12)(22,Q2,2,1,"ng-container",12),c(),b(23,Z2,2,0,"div",48)(24,rT,17,5,"div",49)(25,oT,2,1,"div",50)(26,aT,5,6,"div",51),c()()()),n&2){let e=h(2);p(6),v("ngIf",e.tableRows.length>0),p(),v("ngIf",e.tableRows.length===0),p(2),I("active",!0),p(),I("active",e.isRolling),p(),I("active",e.isResult),p(10),v("ngIf",e.isRolling),p(),v("ngIf",e.isResult),p(),v("ngIf",e.isRolling),p(),v("ngIf",e.isResult),p(),v("ngIf",e.isResult&&e.resultDescription),p(),v("ngIf",e.isResult&&e.outcomeContext)}}function cT(n,t){if(n&1&&(s(0,"div",111),d(1),c()),n&2){let e=h(3);p(),te(" Roll ",e.request.diceCount,"D6 + DM \u2014 target ",e.request.target,"+ to succeed ")}}function lT(n,t){if(n&1){let e=T();s(0,"div",108),b(1,cT,2,2,"div",109),s(2,"button",110),O("click",function(){S(e);let r=h(2);return P(r.initiateRoll())}),d(3," [ \u25B6 INITIATE ROLL ] "),c()()}if(n&2){let e=h(2);p(),v("ngIf",e.request.target>0)}}function dT(n,t){if(n&1){let e=T();s(0,"div",108)(1,"button",112),O("click",function(){S(e);let r=h(2);return P(r.continue())}),d(2," [ NEXT_PROTOCOL ] "),c()()}}function uT(n,t){if(n&1&&(s(0,"div",2)(1,"app-hud-window",3),b(2,V2,15,7,"div",4)(3,sT,27,14,"div",5),s(4,"div",6),b(5,lT,4,1,"div",7)(6,dT,3,0,"div",7),c()()()),n&2){let e=h();p(),v("isOpen",!0)("title",e.request.phase??e.request.reason)("width","700px")("readoutTL",e.isBriefing?"PHASE: PRE_ROLL_BRIEF":e.isRolling?"PHASE: DICE_SCAN":"PHASE: OUTCOME_REPORT")("readoutTR","PROC_ID: "+(e.Math.random()*99999).toFixed(0))("hasFooter",!0),p(),v("ngIf",e.isBriefing),p(),v("ngIf",!e.isBriefing),p(2),v("ngIf",e.isBriefing),p(),v("ngIf",e.isResult)}}var bl=class n{diceService=C(Ke);cdr=C(ft);Math=Math;outcomesTable;rollPhase="rolling";resultValues=[];total=0;resultDescription="";timer;get request(){return this.diceService.request()}get isBriefing(){return this.rollPhase==="briefing"}get isRolling(){return this.rollPhase==="rolling"}get isResult(){return this.rollPhase==="result"}constructor(){Ot(()=>{let t=this.diceService.request();t&&setTimeout(()=>{t.announcement?(this.rollPhase="briefing",this.resultValues=[],this.total=0,this.cdr.markForCheck()):this.startRoll()},0)}),Ot(()=>{this.isResult&&this.outcomesTable&&setTimeout(()=>this.scrollToActiveRow(),100)})}ngOnDestroy(){this.timer&&clearTimeout(this.timer)}initiateRoll(){this.startRoll()}startRoll(){this.timer&&clearTimeout(this.timer),this.rollPhase="rolling",this.resultValues=[],this.cdr.detectChanges(),this.timer=setTimeout(()=>this.finalizeRoll(),1500)}finalizeRoll(){try{let e=this.request?.diceCount||2;this.resultValues=[],this.total=0;for(let i=0;i<e;i++){let r=Math.floor(Math.random()*6)+1;this.resultValues.push(r),this.total+=r}this.rollPhase="result",this.updateResultDescription(),this.cdr.detectChanges()}catch(t){console.error("Error finalizing roll:",t),this.rollPhase="result",this.cdr.detectChanges()}}updateManualTotal(t){let e=t.target,i=parseInt(e.value,10);isNaN(i)||(this.total=i,this.updateResultDescription(),this.cdr.detectChanges())}updateResultDescription(){this.request?.getResultDescription?this.resultDescription=this.request.getResultDescription(this.total):this.resultDescription=""}continue(){this.request&&(this.diceService.complete(this.total),this.rollPhase="rolling")}get isSuccess(){return!this.request||!this.request.target?!1:this.effectiveTotal>=this.request.target}get effectiveTotal(){return this.total+(this.request?.dm||0)}get outcomeContext(){return this.request?this.request.target&&this.request.successContext&&this.request.failureContext?this.isSuccess?this.request.successContext:this.request.failureContext:this.request.successContext&&this.isSuccess?this.request.successContext:this.request.failureContext&&!this.isSuccess?this.request.failureContext:"":""}scrollToActiveRow(){if(!this.outcomesTable)return;let t=this.outcomesTable.nativeElement.querySelector(".outcome-row.active");t&&t.scrollIntoView({behavior:"smooth",block:"nearest"})}get tableRows(){let t=this.request?.debugTableData;if(!t||!Array.isArray(t))return[];let e=this.isResult?this.effectiveTotal:-999;return t.map((i,r)=>{let o=(r+1).toString(),a="",l=!1;return typeof i=="string"?a=i:typeof i=="number"?a=i.toLocaleString():typeof i=="object"&&i!==null&&(i.roll!==void 0?(o=i.roll.toString(),a=i.description||i.name||i.desc||i.career||i.outcome||""):a=JSON.stringify(i)),l=this.isResult&&o===e.toString(),{roll:o,value:a,active:l}})}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=G({type:n,selectors:[["app-dice-roller"]],viewQuery:function(e,i){if(e&1&&ln(P2,5,Ae),e&2){let r;ut(r=pt())&&(i.outcomesTable=r.first)}},decls:1,vars:1,consts:[["outcomesTable",""],["class","dice-overlay",4,"ngIf"],[1,"dice-overlay"],["type","standard","readoutBL","VOLTAGE: 4.2V","readoutBR","PARITY: PASS",3,"isOpen","title","width","readoutTL","readoutTR","hasFooter"],["class","briefing-panel",4,"ngIf"],["class","hud-dual-wrapper",4,"ngIf"],["footer","",1,"footer-container"],["class","action-wrapper",4,"ngIf"],[1,"briefing-panel"],[1,"brief-identity"],[1,"brief-roll-label"],[1,"brief-dice-spec"],[4,"ngIf"],["class","brief-announcement",4,"ngIf"],["class","brief-modifiers",4,"ngIf"],["class","brief-outcomes",4,"ngIf"],[1,"status-leds"],[1,"led","active"],[1,"led"],[1,"brief-announcement"],[1,"brief-announce-icon"],[1,"brief-modifiers"],[1,"brief-section-label"],[1,"brief-mod-list"],["class","brief-mod-pill",3,"pos","neg",4,"ngFor","ngForOf"],["class","brief-mod-pill net",3,"pos","neg",4,"ngIf"],[1,"brief-mod-pill"],[1,"brief-mod-pill","net"],[1,"brief-outcomes"],[1,"brief-outcome-grid"],["class","brief-outcome success",4,"ngIf"],["class","brief-outcome failure",4,"ngIf"],[1,"brief-outcome","success"],[1,"oc-icon"],[1,"oc-body"],[1,"oc-label"],[1,"oc-text"],[1,"brief-outcome","failure"],[1,"hud-dual-wrapper"],[1,"hud-column","input-sec"],[1,"column-header"],[1,"prefix"],["class","table-overlay-container",4,"ngIf"],["class","context-details",4,"ngIf"],[1,"hud-column","processing-sec"],[1,"column-header","center"],[1,"dice-stack"],[1,"dice-area"],["class","data-stream",4,"ngIf"],["class","total-display",4,"ngIf"],["class","result-description",4,"ngIf"],["class","outcome-context",3,"outcome-success","outcome-failure",4,"ngIf"],[1,"table-overlay-container"],[1,"label-tiny"],[1,"outcomes-table"],["class","outcome-row",3,"active",4,"ngFor","ngForOf"],[1,"outcome-row"],[1,"roll-val"],[1,"outcome-desc"],["class","active-indicator",4,"ngIf"],[1,"active-indicator"],[1,"context-details"],[1,"side-by-side"],["class","detail-box",4,"ngIf"],["class","modifiers-container",4,"ngIf"],[1,"detail-box"],[1,"label"],[1,"value"],[1,"modifiers-container"],[1,"modifiers-list"],["class","mod-pill",3,"pos","neg",4,"ngFor","ngForOf"],["class","mod-pill",3,"pos","neg",4,"ngIf"],[1,"mod-pill"],[1,"mod-desc"],[1,"mod-val"],["class","cube-spinner",4,"ngFor","ngForOf"],[1,"cube-spinner"],[1,"cube","scanning"],[1,"face","front"],[1,"face","back"],[1,"face","right"],[1,"face","left"],[1,"face","top"],[1,"face","bottom"],["class","cube-result",4,"ngFor","ngForOf"],[1,"cube-result"],[1,"data-stream"],[1,"total-display"],[1,"calc-row"],[1,"part"],[1,"tiny"],[1,"operator"],[1,"final-row"],[1,"final-val-wrapper"],["class","final-val",4,"ngIf"],["type","number","class","debug-roll-input","title","DEBUG: Override base roll (Total = Base + Mods)",3,"value","input",4,"ngIf"],["class","status",4,"ngIf"],[1,"final-val"],["type","number","title","DEBUG: Override base roll (Total = Base + Mods)",1,"debug-roll-input",3,"input","value"],[1,"status"],["class","success",4,"ngIf"],["class","fail",4,"ngIf"],[1,"success"],[1,"fail"],[1,"result-description"],[1,"outcome-context"],[1,"oc-chevron"],[1,"oc-narrative"],[1,"action-wrapper"],["class","brief-roll-meta",4,"ngIf"],[1,"btn-initiate-roll",3,"click"],[1,"brief-roll-meta"],[1,"btn-continue",3,"click"]],template:function(e,i){e&1&&b(0,uT,7,10,"div",1),e&2&&v("ngIf",i.request)},dependencies:[Z,_e,ne,ri],styles:['.hud-dual-wrapper[_ngcontent-%COMP%]{display:flex;gap:1.5rem;align-items:stretch;flex:1;width:100%;box-sizing:border-box}.hud-column[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;padding:1.2rem;background:#00081080;border:2px solid rgba(0,243,255,.12);position:relative;box-sizing:border-box;overflow:hidden;box-shadow:0 0 12px #00f3ff0f,inset 0 0 10px #00f3ff05}.hud-column[_ngcontent-%COMP%]   .column-header[_ngcontent-%COMP%]{position:absolute;top:-8px;left:15px;background:var(--bg-panel);padding:0 6px;font-family:var(--font-mono);font-size:.5rem;color:var(--text-dim);letter-spacing:1px;z-index:2}.hud-column[_ngcontent-%COMP%]   .column-header[_ngcontent-%COMP%]   .prefix[_ngcontent-%COMP%]{color:var(--neon-cyan)}.hud-column[_ngcontent-%COMP%]   .column-header.center[_ngcontent-%COMP%]{left:50%;transform:translate(-50%)}.input-sec[_ngcontent-%COMP%], .processing-sec[_ngcontent-%COMP%]{flex:1}.table-overlay-container[_ngcontent-%COMP%]{margin-top:1rem;flex:1;display:flex;flex-direction:column;width:100%;box-sizing:border-box;overflow:hidden}.table-overlay-container[_ngcontent-%COMP%]   .label-tiny[_ngcontent-%COMP%]{font-family:var(--font-mono);font-size:.5rem;color:var(--text-dim);margin-bottom:.6rem;opacity:.7;letter-spacing:1px}.outcomes-table[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.4rem;padding:.8rem;background:#00081099;border:2px solid rgba(0,243,255,.15);border-radius:2px;overflow-y:auto;max-height:250px;box-shadow:0 0 12px #00f3ff14,inset 0 0 8px #00f3ff08}.outcomes-table[_ngcontent-%COMP%]::-webkit-scrollbar{width:4px}.outcomes-table[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#00f3ff1a}.outcomes-table[_ngcontent-%COMP%]   .outcome-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:flex-start;gap:.8rem;padding:.5rem .6rem;border-bottom:1px solid rgba(255,255,255,.03);position:relative;transition:all .2s;cursor:pointer}.outcomes-table[_ngcontent-%COMP%]   .outcome-row[_ngcontent-%COMP%]:hover{background:#00f3ff14;border-color:#00f3ff33}.outcomes-table[_ngcontent-%COMP%]   .outcome-row[_ngcontent-%COMP%]:last-child{border-bottom:none}.outcomes-table[_ngcontent-%COMP%]   .outcome-row[_ngcontent-%COMP%]   .roll-val[_ngcontent-%COMP%]{font-family:var(--font-mono);font-size:.75rem;color:var(--neon-cyan);font-weight:700;min-width:25px;text-align:center;flex-shrink:0}.outcomes-table[_ngcontent-%COMP%]   .outcome-row[_ngcontent-%COMP%]   .outcome-desc[_ngcontent-%COMP%]{font-family:var(--font-mono);font-size:.7rem;color:var(--text-main);transition:color .2s;text-align:left;word-wrap:break-word;flex:1;line-height:1.3}.outcomes-table[_ngcontent-%COMP%]   .outcome-row.active[_ngcontent-%COMP%]{background:#00f3ff2e;border-left:3px solid var(--neon-cyan);padding-left:calc(.6rem - 3px);box-shadow:0 0 20px #00f3ff33,inset 0 0 10px #00f3ff14}.outcomes-table[_ngcontent-%COMP%]   .outcome-row.active[_ngcontent-%COMP%]   .roll-val[_ngcontent-%COMP%]{color:var(--cyber-yellow);text-shadow:0 0 12px rgba(255,238,0,.6),0 0 25px rgba(255,238,0,.3)}.outcomes-table[_ngcontent-%COMP%]   .outcome-row.active[_ngcontent-%COMP%]   .outcome-desc[_ngcontent-%COMP%]{color:#fff;font-weight:700}.outcomes-table[_ngcontent-%COMP%]   .outcome-row.active[_ngcontent-%COMP%]   .active-indicator[_ngcontent-%COMP%]{position:absolute;right:8px;width:6px;height:6px;background:var(--neon-cyan);border-radius:50%;box-shadow:0 0 10px var(--neon-cyan),0 0 20px #00f3ff80;animation:_ngcontent-%COMP%_pulse 1s infinite alternate}@keyframes _ngcontent-%COMP%_pulse{0%{opacity:.4}to{opacity:1}}.dice-stack[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem;align-items:center;justify-content:center;flex:1;width:100%;box-sizing:border-box}.side-by-side[_ngcontent-%COMP%]{display:flex;gap:.5rem;margin-top:.5rem;margin-bottom:1rem;width:100%;box-sizing:border-box}.side-by-side[_ngcontent-%COMP%]   .detail-box[_ngcontent-%COMP%]{flex:1}.detail-box[_ngcontent-%COMP%]{background:#000810cc;border:2px solid rgba(0,243,255,.2);height:90px;display:flex;flex-direction:column;justify-content:center;align-items:center;position:relative;box-sizing:border-box;text-align:center;box-shadow:0 0 15px #00f3ff14,inset 0 0 10px #00f3ff08;transition:all .3s ease}.detail-box[_ngcontent-%COMP%]:hover{border-color:#00f3ff66;box-shadow:0 0 25px #00f3ff26,inset 0 0 15px #00f3ff14}.detail-box[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-family:var(--font-mono);font-size:.5rem;color:var(--text-dim);text-transform:uppercase;letter-spacing:1px;margin-bottom:.4rem}.detail-box[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-family:var(--font-header);font-size:1.6rem;color:var(--cyber-yellow);text-transform:uppercase;letter-spacing:2px;text-shadow:0 0 15px rgba(255,230,0,.6),0 0 30px rgba(255,230,0,.3),0 0 45px rgba(255,230,0,.1)}.modifiers-container[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;margin-top:.5rem;width:100%;box-sizing:border-box}.modifiers-container[_ngcontent-%COMP%]   .label-tiny[_ngcontent-%COMP%]{font-family:var(--font-mono);font-size:.5rem;color:var(--text-dim);margin-bottom:.4rem}.modifiers-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.4rem;padding-left:.5rem;border-left:1px dashed rgba(0,243,255,.2);overflow-y:auto;max-height:180px;box-sizing:border-box}.modifiers-list[_ngcontent-%COMP%]   .mod-pill[_ngcontent-%COMP%]{font-size:.75rem;font-family:var(--font-mono);color:#fff;display:flex;justify-content:space-between;align-items:center;width:100%;padding:.2rem 0;border-bottom:1px solid rgba(0,243,255,.05)}.modifiers-list[_ngcontent-%COMP%]   .mod-pill.pos[_ngcontent-%COMP%]   .mod-val[_ngcontent-%COMP%]{color:var(--neon-cyan)}.modifiers-list[_ngcontent-%COMP%]   .mod-pill.neg[_ngcontent-%COMP%]   .mod-val[_ngcontent-%COMP%]{color:var(--power-red)}.modifiers-list[_ngcontent-%COMP%]   .mod-pill[_ngcontent-%COMP%]   .mod-desc[_ngcontent-%COMP%]{flex:1;text-align:left;opacity:.9}.modifiers-list[_ngcontent-%COMP%]   .mod-pill[_ngcontent-%COMP%]   .mod-val[_ngcontent-%COMP%]{width:40px;text-align:center;font-weight:800}.dice-area[_ngcontent-%COMP%]{display:flex;gap:1.5rem;justify-content:center;perspective:1000px}.cube[_ngcontent-%COMP%]{width:60px;height:60px;position:relative;transform-style:preserve-3d;transition:transform 1.2s cubic-bezier(.23,1,.32,1)}.cube.scanning[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_hyperSpin .6s infinite linear}.face[_ngcontent-%COMP%]{position:absolute;width:60px;height:60px;background:var(--cyber-yellow);border:2px solid var(--neon-cyan);color:#000;font-size:2.1rem;font-family:var(--font-accent);font-weight:800;display:flex;justify-content:center;align-items:center;text-shadow:none;box-shadow:none}.face[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-1px;left:-1px;border-top:4px solid var(--neon-cyan);border-left:4px solid var(--neon-cyan);width:12px;height:12px;pointer-events:none}.face[_ngcontent-%COMP%]:after{content:"DICE_UNIT";position:absolute;bottom:2px;right:4px;font-family:var(--font-mono);font-size:.45rem;color:#000;font-weight:900;letter-spacing:1px}.front[_ngcontent-%COMP%]{transform:rotateY(0) translateZ(30px)}.back[_ngcontent-%COMP%]{transform:rotateY(180deg) translateZ(30px)}.right[_ngcontent-%COMP%]{transform:rotateY(90deg) translateZ(30px)}.left[_ngcontent-%COMP%]{transform:rotateY(-90deg) translateZ(30px)}.top[_ngcontent-%COMP%]{transform:rotateX(90deg) translateZ(30px)}.bottom[_ngcontent-%COMP%]{transform:rotateX(-90deg) translateZ(30px)}.show-1[_ngcontent-%COMP%]{transform:rotateY(0)}.show-6[_ngcontent-%COMP%]{transform:rotateY(180deg)}.show-3[_ngcontent-%COMP%]{transform:rotateY(-90deg)}.show-4[_ngcontent-%COMP%]{transform:rotateY(90deg)}.show-5[_ngcontent-%COMP%]{transform:rotateX(-90deg)}.show-2[_ngcontent-%COMP%]{transform:rotateX(90deg)}.data-stream[_ngcontent-%COMP%]{font-family:var(--font-mono);font-size:.45rem;color:var(--neon-cyan);opacity:.2;text-align:center;letter-spacing:2px}.total-display[_ngcontent-%COMP%]{padding:1rem;background:#000810cc;border:2px solid rgba(0,243,255,.25);display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;width:100%;box-sizing:border-box;box-shadow:0 0 20px #00f3ff1a,inset 0 0 15px #00f3ff0d}.total-display[_ngcontent-%COMP%]   .calc-row[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:1rem;font-family:var(--font-mono);color:var(--text-dim);font-size:.8rem;margin-bottom:.8rem}.total-display[_ngcontent-%COMP%]   .calc-row[_ngcontent-%COMP%]   .part[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;font-size:1.1rem;color:#fff}.total-display[_ngcontent-%COMP%]   .calc-row[_ngcontent-%COMP%]   .part[_ngcontent-%COMP%]   span.tiny[_ngcontent-%COMP%]{font-size:.65rem;opacity:.8;margin-top:4px;color:var(--neon-cyan);letter-spacing:1px}.total-display[_ngcontent-%COMP%]   .calc-row[_ngcontent-%COMP%]   .operator[_ngcontent-%COMP%]{font-size:1.2rem;color:var(--vivid-orange)}.total-display[_ngcontent-%COMP%]   .final-row[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:.5rem;border-top:1px solid rgba(255,255,255,.1);padding-top:.8rem;width:100%;box-sizing:border-box}.total-display[_ngcontent-%COMP%]   .final-row[_ngcontent-%COMP%]   .final-val-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:100%}.total-display[_ngcontent-%COMP%]   .final-row[_ngcontent-%COMP%]   .final-val[_ngcontent-%COMP%]{font-family:var(--font-header);font-size:2.8rem;color:#fff;letter-spacing:2px;text-shadow:0 0 20px rgba(0,243,255,.6),0 0 40px rgba(0,243,255,.4),0 0 60px rgba(0,243,255,.2);line-height:1;animation:_ngcontent-%COMP%_resultPulse 1.5s ease-in-out infinite}.total-display[_ngcontent-%COMP%]   .final-row[_ngcontent-%COMP%]   .debug-roll-input[_ngcontent-%COMP%]{background:#0009;border:1px solid var(--cyber-yellow);color:var(--cyber-yellow);font-family:var(--font-header);font-size:2.8rem;width:120px;text-align:center;outline:none;padding:0;line-height:1;box-shadow:0 0 15px #ffe60033;border-radius:2px}.total-display[_ngcontent-%COMP%]   .final-row[_ngcontent-%COMP%]   .debug-roll-input[_ngcontent-%COMP%]::-webkit-inner-spin-button, .total-display[_ngcontent-%COMP%]   .final-row[_ngcontent-%COMP%]   .debug-roll-input[_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.total-display[_ngcontent-%COMP%]   .final-row[_ngcontent-%COMP%]   .debug-roll-input[_ngcontent-%COMP%]:focus{border-color:#fff;box-shadow:0 0 25px #ffe60066;background:#ffe6001a}.total-display[_ngcontent-%COMP%]   .final-row[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]{font-size:1.1rem;font-family:var(--font-accent);letter-spacing:2px;text-transform:uppercase;font-weight:800}.total-display[_ngcontent-%COMP%]   .final-row[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]   .success[_ngcontent-%COMP%]{color:var(--neon-green);text-shadow:0 0 15px rgba(57,255,20,.6),0 0 30px rgba(57,255,20,.4),0 0 45px rgba(57,255,20,.2);animation:_ngcontent-%COMP%_successPulse 1s ease-in-out infinite}.total-display[_ngcontent-%COMP%]   .final-row[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]   .fail[_ngcontent-%COMP%]{color:var(--power-red);text-shadow:0 0 15px rgba(255,0,60,.6),0 0 30px rgba(255,0,60,.4),0 0 45px rgba(255,0,60,.2);animation:_ngcontent-%COMP%_failPulse 1s ease-in-out infinite}.result-description[_ngcontent-%COMP%]{margin-top:.5rem;padding:.8rem;background:#ff8c000d;border-left:2px solid var(--vivid-orange);color:#eee;font-family:var(--font-body);font-size:.8rem;text-align:left;max-height:100px;overflow-y:auto;width:100%;box-sizing:border-box}.success[_ngcontent-%COMP%]   .result-description[_ngcontent-%COMP%]{background:#00ff9d0d;border-left-color:var(--neon-green);color:var(--neon-green)}.fail[_ngcontent-%COMP%]   .result-description[_ngcontent-%COMP%]{background:#ff00550d;border-left-color:var(--power-red);color:var(--power-red)}.status-leds[_ngcontent-%COMP%]{margin-top:auto;display:flex;gap:.4rem;padding:.3rem}.status-leds[_ngcontent-%COMP%]   .led[_ngcontent-%COMP%]{width:5px;height:5px;background:#ffffff0d;border-radius:50%}.status-leds[_ngcontent-%COMP%]   .led.active[_ngcontent-%COMP%]{background:var(--neon-cyan);box-shadow:0 0 5px var(--neon-cyan)}.action-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;width:100%}.btn-continue[_ngcontent-%COMP%]{flex:0 0 300px;margin:0 auto;padding:.75rem 1.5rem;background:#00f3ff1f;color:var(--neon-cyan);border:2px solid var(--neon-cyan);font-family:var(--font-header);font-weight:900;font-size:.9rem;letter-spacing:4px;cursor:pointer;clip-path:polygon(10px 0,100% 0,calc(100% - 10px) 100%,0 100%);transition:all .3s cubic-bezier(.34,1.56,.64,1);position:relative;overflow:hidden;text-shadow:0 0 10px rgba(0,243,255,.5)}.btn-continue[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(0,243,255,.4),transparent);transition:left .5s ease}.btn-continue[_ngcontent-%COMP%]:hover:not(:disabled){background:#00f3ff40;color:#fff;box-shadow:0 0 30px #00f3ffcc,0 0 60px #00f3ff66,inset 0 0 20px #00f3ff26;border-color:#fff;transform:scale(1.08) translateY(-3px);text-shadow:0 0 20px rgb(0,243,255);letter-spacing:5px}.btn-continue[_ngcontent-%COMP%]:hover:not(:disabled):before{left:100%}.btn-continue[_ngcontent-%COMP%]:active:not(:disabled){background:#00f3ff59;box-shadow:0 0 40px #00f3ff,inset 0 0 40px #00f3ff40;transform:scale(.96)}.btn-continue[_ngcontent-%COMP%]:disabled{opacity:.2;cursor:not-allowed;box-shadow:none;transform:none;text-shadow:none}@keyframes _ngcontent-%COMP%_hyperSpin{0%{transform:rotateX(0) rotateY(0) rotate(0)}to{transform:rotateX(360deg) rotateY(720deg) rotate(360deg)}}@media(max-width:600px){.hud-dual-wrapper[_ngcontent-%COMP%]{flex-direction:column}.hud-column[_ngcontent-%COMP%]{max-width:100%!important}.btn-continue[_ngcontent-%COMP%]{flex:0 0 100%}}.briefing-panel[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.2rem;padding:1.4rem 1.6rem 1rem;width:100%;box-sizing:border-box;animation:_ngcontent-%COMP%_fadeInUp .3s ease}.brief-identity[_ngcontent-%COMP%]{display:flex;align-items:baseline;justify-content:space-between;border-bottom:1px solid rgba(0,243,255,.12);padding-bottom:.6rem}.brief-roll-label[_ngcontent-%COMP%]{font-family:var(--font-header);font-size:1rem;font-weight:700;color:var(--neon-cyan);letter-spacing:2px;text-transform:uppercase}.brief-dice-spec[_ngcontent-%COMP%]{font-family:var(--font-mono);font-size:.65rem;color:var(--text-dim);letter-spacing:1px}.brief-announcement[_ngcontent-%COMP%]{display:flex;gap:.8rem;align-items:flex-start;background:#00f3ff0a;border-left:3px solid var(--neon-cyan);padding:.7rem 1rem}.brief-announcement[_ngcontent-%COMP%]   .brief-announce-icon[_ngcontent-%COMP%]{font-family:var(--font-mono);color:var(--neon-cyan);font-size:.7rem;flex-shrink:0;margin-top:2px}.brief-announcement[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:var(--font-mono);font-size:.72rem;color:var(--text-primary);line-height:1.6;margin:0}.brief-section-label[_ngcontent-%COMP%]{display:block;font-family:var(--font-mono);font-size:.5rem;letter-spacing:2px;color:var(--text-dim);margin-bottom:.5rem}.brief-modifiers[_ngcontent-%COMP%]{display:flex;flex-direction:column}.brief-mod-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.4rem}.brief-mod-pill[_ngcontent-%COMP%]{font-family:var(--font-mono);font-size:.65rem;padding:.2rem .6rem;border:1px solid rgba(255,255,255,.1);background:#ffffff08;color:var(--text-dim);letter-spacing:1px}.brief-mod-pill.pos[_ngcontent-%COMP%]{border-color:#00ff804d;color:#00ff80}.brief-mod-pill.neg[_ngcontent-%COMP%]{border-color:#ff3c504d;color:#ff3c50}.brief-outcomes[_ngcontent-%COMP%]{display:flex;flex-direction:column}.brief-outcome-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:.6rem}@media(max-width:600px){.brief-outcome-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.brief-outcome[_ngcontent-%COMP%]{display:flex;gap:.6rem;align-items:flex-start;padding:.7rem;border:1px solid rgba(255,255,255,.05);background:#00000040}.brief-outcome.success[_ngcontent-%COMP%]{border-color:#00ff8033;background:#00ff800a}.brief-outcome.success[_ngcontent-%COMP%]   .oc-icon[_ngcontent-%COMP%], .brief-outcome.success[_ngcontent-%COMP%]   .oc-label[_ngcontent-%COMP%]{color:#00ff80}.brief-outcome.failure[_ngcontent-%COMP%]{border-color:#ff3c5033;background:#ff3c500a}.brief-outcome.failure[_ngcontent-%COMP%]   .oc-icon[_ngcontent-%COMP%], .brief-outcome.failure[_ngcontent-%COMP%]   .oc-label[_ngcontent-%COMP%]{color:#ff3c50}.brief-outcome[_ngcontent-%COMP%]   .oc-icon[_ngcontent-%COMP%]{font-size:.9rem;flex-shrink:0;margin-top:1px}.brief-outcome[_ngcontent-%COMP%]   .oc-body[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.2rem}.brief-outcome[_ngcontent-%COMP%]   .oc-label[_ngcontent-%COMP%]{font-family:var(--font-mono);font-size:.5rem;letter-spacing:2px}.brief-outcome[_ngcontent-%COMP%]   .oc-text[_ngcontent-%COMP%]{font-family:var(--font-mono);font-size:.67rem;color:var(--text-primary);line-height:1.5}.brief-roll-meta[_ngcontent-%COMP%]{font-family:var(--font-mono);font-size:.6rem;color:var(--text-dim);letter-spacing:1px;margin-bottom:.3rem;text-align:center}.btn-initiate-roll[_ngcontent-%COMP%]{flex:0 0 300px;margin:0 auto;padding:.75rem 1.5rem;background:#00f3ff14;color:var(--neon-cyan);border:2px solid var(--neon-cyan);font-family:var(--font-header);font-weight:900;font-size:.9rem;letter-spacing:4px;cursor:pointer;clip-path:polygon(10px 0,100% 0,calc(100% - 10px) 100%,0 100%);transition:all .3s cubic-bezier(.34,1.56,.64,1);animation:_ngcontent-%COMP%_pulseGlow 2s ease-in-out infinite;position:relative;overflow:hidden;text-shadow:0 0 10px rgba(0,243,255,.5)}.btn-initiate-roll[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(0,243,255,.4),transparent);transition:left .5s ease}.btn-initiate-roll[_ngcontent-%COMP%]:hover{background:#00f3ff40;color:#fff;box-shadow:0 0 30px #00f3ffcc,0 0 60px #00f3ff66,inset 0 0 20px #00f3ff26;border-color:#fff;transform:scale(1.08) translateY(-3px);text-shadow:0 0 20px rgb(0,243,255);letter-spacing:5px}.btn-initiate-roll[_ngcontent-%COMP%]:hover:before{left:100%}.btn-initiate-roll[_ngcontent-%COMP%]:active{background:#00f3ff59;box-shadow:0 0 40px #00f3ff,inset 0 0 40px #00f3ff40;transform:scale(.96)}.btn-initiate-roll[_ngcontent-%COMP%]:disabled{opacity:.2;cursor:not-allowed;box-shadow:none;transform:none;text-shadow:none}@keyframes _ngcontent-%COMP%_pulseGlow{0%,to{box-shadow:0 0 15px #00f3ff66,0 0 30px #00f3ff26}50%{box-shadow:0 0 25px #00f3ffcc,0 0 50px #00f3ff4d}}.outcome-context[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:.6rem;margin-top:.8rem;padding:.7rem;border:1px solid rgba(255,255,255,.05);background:#0003;animation:_ngcontent-%COMP%_fadeInUp .3s ease}.outcome-context.outcome-success[_ngcontent-%COMP%]{border-color:#00ff8040;background:#00ff800d}.outcome-context.outcome-success[_ngcontent-%COMP%]   .oc-chevron[_ngcontent-%COMP%]{color:#00ff80}.outcome-context.outcome-failure[_ngcontent-%COMP%]{border-color:#ff3c5040;background:#ff3c500d}.outcome-context.outcome-failure[_ngcontent-%COMP%]   .oc-chevron[_ngcontent-%COMP%]{color:#ff3c50}.outcome-context[_ngcontent-%COMP%]   .oc-chevron[_ngcontent-%COMP%]{font-size:.85rem;flex-shrink:0;margin-top:1px}.outcome-context[_ngcontent-%COMP%]   .oc-narrative[_ngcontent-%COMP%]{font-family:var(--font-mono);font-size:.7rem;color:var(--text-primary);line-height:1.55}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(8px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_resultPulse{0%,to{text-shadow:0 0 20px rgba(0,243,255,.6),0 0 40px rgba(0,243,255,.4),0 0 60px rgba(0,243,255,.2);transform:scale(1)}50%{text-shadow:0 0 30px rgba(0,243,255,.8),0 0 60px rgba(0,243,255,.6),0 0 90px rgba(0,243,255,.3);transform:scale(1.02)}}@keyframes _ngcontent-%COMP%_successPulse{0%,to{text-shadow:0 0 15px rgba(57,255,20,.6),0 0 30px rgba(57,255,20,.4),0 0 45px rgba(57,255,20,.2);transform:scale(1)}50%{text-shadow:0 0 25px rgba(57,255,20,.8),0 0 50px rgba(57,255,20,.6),0 0 75px rgba(57,255,20,.3);transform:scale(1.03)}}@keyframes _ngcontent-%COMP%_failPulse{0%,to{text-shadow:0 0 15px rgba(255,0,60,.6),0 0 30px rgba(255,0,60,.4),0 0 45px rgba(255,0,60,.2);transform:scale(1)}50%{text-shadow:0 0 25px rgba(255,0,60,.8),0 0 50px rgba(255,0,60,.6),0 0 75px rgba(255,0,60,.3);transform:scale(1.03)}}']})};var q_=["James","Mary","Robert","Patricia","John","Jennifer","Michael","Linda","David","Elizabeth","William","Barbara","Richard","Susan","Joseph","Jessica","Thomas","Sarah","Charles","Karen","Christopher","Nancy","Daniel","Lisa","Matthew","Betty","Anthony","Margaret","Mark","Sandra","Donald","Ashley","Steven","Kimberly","Paul","Emily","Andrew","Donna","Joshua","Michelle","Kenneth","Dorothy","Kevin","Carol","Brian","Amanda","George","Melissa","Timothy","Deborah","Klaus","Hans","Jean","Pierre","Ivan","Dmitry","Sato","Kenji","Dante","Marco"],W_=["Smith","Johnson","Williams","Brown","Jones","Garcia","Miller","Davis","Rodriguez","Martinez","Hernandez","Lopez","Gonzalez","Wilson","Anderson","Thomas","Taylor","Moore","Jackson","Martin","Lee","Perez","Thompson","White","Harris","Sanchez","Clark","Ramirez","Lewis","Robinson","Walker","Young","Allen","King","Wright","Scott","Torres","Nguyen","Hill","Flores","Green","Adams","Nelson","Baker","Hall","Rivera","Campbell","Mitchell","Carter","Roberts","Muller","Schmidt","Dubois","Leroy","Petrov","Ivanov","Tanaka","Yamamoto","Kayser","Ferrari"];function jf(){let n=q_[Math.floor(Math.random()*q_.length)],t=W_[Math.floor(Math.random()*W_.length)];return`${n} ${t}`}function pT(n,t){if(n&1){let e=T();s(0,"app-hud-window",1),O("close",function(){S(e);let r=h();return P(r.cancel())}),s(1,"div",2)(2,"div",3)(3,"div",4)(4,"span",5),d(5,">>"),c(),d(6," REGISTRY_INPUT "),c(),s(7,"div",6)(8,"label"),d(9,"CODENAME / NAME"),c(),s(10,"div",7)(11,"input",8),Oe("ngModelChange",function(r){S(e);let o=h();return we(o.tempNpc.name,r)||(o.tempNpc.name=r),P(r)}),c(),s(12,"button",9),O("click",function(){S(e);let r=h();return P(r.randomizeName())}),s(13,"span",5),d(14,"?"),c()()()(),s(15,"div",6)(16,"label"),d(17,"RELATIONSHIP TYPE"),c(),s(18,"div",10),d(19),ie(20,"uppercase"),c()(),s(21,"div",6)(22,"label"),d(23,"ORIGIN CONTEXT"),c(),s(24,"div",10),d(25),c()()(),s(26,"div",11)(27,"div",4)(28,"span",5),d(29,">>"),c(),d(30," PSYCH_PROFILE "),c(),s(31,"div",12)(32,"div",13)(33,"span",14),d(34,"ROLE:"),c(),s(35,"span",15),d(36),c()(),s(37,"div",13)(38,"span",14),d(39,"QUIRK:"),c(),s(40,"span",15),d(41),c()(),s(42,"div",13)(43,"span",14),d(44,"NATURE:"),c(),s(45,"span",15),d(46),c()(),s(47,"button",16),O("click",function(){S(e);let r=h();return P(r.randomizeDetails())}),d(48,"GENERATE_PROFILE"),c()(),s(49,"div",17)(50,"label"),d(51,"INTEL_NOTES"),c(),s(52,"textarea",18),Oe("ngModelChange",function(r){S(e);let o=h();return we(o.tempNpc.notes,r)||(o.tempNpc.notes=r),P(r)}),c()()()(),lt(53,19),s(54,"button",20),O("click",function(){S(e);let r=h();return P(r.cancel())}),d(55,"ABORT"),c(),s(56,"button",21),O("click",function(){S(e);let r=h();return P(r.save())}),d(57,"COMMIT_RECORD"),c(),dt(),c()}if(n&2){let e=h();v("isOpen",!0)("hasFooter",!0)("readoutTR","DB_REF: "+((e.tempNpc.id==null?null:e.tempNpc.id.substring(0,8))||"N/A"))("readoutBL","RELATION_TYPE: "+((e.tempNpc.type==null?null:e.tempNpc.type.toUpperCase())||"UNKNOWN")),p(11),Me("ngModel",e.tempNpc.name),p(8),x(he(20,12,e.tempNpc.type)),p(6),x(e.tempNpc.origin),p(11),x(e.tempNpc.role||"Unspecified"),p(5),x(e.tempNpc.quirk||"Unspecified"),p(5),x(e.tempNpc.nature||"Unspecified"),p(6),Me("ngModel",e.tempNpc.notes),p(4),v("disabled",!e.tempNpc.name)}}var xl=class n{npcService=C(Rt);request=le(()=>this.npcService.request());Math=Math;tempNpc={};constructor(){Ot(()=>{let t=this.npcService.request();t&&(this.tempNpc=E({},t.npc),this.tempNpc.name||(this.tempNpc.name=jf()))})}randomizeName(){this.tempNpc.name=jf()}randomizeDetails(){this.tempNpc.role=Yf(),this.tempNpc.quirk=Kf();let t=Math.floor(Math.random()*6)+1;this.tempNpc.nature=Wf[t],this.tempNpc.notes||(this.tempNpc.notes=`A ${this.tempNpc.role} who is ${this.tempNpc.quirk}.`)}save(){this.tempNpc.name&&this.npcService.complete(this.tempNpc)}cancel(){this.npcService.cancel()}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=G({type:n,selectors:[["app-npc-interaction"]],decls:1,vars:1,consts:[["title","PERSONNEL DOSSIER","width","800px","readoutTL","BIO_SCAN: ACTIVE","readoutBR","THREAT_LVL: STABLE",3,"isOpen","hasFooter","readoutTR","readoutBL","close",4,"ngIf"],["title","PERSONNEL DOSSIER","width","800px","readoutTL","BIO_SCAN: ACTIVE","readoutBR","THREAT_LVL: STABLE",3,"close","isOpen","hasFooter","readoutTR","readoutBL"],[1,"hud-content-layout"],[1,"hud-column","info-sec"],[1,"column-header"],[1,"prefix"],[1,"input-group"],[1,"input-with-action"],["type","text","placeholder","Enter name...",3,"ngModelChange","ngModel"],["title","Randomize Name",1,"btn-icon",3,"click"],[1,"static-val"],[1,"hud-column","detail-sec"],[1,"profile-details"],[1,"detail-row"],[1,"label"],[1,"val"],[1,"btn-outline","tiny",3,"click"],[1,"input-group","notes-group"],["placeholder","Add details about your interaction...",3,"ngModelChange","ngModel"],["footer",""],[1,"btn-cancel",3,"click"],[1,"btn-confirm",3,"click","disabled"]],template:function(e,i){e&1&&b(0,pT,58,14,"app-hud-window",0),e&2&&v("ngIf",i.request())},dependencies:[Z,ne,rt,fn,ni,Nn,ri,gt],styles:['.hud-content-layout[_ngcontent-%COMP%]{display:flex;gap:2rem;margin-bottom:2rem;width:100%}@media(max-width:768px){.hud-content-layout[_ngcontent-%COMP%]{flex-direction:column}}.hud-content-layout[_ngcontent-%COMP%]   .hud-column[_ngcontent-%COMP%]{flex:1;background:#00081099;border:1px solid rgba(0,243,255,.15);clip-path:polygon(6px 0,100% 0,calc(100% - 6px) 100%,0 100%);padding:1.5rem}.hud-content-layout[_ngcontent-%COMP%]   .hud-column[_ngcontent-%COMP%]   .column-header[_ngcontent-%COMP%]{font-family:var(--font-mono);color:var(--neon-cyan);border-bottom:1px solid rgba(0,243,255,.2);padding-bottom:.7rem;margin-bottom:1.2rem;font-size:.75rem;letter-spacing:2px;text-transform:uppercase}.hud-content-layout[_ngcontent-%COMP%]   .hud-column[_ngcontent-%COMP%]   .column-header[_ngcontent-%COMP%]   .prefix[_ngcontent-%COMP%]{color:var(--vivid-orange);margin-right:.5rem}.input-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.input-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-family:var(--font-mono);font-size:.72rem;color:var(--text-dim);margin-bottom:.6rem;letter-spacing:1px;text-transform:uppercase}.input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .input-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;background:#0006;border:1px solid rgba(0,243,255,.12);color:var(--text-main);font-family:var(--font-body);padding:.7rem .8rem;transition:all .2s ease}.input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .input-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--neon-cyan);box-shadow:0 0 12px #00f3ff40,inset 0 0 6px #00f3ff0d;background:#00141e4d}.input-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{height:100px;resize:vertical}.input-group[_ngcontent-%COMP%]   .static-val[_ngcontent-%COMP%]{font-family:var(--font-accent);color:var(--neon-cyan);font-size:1rem;letter-spacing:1.5px;text-transform:uppercase;padding:.5rem 0}.input-with-action[_ngcontent-%COMP%]{display:flex;gap:.5rem}.input-with-action[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1}.input-with-action[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{width:40px;background:#00f3ff14;border:1px solid rgba(0,243,255,.3);color:var(--neon-cyan);cursor:pointer;transition:all .2s ease;font-family:var(--font-mono);font-weight:700}.input-with-action[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]:hover{background:#00f3ff26;box-shadow:0 0 10px #00f3ff33;border-color:var(--neon-cyan)}.profile-details[_ngcontent-%COMP%]{background:#0003;padding:1rem;border:1px dashed rgba(0,243,255,.1);clip-path:polygon(4px 0,100% 0,calc(100% - 4px) 100%,0 100%);margin-bottom:1.5rem}.profile-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:.6rem 0;border-bottom:1px solid rgba(255,255,255,.05);font-family:var(--font-mono);font-size:.8rem}.profile-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:#ffffff80;letter-spacing:1px;text-transform:uppercase}.profile-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .val[_ngcontent-%COMP%]{color:var(--text-main);text-align:right}.profile-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .val[_ngcontent-%COMP%]:contains("Unspecified"){font-style:italic;opacity:.5;color:var(--text-dim)}.profile-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]:last-child{border-bottom:none}.profile-details[_ngcontent-%COMP%]   .btn-outline[_ngcontent-%COMP%]{width:100%;margin-top:1rem;padding:.6rem;background:transparent;border:1px dashed rgba(0,243,255,.3);color:#00f3ff99;font-family:var(--font-mono);font-size:.75rem;font-weight:600;cursor:pointer;transition:all .2s ease;letter-spacing:1px;text-transform:uppercase}.profile-details[_ngcontent-%COMP%]   .btn-outline[_ngcontent-%COMP%]:hover{border-style:solid;border-color:var(--neon-cyan);color:var(--neon-cyan);background:#00f3ff14;box-shadow:0 0 10px #00f3ff26}.notes-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{border-color:#00f3ff1f}.btn-cancel[_ngcontent-%COMP%]{padding:.7rem 2rem;background:transparent;border:2px solid var(--power-red);color:var(--power-red);font-family:var(--font-header);font-size:.75rem;font-weight:900;letter-spacing:3px;text-transform:uppercase;cursor:pointer;transition:all .3s cubic-bezier(.34,1.56,.64,1);clip-path:polygon(8px 0,100% 0,calc(100% - 8px) 100%,0 100%);position:relative;overflow:hidden;text-shadow:0 0 10px rgba(255,0,60,.5)}.btn-cancel[_ngcontent-%COMP%]:hover{background:#ff003c33;box-shadow:0 0 20px #ff003c99,0 0 40px #ff003c4d;border-color:#ff5c7c;transform:scale(1.05) translateY(-2px);letter-spacing:4px}.btn-cancel[_ngcontent-%COMP%]:active{background:#ff003c4d;transform:scale(.98)}.btn-confirm[_ngcontent-%COMP%]{padding:.7rem 2.5rem;background:#00f3ff14;border:2px solid var(--neon-cyan);color:var(--neon-cyan);font-family:var(--font-header);font-size:.75rem;font-weight:900;letter-spacing:3px;text-transform:uppercase;cursor:pointer;transition:all .3s cubic-bezier(.34,1.56,.64,1);clip-path:polygon(8px 0,100% 0,calc(100% - 8px) 100%,0 100%);position:relative;overflow:hidden;text-shadow:0 0 10px rgba(0,243,255,.5)}.btn-confirm[_ngcontent-%COMP%]:hover:not(:disabled){background:#00f3ff40;box-shadow:0 0 30px #00f3ffcc,0 0 60px #00f3ff66;border-color:#fff;color:#fff;transform:scale(1.08) translateY(-3px);text-shadow:0 0 20px rgb(0,243,255);letter-spacing:4px}.btn-confirm[_ngcontent-%COMP%]:active:not(:disabled){background:#00f3ff59;transform:scale(.96)}.btn-confirm[_ngcontent-%COMP%]:disabled{opacity:.2;cursor:not-allowed;box-shadow:none;transform:none;text-shadow:none;border-color:#00f3ff0d}']})};function fT(n,t){n&1&&M(0,"div",25)}function gT(n,t){n&1&&M(0,"div",25)}function mT(n,t){n&1&&M(0,"div",25)}function hT(n,t){n&1&&M(0,"div",25)}var Ml=class n{router=C(Ui);currentRoute=N("dossier");sub;ngOnInit(){this.updateRouteFromUrl(this.router.url),this.sub=this.router.events.pipe(Nt(t=>t instanceof kt)).subscribe(t=>{this.updateRouteFromUrl(t.urlAfterRedirects)})}ngOnDestroy(){this.sub?.unsubscribe()}updateRouteFromUrl(t){if(t.includes("dossier"))this.currentRoute.set("dossier");else if(t.includes("equipment"))this.currentRoute.set("equipment");else if(t.includes("vehicles"))this.currentRoute.set("vehicles");else if(t.includes("vessels"))this.currentRoute.set("vessels");else{let e=localStorage.getItem("mainNavSelectedRoute");e&&this.currentRoute.set(e)}}selectRoute(t){this.currentRoute.set(t),localStorage.setItem("mainNavSelectedRoute",t)}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=G({type:n,selectors:[["app-navigation-sidebar"]],decls:52,vars:12,consts:[[1,"nav-sidebar"],[1,"sidebar-glint"],[1,"nav-branding"],[1,"logo-box"],[1,"bracket"],[1,"logo-text"],[1,"title"],[1,"subtitle"],[1,"sys-version"],[1,"nav-sections","scrollable"],[1,"nav-section"],[1,"section-title"],[1,"title-text"],["routerLink","/dossier",1,"nav-item",3,"click"],["class","btn-indicator",4,"ngIf"],[1,"nav-code"],[1,"nav-name"],[1,"section-divider"],["routerLink","/equipment",1,"nav-item",3,"click"],["routerLink","/vehicles",1,"nav-item",3,"click"],["routerLink","/vessels",1,"nav-item",3,"click"],[1,"nav-footer"],[1,"footer-data"],[1,"footer-label"],[1,"status-indicator"],[1,"btn-indicator"]],template:function(e,i){e&1&&(s(0,"nav",0),M(1,"div",1),s(2,"div",2)(3,"div",3),M(4,"div",4),s(5,"div",5)(6,"h1",6),d(7,"TRAVELLER"),c(),s(8,"h2",7),d(9,"ARCHITECT"),c()()(),s(10,"div",8),d(11,"OS_VER://3.2.1"),c()(),s(12,"div",9)(13,"div",10)(14,"div",11)(15,"span",12),d(16,"// CORE_SYSTEM"),c()(),s(17,"button",13),O("click",function(){return i.selectRoute("dossier")}),b(18,fT,1,0,"div",14),s(19,"span",15),d(20,"CHR"),c(),s(21,"span",16),d(22,"CHARACTER"),c()()(),s(23,"div",10),M(24,"div",17),s(25,"div",11)(26,"span",12),d(27,"// INVENTORY"),c()(),s(28,"button",18),O("click",function(){return i.selectRoute("equipment")}),b(29,gT,1,0,"div",14),s(30,"span",15),d(31,"EQP"),c(),s(32,"span",16),d(33,"EQUIPMENT"),c()(),s(34,"button",19),O("click",function(){return i.selectRoute("vehicles")}),b(35,mT,1,0,"div",14),s(36,"span",15),d(37,"VHC"),c(),s(38,"span",16),d(39,"VEHICLES"),c()(),s(40,"button",20),O("click",function(){return i.selectRoute("vessels")}),b(41,hT,1,0,"div",14),s(42,"span",15),d(43,"VSL"),c(),s(44,"span",16),d(45,"VESSELS"),c()()()(),s(46,"div",21)(47,"div",22)(48,"span",23),d(49,"STATUS"),c(),s(50,"span",24),d(51,"ONLINE"),c()()()()),e&2&&(p(17),I("active",i.currentRoute()==="dossier"),p(),v("ngIf",i.currentRoute()==="dossier"),p(10),I("active",i.currentRoute()==="equipment"),p(),v("ngIf",i.currentRoute()==="equipment"),p(5),I("active",i.currentRoute()==="vehicles"),p(),v("ngIf",i.currentRoute()==="vehicles"),p(5),I("active",i.currentRoute()==="vessels"),p(),v("ngIf",i.currentRoute()==="vessels"))},dependencies:[Z,ne,Vc],styles:['[_nghost-%COMP%]{display:block;height:100%}.nav-sidebar[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;height:100%;background:linear-gradient(180deg,#080c12,#04060a);position:relative;font-family:Inter,sans-serif;overflow:hidden}.nav-sidebar[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background-image:linear-gradient(rgba(0,243,255,.03) 1px,transparent 1px),linear-gradient(90deg,rgba(0,243,255,.03) 1px,transparent 1px);background-size:20px 20px;pointer-events:none;z-index:1}.sidebar-glint[_ngcontent-%COMP%]{position:absolute;top:0;right:-1px;width:2px;height:100%;background:linear-gradient(180deg,transparent 0%,rgba(0,243,255,.5) 20%,transparent 100%);z-index:5}.nav-branding[_ngcontent-%COMP%]{padding:1.5rem 1.5rem 1rem;background:linear-gradient(180deg,rgba(0,243,255,.05) 0%,transparent 100%);border-bottom:1px solid rgba(0,243,255,.1);position:relative;z-index:2}.nav-branding[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-1px;left:0;width:40px;height:2px;background:var(--neon-cyan, #00f3ff);box-shadow:0 0 10px #00f3ff99}.logo-box[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;margin-bottom:.75rem}.logo-box[_ngcontent-%COMP%]   .bracket[_ngcontent-%COMP%]{width:16px;height:24px;border-left:2px solid #00f3ff;border-top:2px solid #00f3ff;position:relative}.logo-box[_ngcontent-%COMP%]   .bracket[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-4px;right:-4px;width:6px;height:6px;border-right:2px solid #00f3ff;border-bottom:2px solid #00f3ff}.logo-box[_ngcontent-%COMP%]   .logo-text[_ngcontent-%COMP%]{display:flex;flex-direction:column}.logo-box[_ngcontent-%COMP%]   .logo-text[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-family:var(--font-accent, "Rajdhani", sans-serif);font-size:1.1rem;font-weight:700;color:#fff;letter-spacing:4px;margin:0;line-height:1}.logo-box[_ngcontent-%COMP%]   .logo-text[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-family:var(--font-accent, "Rajdhani", sans-serif);font-size:1.1rem;font-weight:900;color:#00f3ff;letter-spacing:5px;margin:0;line-height:1;text-shadow:0 0 10px rgba(0,243,255,.5)}.sys-version[_ngcontent-%COMP%]{font-family:JetBrains Mono,monospace;font-size:.55rem;color:#ffffff80;letter-spacing:2px;background:#00f3ff1a;padding:.2rem .5rem;border-left:2px solid #00f3ff;display:inline-block}.nav-sections[_ngcontent-%COMP%]{flex:1;padding:2rem 1.5rem;display:flex;flex-direction:column;gap:2rem;position:relative;z-index:2;overflow-y:auto}.section-title[_ngcontent-%COMP%]{margin-bottom:1rem;font-family:JetBrains Mono,monospace;font-size:.65rem;color:#00f3ff99;letter-spacing:2px}.nav-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;width:100%;background:#000a1499;border:1px solid rgba(0,243,255,.15);color:#fff9;padding:.9rem 1.25rem;clip-path:polygon(0 0,calc(100% - 10px) 0,100% 10px,100% 100%,0 100%);cursor:pointer;transition:all .2s cubic-bezier(.2,.8,.2,1);position:relative;text-align:left;margin-bottom:.5rem;outline:none}.btn-indicator[_ngcontent-%COMP%]{position:absolute;left:0;top:0;height:100%;width:3px;background:#00f3ff;box-shadow:0 0 10px #00f3ff99}.nav-code[_ngcontent-%COMP%]{font-family:JetBrains Mono,monospace;font-size:.75rem;font-weight:700;color:#00f3ff80;min-width:35px;transition:all .2s ease}.nav-name[_ngcontent-%COMP%]{font-family:JetBrains Mono,monospace;font-size:.85rem;font-weight:600;letter-spacing:1px;flex:1;text-transform:uppercase}.nav-item[_ngcontent-%COMP%]:hover{background:#00f3ff14;border-color:#00f3ff66;color:#fff;padding-left:1.5rem}.nav-item[_ngcontent-%COMP%]:hover   .nav-code[_ngcontent-%COMP%]{color:#00f3ff}.nav-item.active[_ngcontent-%COMP%]{background:linear-gradient(90deg,#00f3ff33,#0032641a);color:#fff;border-color:#00f3ff80;box-shadow:inset 0 0 20px #00f3ff1a}.nav-item.active[_ngcontent-%COMP%]   .nav-code[_ngcontent-%COMP%]{color:#00f3ff;text-shadow:0 0 8px rgba(0,243,255,.5)}.section-divider[_ngcontent-%COMP%]{height:1px;background:linear-gradient(90deg,rgba(0,243,255,.3) 0%,transparent 100%);margin-bottom:1.5rem}.nav-footer[_ngcontent-%COMP%]{padding:1.25rem 1.5rem;border-top:1px solid rgba(0,243,255,.1);background:#0006;position:relative;z-index:2}.footer-data[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;font-family:JetBrains Mono,monospace;font-size:.65rem;letter-spacing:1px}.footer-label[_ngcontent-%COMP%]{color:#fff6}.status-indicator[_ngcontent-%COMP%]{color:#0f4;display:flex;align-items:center;gap:.5rem}.status-indicator[_ngcontent-%COMP%]:before{content:"";display:block;width:6px;height:6px;background:#0f4;border-radius:50%;box-shadow:0 0 8px #0f49;animation:_ngcontent-%COMP%_status-pulse 2s infinite}@keyframes _ngcontent-%COMP%_status-pulse{0%,to{opacity:1}50%{opacity:.4}}']})};function vT(n,t){if(n&1&&(s(0,"div",8),d(1),c()),n&2){let e=t.$implicit;p(),w(" ",e," ")}}function _T(n,t){if(n&1){let e=T();s(0,"div",2)(1,"div",3)(2,"h3"),d(3,"Debug Console"),c(),s(4,"button",4),O("click",function(){S(e);let r=h();return P(r.toggleDebug())}),d(5,"\xD7"),c()(),s(6,"div",5)(7,"section")(8,"h4"),d(9,"Character Log"),c(),s(10,"div",6),b(11,vT,2,1,"div",7),c()(),s(12,"section")(13,"h4"),d(14,"Character Data"),c(),s(15,"pre"),d(16),ie(17,"json"),c()()()()}if(n&2){let e=h();p(11),v("ngForOf",e.characterService.character().history),p(5),x(he(17,2,e.characterService.character()))}}var ya=class n{characterService=C(de);diceService=C(Ye);isOpen=N(!1);toggleDebug(){this.isOpen.update(t=>!t)}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=G({type:n,selectors:[["app-debug-floater"]],decls:2,vars:1,consts:[[1,"debug-container"],["class","debug-overlay fade-in",4,"ngIf"],[1,"debug-overlay","fade-in"],[1,"debug-header"],[1,"close-btn",3,"click"],[1,"debug-content"],[1,"log-list"],["class","log-item",4,"ngFor","ngForOf"],[1,"log-item"]],template:function(e,i){e&1&&(s(0,"div",0),b(1,_T,18,4,"div",1),c()),e&2&&(p(),v("ngIf",i.isOpen()))},dependencies:[Z,_e,ne,Np],styles:[".debug-fab[_ngcontent-%COMP%]{position:fixed;bottom:20px;right:20px;width:50px;height:50px;border-radius:50%;background:#f05;color:#fff;border:none;font-size:24px;cursor:pointer;z-index:9999;box-shadow:0 4px 10px #00000080;transition:transform .2s}.debug-fab[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.debug-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:#000000d9;z-index:9998;display:flex;flex-direction:column;padding:2rem;box-sizing:border-box;color:#0fc;font-family:monospace}.debug-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid #00ffcc;margin-bottom:1rem}.close-btn[_ngcontent-%COMP%]{background:none;border:none;color:#f05;font-size:2rem;cursor:pointer}.debug-content[_ngcontent-%COMP%]{flex:1;overflow-y:auto;display:flex;gap:2rem}section[_ngcontent-%COMP%]{flex:1;background:#ffffff0d;padding:1rem;border-radius:8px;overflow:auto}pre[_ngcontent-%COMP%]{white-space:pre-wrap;word-wrap:break-word;font-size:.85rem}.log-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem;max-height:500px}.log-item[_ngcontent-%COMP%]{font-size:.8rem;border-bottom:1px solid rgba(255,255,255,.1);padding-bottom:2px}"]})};function CT(n,t){n&1&&M(0,"app-dice-roller")}function yT(n,t){n&1&&M(0,"app-npc-interaction")}function bT(n,t){if(n&1){let e=T();s(0,"div",17)(1,"div",18),d(2,"// SUBSYSTEMS"),c(),s(3,"div",19),O("click",function(){S(e);let r=h();return P(r.openEquipmentSelector())}),s(4,"span",20),d(5,"\u{1F4E6}"),c(),s(6,"span",21),d(7,"EQUIPMENT_MATRIX"),c()(),s(8,"div",19),O("click",function(){S(e);let r=h();return P(r.openWeaponSelector())}),s(9,"span",20),d(10,"\u{1F52B}"),c(),s(11,"span",21),d(12,"WEAPON_DB"),c()(),s(13,"div",19),O("click",function(){S(e);let r=h();return P(r.openArmorSelector())}),s(14,"span",20),d(15,"\u{1F6E1}\uFE0F"),c(),s(16,"span",21),d(17,"ARMOR_DB"),c()(),s(18,"div",18),d(19,"// DEV_TOOLS"),c(),s(20,"div",19),O("click",function(){S(e);let r=h();return P(r.toggleDebugMode())}),s(21,"span",20),d(22),c(),s(23,"span",21),d(24,"DEBUG_MODE"),c()(),s(25,"div",19),O("click",function(){S(e);let r=h();return P(r.openDebug())}),s(26,"span",20),d(27,"\u{1F41E}"),c(),s(28,"span",21),d(29,"SYS_CONSOLE"),c()(),s(30,"div",19),O("click",function(){S(e);let r=h();return P(r.toggleSystemMenu())}),s(31,"span",20),d(32,"\u2699"),c(),s(33,"span",21),d(34,"CONFIG"),c()()()}if(n&2){let e=h();p(20),I("active",e.diceService.debugMode()),p(2),x(e.diceService.debugMode()?"\u25A3":"\u25A1")}}var Ol=class n{diceService=C(Ke);npcService=C(Rt);benefitChoiceService=C(Br);showSystemMenu=N(!1);debugFloater;ngOnInit(){localStorage.getItem("traveller-debug-mode")==="true"&&this.diceService.debugMode.set(!0)}toggleSystemMenu(){this.showSystemMenu.update(t=>!t)}toggleDebugMode(){this.diceService.debugMode.update(t=>!t),localStorage.setItem("traveller-debug-mode",String(this.diceService.debugMode()))}openDebug(){this.debugFloater?.toggleDebug(),this.showSystemMenu.set(!1)}async openEquipmentSelector(){await this.benefitChoiceService.selectEquipment("EQUIPMENT SELECTOR",["weapon_melee","weapon_firearm","weapon_laser","weapon_plasma","armor_civilian","armor_military","gear_tools","gear_special","gear_medical","gear_comm","vehicle"],"Browse and add equipment to your character."),this.showSystemMenu.set(!1)}async openWeaponSelector(){await this.benefitChoiceService.selectWeapon("any"),this.showSystemMenu.set(!1)}async openArmorSelector(){await this.benefitChoiceService.selectArmor("any"),this.showSystemMenu.set(!1)}onDocumentClick(t){let e=t.target,i=document.querySelector(".app-header");i&&!i.contains(e)&&this.showSystemMenu.set(!1)}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=G({type:n,selectors:[["app-root"]],viewQuery:function(e,i){if(e&1&&ln(ya,5),e&2){let r;ut(r=pt())&&(i.debugFloater=r.first)}},hostBindings:function(e,i){e&1&&O("click",function(o){return i.onDocumentClick(o)},ju)},decls:23,vars:7,consts:[[1,"app-shell"],[1,"dice-layer"],[4,"ngIf"],[1,"sys-sidebar"],[1,"sys-workspace"],[1,"sys-topbar"],[1,"topbar-left"],[1,"connection-status"],[1,"status-dot"],[1,"status-text"],[1,"topbar-right"],[1,"header-actions"],[1,"system-menu-trigger",3,"click"],["viewBox","0 0 24 24","fill","none",1,"icon-svg"],["d","M4 6H20M4 12H20M4 18H20","stroke","currentColor","stroke-width","2"],["class","system-dropdown",4,"ngIf"],[1,"sys-content"],[1,"system-dropdown"],[1,"menu-divider"],[1,"menu-item",3,"click"],[1,"item-icon"],[1,"item-label"]],template:function(e,i){e&1&&(s(0,"div",0)(1,"div",1),b(2,CT,1,0,"app-dice-roller",2)(3,yT,1,0,"app-npc-interaction",2),c(),M(4,"app-navigation-sidebar",3),s(5,"div",4)(6,"header",5)(7,"div",6)(8,"div",7),M(9,"span",8),s(10,"span",9),d(11,"NODE: ALPHA-7 // UPLINK_SECURE"),c()()(),s(12,"nav",10)(13,"div",11)(14,"button",12),O("click",function(){return i.toggleSystemMenu()}),s(15,"span"),d(16,"SYSTEM_01"),c(),nt(),s(17,"svg",13),M(18,"path",14),c()(),b(19,bT,35,3,"div",15),c()()(),at(),s(20,"main",16),M(21,"router-outlet"),c()(),M(22,"app-debug-floater"),c()),e&2&&(p(),I("active",i.diceService.request()||i.npcService.request()),p(),v("ngIf",i.diceService.request()),p(),v("ngIf",i.npcService.request()),p(11),I("active",i.showSystemMenu()),p(5),v("ngIf",i.showSystemMenu()))},dependencies:[sa,Z,ne,bl,xl,Ml,ya],styles:['.app-shell[_ngcontent-%COMP%]{height:100vh;height:100dvh;background-color:var(--bg-pitch);display:flex;overflow:hidden}.sys-sidebar[_ngcontent-%COMP%]{width:280px;flex-shrink:0;height:100%;z-index:50;border-right:1px solid rgba(0,243,255,.15);box-shadow:4px 0 20px #00000080;background:#080c12f2}.sys-workspace[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-width:0;height:100%;position:relative}.sys-topbar[_ngcontent-%COMP%]{height:60px;flex-shrink:0;display:flex;align-items:center;justify-content:space-between;padding:0 1.5rem;background:linear-gradient(180deg,#0a0f14fa,#05080cf2);border-bottom:1px solid rgba(0,243,255,.15);position:relative;z-index:40;box-shadow:0 4px 15px #0006;-webkit-backdrop-filter:blur(15px);backdrop-filter:blur(15px)}.sys-topbar[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-1px;left:0;width:300px;height:2px;background:linear-gradient(90deg,var(--neon-cyan) 0%,transparent 100%);box-shadow:0 0 10px #00f3ff66}.sys-topbar[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:repeating-linear-gradient(0deg,transparent,transparent 2px,rgba(0,0,0,.2) 2px,rgba(0,0,0,.2) 4px);pointer-events:none;z-index:1}.sys-topbar[_ngcontent-%COMP%]   .topbar-left[_ngcontent-%COMP%]{position:relative;z-index:2}.sys-topbar[_ngcontent-%COMP%]   .topbar-left[_ngcontent-%COMP%]   .connection-status[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;font-family:JetBrains Mono,monospace;font-size:.65rem;color:#00f3ffb3;background:#00f3ff0d;padding:.4rem .8rem;border:1px solid rgba(0,243,255,.2);border-radius:2px}.sys-topbar[_ngcontent-%COMP%]   .topbar-left[_ngcontent-%COMP%]   .connection-status[_ngcontent-%COMP%]   .status-dot[_ngcontent-%COMP%]{width:6px;height:6px;background:#0f4;border-radius:50%;box-shadow:0 0 8px #0f4c;animation:_ngcontent-%COMP%_statusDotPulse 2s infinite}.sys-topbar[_ngcontent-%COMP%]   .topbar-right[_ngcontent-%COMP%]{position:relative;z-index:2}.sys-topbar[_ngcontent-%COMP%]   .topbar-right[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{position:relative}.sys-topbar[_ngcontent-%COMP%]   .topbar-right[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .system-menu-trigger[_ngcontent-%COMP%]{background:#000a1499;border:1px solid rgba(0,243,255,.3);color:var(--neon-cyan);font-family:JetBrains Mono,monospace;font-size:.75rem;font-weight:700;padding:.5rem 1rem;cursor:pointer;display:flex;align-items:center;gap:.75rem;text-transform:uppercase;letter-spacing:2px;transition:all .2s ease;clip-path:polygon(10px 0,100% 0,100% calc(100% - 10px),calc(100% - 10px) 100%,0 100%,0 10px)}.sys-topbar[_ngcontent-%COMP%]   .topbar-right[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .system-menu-trigger[_ngcontent-%COMP%]   .icon-svg[_ngcontent-%COMP%]{width:16px;height:16px}.sys-topbar[_ngcontent-%COMP%]   .topbar-right[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .system-menu-trigger[_ngcontent-%COMP%]:hover, .sys-topbar[_ngcontent-%COMP%]   .topbar-right[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .system-menu-trigger.active[_ngcontent-%COMP%]{background:#00f3ff26;border-color:var(--neon-cyan);color:#fff;box-shadow:0 0 15px #00f3ff33}.sys-topbar[_ngcontent-%COMP%]   .topbar-right[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .system-dropdown[_ngcontent-%COMP%]{position:absolute;top:calc(100% + 15px);right:0;background:#0a0f14f2;border:1px solid rgba(0,243,255,.3);min-width:260px;z-index:1000;box-shadow:0 15px 40px #000c;-webkit-backdrop-filter:blur(15px);backdrop-filter:blur(15px);animation:_ngcontent-%COMP%_hudFadeIn .2s cubic-bezier(.2,.8,.2,1);clip-path:polygon(0 0,100% 0,100% calc(100% - 15px),calc(100% - 15px) 100%,0 100%)}.sys-topbar[_ngcontent-%COMP%]   .topbar-right[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .system-dropdown[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:2px;background:var(--neon-cyan);box-shadow:0 0 15px #00f3ff99}.sys-topbar[_ngcontent-%COMP%]   .topbar-right[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .system-dropdown[_ngcontent-%COMP%]   .menu-divider[_ngcontent-%COMP%]{padding:1rem 1.25rem .5rem;color:#00f3ff66;font-family:JetBrains Mono,monospace;font-size:.6rem;letter-spacing:2px;text-transform:uppercase}.sys-topbar[_ngcontent-%COMP%]   .topbar-right[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .system-dropdown[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]{padding:.8rem 1.25rem;color:#ffffffb3;font-family:JetBrains Mono,monospace;font-size:.75rem;cursor:pointer;display:flex;align-items:center;gap:1rem;transition:all .2s;border-left:2px solid transparent}.sys-topbar[_ngcontent-%COMP%]   .topbar-right[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .system-dropdown[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .item-icon[_ngcontent-%COMP%]{font-size:1rem;opacity:.5;transition:all .2s}.sys-topbar[_ngcontent-%COMP%]   .topbar-right[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .system-dropdown[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:hover, .sys-topbar[_ngcontent-%COMP%]   .topbar-right[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .system-dropdown[_ngcontent-%COMP%]   .menu-item.active[_ngcontent-%COMP%]{background:linear-gradient(90deg,rgba(0,243,255,.1) 0%,transparent 100%);color:#fff;border-left:2px solid var(--neon-cyan)}.sys-topbar[_ngcontent-%COMP%]   .topbar-right[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .system-dropdown[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:hover   .item-icon[_ngcontent-%COMP%], .sys-topbar[_ngcontent-%COMP%]   .topbar-right[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .system-dropdown[_ngcontent-%COMP%]   .menu-item.active[_ngcontent-%COMP%]   .item-icon[_ngcontent-%COMP%]{opacity:1;text-shadow:0 0 5px var(--neon-cyan-glow)}.sys-content[_ngcontent-%COMP%]{flex:1;min-height:0;overflow:auto;position:relative;background:var(--bg-pitch)}.dice-layer[_ngcontent-%COMP%]{position:fixed;inset:0;z-index:9999;pointer-events:none}.dice-layer.active[_ngcontent-%COMP%]{pointer-events:auto}@keyframes _ngcontent-%COMP%_statusDotPulse{0%,to{opacity:1;transform:scale(1)}50%{opacity:.5;transform:scale(.8)}}@keyframes _ngcontent-%COMP%_hudFadeIn{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}']})};zp(Ol,G_).catch(n=>console.error(n));
