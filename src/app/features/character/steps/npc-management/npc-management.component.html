<div class="npc-container">
    <app-step-header stepSymbol="BIO" stepNumber="07" superLabel="INTEL_NETWORK_V1.2" topLabel="SOCIAL_LINKS"
        title="RELATIONSHIP_MANAGEMENT" subtitle="REVIEW_AND_IDENTIFY_CONTACTS_ALLIES_AND_ENEMIES">
    </app-step-header>

    <div class="hud-module info">
        <div class="corner-detail tl"></div>
        <div class="corner-detail tr"></div>
        <div class="corner-detail bl"></div>
        <div class="corner-detail br"></div>
        <div class="hud-box-header">
            <span class="index">INTEL_01</span>
            <h3>OPERATIONAL_NETWORK_OVERVIEW</h3>
        </div>
        <div class="hud-content">
            <p class="description">
                Your career and life events have generated a network of contacts. 
                Identify these individuals to ground your character in the 2300AD universe.
            </p>
        </div>
    </div>

    <div class="contact-roster">
        <div class="cr-header">
            <span class="crh-type">TYPE</span>
            <span class="crh-name">DESIGNATION</span>
            <span class="crh-origin">ORIGIN_LOG</span>
            <span class="crh-notes">INTEL_NOTES</span>
            <span class="crh-act">ACTIONS</span>
        </div>

        <div class="cr-row" *ngFor="let npc of characters().npcs; let i = index"
            [class.cr-ally]="npc.type === 'ally'"
            [class.cr-rival]="npc.type === 'rival'"
            [class.cr-enemy]="npc.type === 'enemy'">
            <div class="cr-strip">
                <div class="cr-type-cell">
                    <span class="cr-led"></span>
                    <span class="cr-type-tag">{{ npc.type | uppercase }}</span>
                </div>
                <span class="cr-name">{{ npc.name }}</span>
                <span class="cr-origin">{{ npc.origin }}</span>
                <span class="cr-notes-clip">{{ npc.notes || '—' }}</span>
                <div class="cr-actions">
                    <button class="cr-btn" (click)="editNpc(npc); $event.stopPropagation()">EDIT</button>
                    <button class="cr-btn danger" (click)="removeNpc(npc.id); $event.stopPropagation()">DEL</button>
                </div>
            </div>
        </div>

        <div *ngIf="characters().npcs.length === 0" class="cr-empty">
            <span class="cr-empty-icon">◈</span>
            <span class="cr-empty-text">[ NO_ACTIVE_RELATIONSHIPS_DETECTED ]</span>
            <span class="cr-empty-sub">Proceed to finalize character biometrics.</span>
        </div>
    </div>
</div>
