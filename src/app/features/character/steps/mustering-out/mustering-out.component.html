<div class="mustering-container">
    <app-step-header 
        stepSymbol="SEC" 
        stepNumber="07" 
        superLabel="SERVICE_LIQUIDATION_V3.0"
        topLabel="TERMINATION_SUMMARY"
        title="SERVICE_TERMINATION_PROTOCOL" 
        subtitle="MUSTER_OUT_ROCEEDING // PENSION_CALCULATION: Â¤{{ pension() | number }}">
    </app-step-header>

    <div class="hud-module info">
        <div class="corner-detail tl"></div>
        <div class="corner-detail tr"></div>
        <div class="corner-detail bl"></div>
        <div class="corner-detail br"></div>
        <div class="hud-box-header">
            <span class="index">MT_01</span>
            <h3>SERVICE_TERM_METRICS</h3>
        </div>
        <div class="hud-content">
            <div class="tactical-row">
                <div class="t-item">
                    <span class="t-label">CAREER_DURATION</span>
                    <span class="t-val">{{ character().careerHistory.length }} TERMS</span>
                </div>
                <div class="t-item">
                    <span class="t-label">RETIREMENT_PENSION</span>
                    <span class="t-val">{{ pension() > 0 ? 'LVL_0' + pension() : 'NONE' }}</span>
                </div>
                <div class="t-item">
                    <span class="t-label">BENEFIT_VECTORS_AVAIL</span>
                    <span class="t-val highlight">{{ totalRolls() - rollsUsed() }}</span>
                </div>
            </div>

            <div class="hud-alert info" *ngIf="rollsUsed() < totalRolls()">
                <span class="hud-label-vivid">[ PENDING_BENEFIT_DISTRIBUTION ]</span>
                <p>Select acquisition vector for military assets or liquid equity.</p>
            </div>
        </div>
    </div>

    <div class="action-area" *ngIf="rollsUsed() < totalRolls()">
        <div class="benefit-selector-grid">
            <button class="vector-btn cash" (click)="rollBenefit('Cash')" [disabled]="cashRolls() >= maxCashRolls">
                <div class="corner-detail tl"></div>
                <div class="corner-detail tr"></div>
                <span class="v-label">EQUITY_LIQUIDATION</span>
                <span class="v-desc">Cash benefit acquisition. Limit: {{ cashRolls() }}/3</span>
                <div class="benefit-preview" *ngIf="currentCareerDef()">
                    <div class="benefit-item" *ngFor="let b of currentCareerDef()?.musteringOutCash; let i = index">
                        <span class="num">{{i+1}}</span> {{b | number}}
                    </div>
                </div>
            </button>

            <button class="vector-btn material" (click)="rollBenefit('Material')">
                <div class="corner-detail tl"></div>
                <div class="corner-detail tr"></div>
                <span class="v-label">ASSET_REQUISITION</span>
                <span class="v-desc">Materials, Ship Shares, or Augmentations.</span>
                <div class="benefit-preview" *ngIf="currentCareerDef()">
                    <div class="benefit-item" *ngFor="let b of currentCareerDef()?.musteringOutBenefits; let i = index">
                        <span class="num">{{i+1}}</span> {{b}}
                    </div>
                </div>
            </button>
        </div>
    </div>

    <div class="hud-module status" [class.empty]="benefitsLog().length === 0">
        <div class="corner-detail tl"></div>
        <div class="corner-detail tr"></div>
        <div class="corner-detail bl"></div>
        <div class="corner-detail br"></div>
        <div class="hud-box-header">
            <span class="index">MT_02</span>
            <h3>ACQUIRED_BENEFIT_LEDGER</h3>
        </div>
        <div class="hud-content">
            <div class="benefits-log-terminal">
                <div class="log-entry" *ngFor="let item of benefitsLog()">
                    <span class="dot"></span>
                    <span class="text">{{ item }}</span>
                </div>
                <div class="empty-state" *ngIf="benefitsLog().length === 0">
                    [ NO_RECORDS_FOUND ]
                </div>
            </div>
        </div>
    </div>

</div>